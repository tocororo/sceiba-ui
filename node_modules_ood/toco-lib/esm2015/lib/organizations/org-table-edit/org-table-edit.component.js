/**
 * @fileoverview added by tsickle
 * Generated from: lib/organizations/org-table-edit/org-table-edit.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild } from '@angular/core';
import { Router, ActivatedRoute } from '@angular/router';
import { map } from 'rxjs/operators';
import { SortDirection } from '../../core/public-api';
import { ENDPOINT_APIS, OrganizationService } from '../../backend/public-api';
import { TableComponent, CellContentWrap, TextAlign, TextInputAppearance, IconValue, IconSource, HintPosition, HintValue, ContentPosition, InputTextComponent } from '../../forms/public-api';
export class OrgTableEditComponent {
    /**
     * @param {?} _router
     * @param {?} _activatedRoute
     * @param {?} _organizationService
     */
    constructor(_router, _activatedRoute, _organizationService) {
        this._router = _router;
        this._activatedRoute = _activatedRoute;
        this._organizationService = _organizationService;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /* Sets an initial search value. */
        //this._inputSearch.formControl.setValue('cl');
        /***************************/
        // this.searchContent = this._initSearchContent();
        this.tableContent = this._initTableContent();
        /***************************/
        // this._tableControl.page.subscribe((value) => console.log('page', value));
    }
    /**
     * @private
     * @return {?}
     */
    _initSearchContent() {
        return {
            'formControl': InputTextComponent.getFormControlByDefault(),
            'width': '65%',
            'label': 'Write a text to search',
            'controlType': InputTextComponent,
            'textAlign': TextAlign.left,
            'ariaLabel': 'Search',
            'appearance': TextInputAppearance.outline,
            'prefixIcon': new IconValue(IconSource.external, ContentPosition.prefix, 'search'),
            'startHint': new HintValue(HintPosition.start, 'Searches when typing stops.')
        };
    }
    /**
     * @private
     * @return {?}
     */
    _initTableContent() {
        return {
            'columnsObjectProperty': ['name', 'status', 'email_address'],
            //'columnsObjectProperty': ['id', 'name', 'registrationDate'],
            'columnsHeaderText': ['Nombre', 'Estatus', 'DirecciÃ³n de Correo'],
            //'columnsHeaderText': ['id', 'name', 'registrationDate'],
            'columnsWidth': ['60%', '22%', '18%'],
            'columnContentWrap': [CellContentWrap.ellipsis, CellContentWrap.ellipsis, CellContentWrap.responsible],
            'createCssClassesForRow': (/**
             * @param {?} rowData
             * @return {?}
             */
            (rowData) => {
                return {
                    //'new-release': rowData['email_address'],
                    'selected-row': (rowData[this.tableContent.propertyNameToIdentify]) == this._tableControl.selectedRow
                };
            }),
            'propertyNameToIdentify': 'id',
            //'propertyNameToIdentify': 'id',
            // 'filter': {
            //     'search': this._inputSearch,
            //     //'registration': undefined
            // },
            'sort': {
                'active': 'id',
                'direction': SortDirection.desc
            },
            'pageIndex': 0,
            'pageSize': 5,
            'pageSizeOptions': [5, 10, 20, 50],
            //'hidePageSize': true,
            'showFirstLastButtons': true,
            'endpoint': this._getMySources.bind(this),
            //'endpoint': this._userService.page.bind(this._userService),
            actions: [
                { icon: 'visibility', route: 'ver', tooltip: 'Ver' },
                { icon: 'edit', route: 'editar', tooltip: 'Editar' },
            ]
        };
    }
    /**
     * @private
     * @param {?} pageRequest
     * @return {?}
     */
    _getMySources(pageRequest) {
        return this._organizationService.get(ENDPOINT_APIS.organizations, []).pipe(map((/**
         * @param {?} response
         * @return {?}
         */
        (response) => {
            console.log('Organizations Response: ', response);
            // if (response && response.status != ResponseStatus.ERROR){
            return {
                'data': response,
                'totalData': response.length,
                'pageIndex': pageRequest.paginator.pageIndex,
                'pageSize': pageRequest.paginator.pageSize
            };
            // }
        })));
    }
    /**
     * @return {?}
     */
    doOperation() {
        this._router.navigate(['organizaciones/adicionar']);
    }
}
OrgTableEditComponent.decorators = [
    { type: Component, args: [{
                selector: 'toco-org-table-edit',
                template: "\n<!-- <container-simple [content]=\"identifiersContent\"></container-simple> -->\n<!-- <container-simple [content]=\"identifiersContent_Complex\"></container-simple> -->\n\n<div [ngStyle]=\"{'margin': '1em 0 1em 0'}\">\n    <button mat-raised-button color=\"primary\" (click)=\"doOperation()\">Add Organization</button>\n    <!-- <input-text #input_search [content]=\"searchContent\"></input-text> -->\n  </div>\n  \n  <!-- <toco-table></toco-table> -->\n  <toco-table [content]=\"tableContent\"></toco-table>\n  ",
                styles: [""]
            }] }
];
/** @nocollapse */
OrgTableEditComponent.ctorParameters = () => [
    { type: Router },
    { type: ActivatedRoute },
    { type: OrganizationService }
];
OrgTableEditComponent.propDecorators = {
    _tableControl: [{ type: ViewChild, args: [TableComponent, { static: true },] }]
};
if (false) {
    /**
     * Contains the content of the identifiers section.
     * @type {?}
     */
    OrgTableEditComponent.prototype.identifiersContent;
    /**
     * The sources list.
     * Use this field to initialize only; to change value use the `_tableControl` field.
     * @type {?}
     */
    OrgTableEditComponent.prototype.tableContent;
    /**
     * @type {?}
     * @private
     */
    OrgTableEditComponent.prototype._tableControl;
    /**
     * @type {?}
     * @private
     */
    OrgTableEditComponent.prototype._router;
    /**
     * @type {?}
     * @private
     */
    OrgTableEditComponent.prototype._activatedRoute;
    /**
     * @type {?}
     * @private
     */
    OrgTableEditComponent.prototype._organizationService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JnLXRhYmxlLWVkaXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vdG9jby1saWIvIiwic291cmNlcyI6WyJsaWIvb3JnYW5pemF0aW9ucy9vcmctdGFibGUtZWRpdC9vcmctdGFibGUtZWRpdC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFVLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RCxPQUFPLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRXpELE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVyQyxPQUFPLEVBQWUsYUFBYSxFQUFxQixNQUFNLHVCQUF1QixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxhQUFhLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUU5RSxPQUFPLEVBQWdCLGNBQWMsRUFBRSxlQUFlLEVBQWdCLFNBQVMsRUFDM0UsbUJBQW1CLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFDbEUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQU96RSxNQUFNLE9BQU8scUJBQXFCOzs7Ozs7SUF5QjlCLFlBQTJCLE9BQWUsRUFBVSxlQUErQixFQUFVLG9CQUF5QztRQUEzRyxZQUFPLEdBQVAsT0FBTyxDQUFRO1FBQVUsb0JBQWUsR0FBZixlQUFlLENBQWdCO1FBQVUseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFxQjtJQUV2SSxDQUFDOzs7O0lBRUksUUFBUTtRQUVSLG1DQUFtQztRQUNuQywrQ0FBK0M7UUFFL0MsNkJBQTZCO1FBRTdCLGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRTdDLDZCQUE2QjtRQUU3Qiw0RUFBNEU7SUFDaEYsQ0FBQzs7Ozs7SUFFTyxrQkFB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SUQsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxxQkFBcUI7Z0JBQy9CLDhnQkFBOEM7O2FBRS9DOzs7O1lBZlEsTUFBTTtZQUFFLGNBQWM7WUFLUCxtQkFBbUI7Ozs0QkFpQ3RDLFNBQVMsU0FBQyxjQUFjLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFOzs7Ozs7O0lBakIzQyxtREFBNEM7Ozs7OztJQWU1Qyw2Q0FBdUM7Ozs7O0lBRXZDLDhDQUNzQzs7Ozs7SUFFbkIsd0NBQXVCOzs7OztJQUFFLGdEQUF1Qzs7Ozs7SUFBRSxxREFBaUQiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlciwgQWN0aXZhdGVkUm91dGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBVc2VyU2VydmljZSwgU29ydERpcmVjdGlvbiwgUGFnZVJlcXVlc3QsIFBhZ2UgfSBmcm9tICcuLi8uLi9jb3JlL3B1YmxpYy1hcGknO1xuaW1wb3J0IHsgRU5EUE9JTlRfQVBJUywgT3JnYW5pemF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL2JhY2tlbmQvcHVibGljLWFwaSc7XG5pbXBvcnQgeyBPcmdhbml6YXRpb24gfSBmcm9tICcuLi8uLi9lbnRpdGllcy9wdWJsaWMtYXBpJztcbmltcG9ydCB7IFRhYmxlQ29udGVudCwgVGFibGVDb21wb25lbnQsIENlbGxDb250ZW50V3JhcCwgSW5wdXRDb250ZW50LCBUZXh0QWxpZ24sIFxuICAgIFRleHRJbnB1dEFwcGVhcmFuY2UsIEljb25WYWx1ZSwgSWNvblNvdXJjZSwgSGludFBvc2l0aW9uLCBIaW50VmFsdWUsIENvbnRlbnRQb3NpdGlvbiwgXG4gICAgQ29udGFpbmVyQ29udGVudCwgSW5wdXRUZXh0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZm9ybXMvcHVibGljLWFwaSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RvY28tb3JnLXRhYmxlLWVkaXQnLFxuICB0ZW1wbGF0ZVVybDogJy4vb3JnLXRhYmxlLWVkaXQuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9vcmctdGFibGUtZWRpdC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE9yZ1RhYmxlRWRpdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICAvKipcbiAgICAgKiBDb250YWlucyB0aGUgY29udGVudCBvZiB0aGUgaWRlbnRpZmllcnMgc2VjdGlvbi4gXG4gICAgICovXG4gICAgcHVibGljIGlkZW50aWZpZXJzQ29udGVudDogQ29udGFpbmVyQ29udGVudDtcbiAgICAvLyBwdWJsaWMgaWRlbnRpZmllcnNDb250ZW50X0NvbXBsZXg6IENvbnRhaW5lckNvbnRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VhcmNoIGZpbHRlci4gXG4gICAgICovXG5cdC8vIHB1YmxpYyBzZWFyY2hDb250ZW50OiBJbnB1dENvbnRlbnQ7XG5cbiAgICAvLyBAVmlld0NoaWxkKCdpbnB1dF9zZWFyY2gnLCB7IHN0YXRpYzogdHJ1ZSB9KVxuICAgIC8vIHByaXZhdGUgX2lucHV0U2VhcmNoOiBJbnB1dFRleHRDb21wb25lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc291cmNlcyBsaXN0LlxuICAgICAqIFVzZSB0aGlzIGZpZWxkIHRvIGluaXRpYWxpemUgb25seTsgdG8gY2hhbmdlIHZhbHVlIHVzZSB0aGUgYF90YWJsZUNvbnRyb2xgIGZpZWxkLlxuICAgICAqL1xuICAgIHB1YmxpYyB0YWJsZUNvbnRlbnQ6IFRhYmxlQ29udGVudDxhbnk+O1xuXG4gICAgQFZpZXdDaGlsZChUYWJsZUNvbXBvbmVudCwgeyBzdGF0aWM6IHRydWUgfSlcbiAgICBwcml2YXRlIF90YWJsZUNvbnRyb2w6IFRhYmxlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgX3JvdXRlcjogUm91dGVyLCBwcml2YXRlIF9hY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsIHByaXZhdGUgX29yZ2FuaXphdGlvblNlcnZpY2U6IE9yZ2FuaXphdGlvblNlcnZpY2UpXG4gICAgLy9wdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBfdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlKVxuXHR7IH1cblxuXHRwdWJsaWMgbmdPbkluaXQoKTogdm9pZFxuXHR7XG4gICAgICAgIC8qIFNldHMgYW4gaW5pdGlhbCBzZWFyY2ggdmFsdWUuICovXG4gICAgICAgIC8vdGhpcy5faW5wdXRTZWFyY2guZm9ybUNvbnRyb2wuc2V0VmFsdWUoJ2NsJyk7XG5cbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICAgICAvLyB0aGlzLnNlYXJjaENvbnRlbnQgPSB0aGlzLl9pbml0U2VhcmNoQ29udGVudCgpO1xuICAgICAgICB0aGlzLnRhYmxlQ29udGVudCA9IHRoaXMuX2luaXRUYWJsZUNvbnRlbnQoKTtcblxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgICAgIC8vIHRoaXMuX3RhYmxlQ29udHJvbC5wYWdlLnN1YnNjcmliZSgodmFsdWUpID0+IGNvbnNvbGUubG9nKCdwYWdlJywgdmFsdWUpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbml0U2VhcmNoQ29udGVudCgpOiBJbnB1dENvbnRlbnRcbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnZm9ybUNvbnRyb2wnOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgICd3aWR0aCc6ICc2NSUnLFxuXG4gICAgICAgICAgICAnbGFiZWwnOiAnV3JpdGUgYSB0ZXh0IHRvIHNlYXJjaCcsXG4gICAgICAgICAgICAnY29udHJvbFR5cGUnOiBJbnB1dFRleHRDb21wb25lbnQsXG4gICAgXG4gICAgICAgICAgICAndGV4dEFsaWduJzogVGV4dEFsaWduLmxlZnQsXG4gICAgICAgICAgICAnYXJpYUxhYmVsJzogJ1NlYXJjaCcsXG4gICAgXG4gICAgICAgICAgICAnYXBwZWFyYW5jZSc6IFRleHRJbnB1dEFwcGVhcmFuY2Uub3V0bGluZSxcbiAgICBcbiAgICAgICAgICAgICdwcmVmaXhJY29uJzogbmV3IEljb25WYWx1ZShJY29uU291cmNlLmV4dGVybmFsLCBDb250ZW50UG9zaXRpb24ucHJlZml4LCAnc2VhcmNoJyksXG4gICAgXG4gICAgICAgICAgICAnc3RhcnRIaW50JzogbmV3IEhpbnRWYWx1ZShIaW50UG9zaXRpb24uc3RhcnQsICdTZWFyY2hlcyB3aGVuIHR5cGluZyBzdG9wcy4nKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2luaXRUYWJsZUNvbnRlbnQoKTogVGFibGVDb250ZW50PGFueT5cbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY29sdW1uc09iamVjdFByb3BlcnR5JzogWyduYW1lJywgJ3N0YXR1cycsICdlbWFpbF9hZGRyZXNzJ10sXG4gICAgICAgICAgICAvLydjb2x1bW5zT2JqZWN0UHJvcGVydHknOiBbJ2lkJywgJ25hbWUnLCAncmVnaXN0cmF0aW9uRGF0ZSddLFxuICAgICAgICAgICAgJ2NvbHVtbnNIZWFkZXJUZXh0JzogWydOb21icmUnLCAnRXN0YXR1cycsICdEaXJlY2Npw7NuIGRlIENvcnJlbyddLFxuICAgICAgICAgICAgLy8nY29sdW1uc0hlYWRlclRleHQnOiBbJ2lkJywgJ25hbWUnLCAncmVnaXN0cmF0aW9uRGF0ZSddLFxuICAgICAgICAgICAgJ2NvbHVtbnNXaWR0aCc6IFsnNjAlJywgJzIyJScsICcxOCUnXSxcbiAgICAgICAgICAgICdjb2x1bW5Db250ZW50V3JhcCc6IFtDZWxsQ29udGVudFdyYXAuZWxsaXBzaXMsIENlbGxDb250ZW50V3JhcC5lbGxpcHNpcywgQ2VsbENvbnRlbnRXcmFwLnJlc3BvbnNpYmxlXSxcbiAgICAgICAgICAgICdjcmVhdGVDc3NDbGFzc2VzRm9yUm93JzogKHJvd0RhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC8vJ25ldy1yZWxlYXNlJzogcm93RGF0YVsnZW1haWxfYWRkcmVzcyddLFxuICAgICAgICAgICAgICAgICAgICAnc2VsZWN0ZWQtcm93JzogKHJvd0RhdGFbdGhpcy50YWJsZUNvbnRlbnQucHJvcGVydHlOYW1lVG9JZGVudGlmeV0pID09IHRoaXMuX3RhYmxlQ29udHJvbC5zZWxlY3RlZFJvd1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3Byb3BlcnR5TmFtZVRvSWRlbnRpZnknOiAnaWQnLFxuICAgICAgICAgICAgLy8ncHJvcGVydHlOYW1lVG9JZGVudGlmeSc6ICdpZCcsXG5cbiAgICAgICAgICAgIC8vICdmaWx0ZXInOiB7XG4gICAgICAgICAgICAvLyAgICAgJ3NlYXJjaCc6IHRoaXMuX2lucHV0U2VhcmNoLFxuICAgICAgICAgICAgLy8gICAgIC8vJ3JlZ2lzdHJhdGlvbic6IHVuZGVmaW5lZFxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICdzb3J0Jzoge1xuICAgICAgICAgICAgICAgICdhY3RpdmUnOiAnaWQnLFxuICAgICAgICAgICAgICAgICdkaXJlY3Rpb24nOiBTb3J0RGlyZWN0aW9uLmRlc2NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAncGFnZUluZGV4JzogMCxcbiAgICAgICAgICAgICdwYWdlU2l6ZSc6IDUsXG4gICAgICAgICAgICAncGFnZVNpemVPcHRpb25zJzogWzUsIDEwLCAyMCwgNTBdLFxuICAgICAgICAgICAgLy8naGlkZVBhZ2VTaXplJzogdHJ1ZSxcbiAgICAgICAgICAgICdzaG93Rmlyc3RMYXN0QnV0dG9ucyc6IHRydWUsXG5cbiAgICAgICAgICAgICdlbmRwb2ludCc6IHRoaXMuX2dldE15U291cmNlcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgLy8nZW5kcG9pbnQnOiB0aGlzLl91c2VyU2VydmljZS5wYWdlLmJpbmQodGhpcy5fdXNlclNlcnZpY2UpLFxuXG4gICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgeyBpY29uOiAndmlzaWJpbGl0eScsIHJvdXRlOiAndmVyJywgdG9vbHRpcDogJ1ZlcicgfSxcbiAgICAgICAgICAgICAgICB7IGljb246ICdlZGl0Jywgcm91dGU6ICdlZGl0YXInLCB0b29sdGlwOiAnRWRpdGFyJyB9LFxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldE15U291cmNlcyhwYWdlUmVxdWVzdDogUGFnZVJlcXVlc3QpOiBPYnNlcnZhYmxlPFBhZ2U8YW55Pj5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmdhbml6YXRpb25TZXJ2aWNlLmdldDxPcmdhbml6YXRpb25bXT4oRU5EUE9JTlRfQVBJUy5vcmdhbml6YXRpb25zLCBbXSkucGlwZShcbiAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IE9yZ2FuaXphdGlvbltdKTogUGFnZTxPcmdhbml6YXRpb24+ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnT3JnYW5pemF0aW9ucyBSZXNwb25zZTogJywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIC8vIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgIT0gUmVzcG9uc2VTdGF0dXMuRVJST1Ipe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0b3RhbERhdGEnOiByZXNwb25zZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAncGFnZUluZGV4JzogcGFnZVJlcXVlc3QucGFnaW5hdG9yLnBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwYWdlU2l6ZSc6IHBhZ2VSZXF1ZXN0LnBhZ2luYXRvci5wYWdlU2l6ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cdH1cblx0XG5cdHB1YmxpYyBkb09wZXJhdGlvbigpOiB2b2lkXG5cdHtcblx0XHR0aGlzLl9yb3V0ZXIubmF2aWdhdGUoWydvcmdhbml6YWNpb25lcy9hZGljaW9uYXInXSk7XG5cdH1cblxufVxuIl19