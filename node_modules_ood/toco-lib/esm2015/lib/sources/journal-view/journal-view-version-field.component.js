/**
 * @fileoverview added by tsickle
 * Generated from: lib/sources/journal-view/journal-view-version-field.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 *   Copyright (c) 2020 Universidad de Pinar del Río "Hermanos Saíz Montes de Oca"
 *   All rights reserved.
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { IdentifierSchemas } from '../../entities/common';
import { JournalVersion, JournalData } from '../../entities/public-api';
import { JournalDataType } from './journal-view.component';
/**
 * This component share the same scss that `JournalViewComponent`.
 * His goal, handle the actions and how show a specific data of a `JournalData`
 */
export class JournalViewFieldComponent {
    constructor() {
        this.editingJournalChange = new EventEmitter();
        this.journalDataType = JournalDataType;
        this.IdentifierSchemas = IdentifierSchemas;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (this.editingJournal.data == undefined)
            this.editingJournal.data = new JournalData();
        if (this.currentJournal.data == undefined)
            this.currentJournal.data = new JournalData();
        if (this.type == undefined)
            this.type = JournalDataType.default;
    }
    /**
     * Replaces a `Journal` property by a equal property in `JournalData`.
     * \@NOTE The `terms` of a `Journal` can NOT replace because will be the same information and not have sense, only we can merge.
     * @param {?} type is a `JournalDataType` enum, that means, `type` has all properties of a `Journal` enumerated as identifyer.
     * @param {?=} concat is a `boolean`, by default in `false`. If his value is `true` means the fields will be concated and not replaced.
     * @return {?}
     */
    replace(type, concat = false) {
        switch (type) {
            case JournalDataType.description:
                concat ?
                    this.editingJournal.data.description += ' ' + this.currentJournal.data.description :
                    this.editingJournal.data.description = this.currentJournal.data.description;
                break;
            case JournalDataType.email:
                concat ?
                    this.editingJournal.data.email += ' ' + this.currentJournal.data.email :
                    this.editingJournal.data.email = this.currentJournal.data.email;
                break;
            case JournalDataType.end_year:
                concat ?
                    this.editingJournal.data.end_year += ' ' + this.currentJournal.data.end_year :
                    this.editingJournal.data.end_year = this.currentJournal.data.end_year;
                break;
            case JournalDataType.facebook:
                concat ?
                    this.editingJournal.data.socialNetworks.facebook += ' ' + this.currentJournal.data.socialNetworks.facebook :
                    this.editingJournal.data.socialNetworks.facebook = this.currentJournal.data.socialNetworks.facebook;
                break;
            case JournalDataType.frequency:
                concat ?
                    this.editingJournal.data.frequency += ' ' + this.currentJournal.data.frequency :
                    this.editingJournal.data.frequency = this.currentJournal.data.frequency;
                break;
            case JournalDataType.issnP:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.issn_p, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.issn_p) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_p)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.issn_p, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_p));
                break;
            case JournalDataType.issnE:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.issn_e, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.issn_e) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_e)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.issn_e, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_e));
                break;
            case JournalDataType.issnL:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.issn_l, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.issn_l) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_l)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.issn_l, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_l));
                break;
            case JournalDataType.rnpsP:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.prnps, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.prnps) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.prnps)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.prnps, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.prnps));
                break;
            case JournalDataType.rnpsE:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.ernps, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.ernps) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.ernps)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.ernps, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.ernps));
                break;
            case JournalDataType.end_year:
                concat ?
                    this.editingJournal.data.end_year += ' ' + this.currentJournal.data.end_year :
                    this.editingJournal.data.end_year = this.currentJournal.data.end_year;
                break;
            case JournalDataType.linkedin:
                concat ?
                    this.editingJournal.data.socialNetworks.linkedin += ' ' + this.currentJournal.data.socialNetworks.linkedin :
                    this.editingJournal.data.socialNetworks.linkedin = this.currentJournal.data.socialNetworks.linkedin;
                break;
            case JournalDataType.logo:
                concat ?
                    this.editingJournal.data.logo += ' ' + this.currentJournal.data.logo :
                    this.editingJournal.data.logo = this.currentJournal.data.logo;
                break;
            case JournalDataType.purpose:
                concat ?
                    this.editingJournal.data.purpose += ' ' + this.currentJournal.data.purpose :
                    this.editingJournal.data.purpose = this.currentJournal.data.purpose;
                break;
            case JournalDataType.seriadas_cubanas:
                concat ?
                    this.editingJournal.data.seriadas_cubanas += ' ' + this.currentJournal.data.seriadas_cubanas :
                    this.editingJournal.data.seriadas_cubanas = this.currentJournal.data.seriadas_cubanas;
                break;
            case JournalDataType.shortname:
                concat ?
                    this.editingJournal.data.shortname += ' ' + this.currentJournal.data.shortname :
                    this.editingJournal.data.shortname = this.currentJournal.data.shortname;
                break;
            case JournalDataType.start_year:
                concat ?
                    this.editingJournal.data.start_year += ' ' + this.currentJournal.data.start_year :
                    this.editingJournal.data.start_year = this.currentJournal.data.start_year;
                break;
            case JournalDataType.subtitle:
                concat ?
                    this.editingJournal.data.subtitle += ' ' + this.currentJournal.data.subtitle :
                    this.editingJournal.data.subtitle = this.currentJournal.data.subtitle;
                break;
            case JournalDataType.title:
                concat ?
                    this.editingJournal.data.title += ' ' + this.currentJournal.data.title :
                    this.editingJournal.data.title = this.currentJournal.data.title;
                break;
            case JournalDataType.twitter:
                concat ?
                    this.editingJournal.data.socialNetworks.twitter += ' ' + this.currentJournal.data.socialNetworks.twitter :
                    this.editingJournal.data.socialNetworks.twitter = this.currentJournal.data.socialNetworks.twitter;
                break;
            case JournalDataType.url:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.url, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.url) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.url)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.url, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.url));
                break;
            case JournalDataType.oaiurl:
                concat ?
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.oaiurl, this.editingJournal.data.getIdentifierValue(IdentifierSchemas.oaiurl) +
                        ' ' +
                        this.currentJournal.data.getIdentifierValue(IdentifierSchemas.oaiurl)) :
                    this.editingJournal.data.setIdentifierValue(IdentifierSchemas.oaiurl, this.currentJournal.data.getIdentifierValue(IdentifierSchemas.oaiurl));
                break;
        }
        this.editingJournalChange.emit(this.editingJournal);
    }
}
JournalViewFieldComponent.decorators = [
    { type: Component, args: [{
                selector: 'toco-journal-view-version-field',
                template: "<div>\n  <button\n    mat-icon-button\n    aria-label=\"Next version\"\n    matTooltip=\"Remplazar\"\n    (click)=\"replace(type)\"\n  >\n    <mat-icon color=\"warn\">layers</mat-icon>\n  </button>\n\n  <!-- <button mat-icon-button aria-label=\"Next version\" matTooltip=\"Mezclar\" (click)=\"concat(type)\">\n        <mat-icon color=\"warn\">merge_type</mat-icon>\n    </button> -->\n\n  <ng-container [ngSwitch]=\"type\">\n    <ng-container *ngSwitchCase=\"journalDataType.title\">\n      <mat-label style=\"font-weight: bold\">T\u00EDtulo:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.title\">\n        {{ currentJournal.data.title }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.title\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.subtitle\">\n      <mat-label style=\"font-weight: bold\">Subt\u00EDtulo:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.subtitle\">\n        {{ currentJournal.data.subtitle }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.subtitle\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.shortname\">\n      <mat-label style=\"font-weight: bold\">Nombre Abreviado:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.shortname\">\n        {{ currentJournal.data.shortname }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.shortname\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.issnP\">\n      <toco-journal-view-info-field\n        [label]=\"'Impreso'\"\n        [value]=\"\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_p)\n        \"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.issnE\">\n      <toco-journal-view-info-field\n        [label]=\"'Electr\u00F3nico'\"\n        [value]=\"\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_e)\n        \"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.issnL\">\n      <toco-journal-view-info-field\n        [label]=\"'De enlace'\"\n        [value]=\"\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_l)\n        \"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.rnpsP\">\n      <toco-journal-view-info-field\n        [label]=\"'Impreso'\"\n        [value]=\"\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.prnps)\n        \"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.rnpsE\">\n      <toco-journal-view-info-field\n        [label]=\"'Electr\u00F3nico'\"\n        [value]=\"\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.ernps)\n        \"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.url\">\n      <toco-journal-view-info-field\n        [label]=\"'URL'\"\n        [value]=\"currentJournal.data.getIdentifierValue(IdentifierSchemas.url)\"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.oaiurl\">\n      <toco-journal-view-info-field\n        [label]=\"'OAIURL'\"\n        [value]=\"\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.oaiurl)\n        \"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.email\">\n      <mat-label style=\"font-weight: bold\">Email:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.email\">\n        {{ currentJournal.data.email }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.email\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.purpose\">\n      <mat-label style=\"font-weight: bold\">Prop\u00F3sito:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.purpose\">\n        {{ currentJournal.data.purpose }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.purpose\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.start_year\">\n      <mat-label style=\"font-weight: bold\">A\u00F1o de Inicio:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.start_year\">\n        {{ currentJournal.data.start_year | date }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.start_year\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.end_year\">\n      <mat-label style=\"font-weight: bold\">A\u00F1o de Fin:</mat-label>\n      <mat-label *ngIf=\"currentJournal.data.end_year\">\n        {{ currentJournal.data.end_year | date }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.end_year\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.frequency\">\n      <mat-label style=\"font-weight: bold\"\n        >Frecuencia de Publicaci\u00F3n:</mat-label\n      >\n      <mat-label *ngIf=\"currentJournal.data.frequency\">\n        {{ currentJournal.data.frequency }}\n      </mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.frequency\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.seriadas_cubanas\">\n      <mat-label style=\"font-weight: bold\">Seriadas Cubanas:</mat-label>\n      <a\n        href=\"{{ currentJournal.data.seriadas_cubanas }}\"\n        target=\"_blanck\"\n        *ngIf=\"currentJournal.data.seriadas_cubanas\"\n      >\n        {{ currentJournal.data.seriadas_cubanas }}\n      </a>\n      <mat-label\n        *ngIf=\"!currentJournal.data.seriadas_cubanas\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.facebook\">\n      <mat-label style=\"font-weight: bold\">Facebook:</mat-label>\n      <a\n        href=\"{{ currentJournal.data.socialNetworks.facebook }}\"\n        target=\"_blanck\"\n        *ngIf=\"currentJournal.data.socialNetworks.facebook\"\n      >\n        {{ currentJournal.data.socialNetworks.facebook }}\n      </a>\n      <mat-label\n        *ngIf=\"!currentJournal.data.socialNetworks.facebook\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.twitter\">\n      <mat-label style=\"font-weight: bold\">Twitter:</mat-label>\n      <a\n        href=\"{{ currentJournal.data.socialNetworks.twitter }}\"\n        target=\"_blanck\"\n        *ngIf=\"currentJournal.data.socialNetworks.twitter\"\n      >\n        {{ currentJournal.data.socialNetworks.twitter }}\n      </a>\n      <mat-label\n        *ngIf=\"!currentJournal.data.socialNetworks.twitter\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.linkedin\">\n      <mat-label style=\"font-weight: bold\">Linkedin:</mat-label>\n      <a\n        href=\"{{ currentJournal.data.socialNetworks.linkedin }}\"\n        target=\"_blanck\"\n        *ngIf=\"currentJournal.data.socialNetworks.linkedin\"\n      >\n        {{ currentJournal.data.socialNetworks.linkedin }}\n      </a>\n      <mat-label\n        *ngIf=\"!currentJournal.data.socialNetworks.linkedin\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"journalDataType.description\">\n      <mat-label style=\"font-weight: bold\">Descripci\u00F3n:</mat-label>\n      <mat-label\n        *ngIf=\"!currentJournal.data.description\"\n        class=\"text-muted text-through\"\n        >Vac\u00EDo</mat-label\n      >\n    </ng-container>\n  </ng-container>\n\n  <!-- <mat-icon class=\"mat-18\" color=\"accent\" *ngIf=\"currentJournal.data.data && currentJournal.data.subtitle !== '' && currentJournal.data.subtitle !== currentcurrentJournal.data.subtitle\" matTooltip=\"Tiene cambios\">notifications</mat-icon> -->\n</div>\n",
                styles: [".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]
            }] }
];
/** @nocollapse */
JournalViewFieldComponent.ctorParameters = () => [];
JournalViewFieldComponent.propDecorators = {
    editingJournal: [{ type: Input }],
    currentJournal: [{ type: Input }],
    type: [{ type: Input }],
    editingJournalChange: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    JournalViewFieldComponent.prototype.editingJournal;
    /** @type {?} */
    JournalViewFieldComponent.prototype.currentJournal;
    /** @type {?} */
    JournalViewFieldComponent.prototype.type;
    /** @type {?} */
    JournalViewFieldComponent.prototype.editingJournalChange;
    /** @type {?} */
    JournalViewFieldComponent.prototype.journalDataType;
    /** @type {?} */
    JournalViewFieldComponent.prototype.IdentifierSchemas;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiam91cm5hbC12aWV3LXZlcnNpb24tZmllbGQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vdG9jby1saWIvIiwic291cmNlcyI6WyJsaWIvc291cmNlcy9qb3VybmFsLXZpZXcvam91cm5hbC12aWV3LXZlcnNpb24tZmllbGQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUtBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0UsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN4RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7Ozs7O0FBYTNELE1BQU0sT0FBTyx5QkFBeUI7SUFlbEM7UUFOQSx5QkFBb0IsR0FBRyxJQUFJLFlBQVksRUFBa0IsQ0FBQztRQUduRCxvQkFBZSxHQUFHLGVBQWUsQ0FBQztRQUNsQyxzQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztJQUk3QyxDQUFDOzs7O0lBRUQsUUFBUTtRQUNKLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLElBQUksU0FBUztZQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUE7UUFFdkYsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksSUFBSSxTQUFTO1lBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUV4RixJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksU0FBUztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQztJQUNwRSxDQUFDOzs7Ozs7OztJQVFNLE9BQU8sQ0FBQyxJQUFZLEVBQUUsU0FBa0IsS0FB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QUE2QyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMCBVbml2ZXJzaWRhZCBkZSBQaW5hciBkZWwgUsOtbyBcIkhlcm1hbm9zIFNhw616IE1vbnRlcyBkZSBPY2FcIlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IElkZW50aWZpZXJTY2hlbWFzIH0gZnJvbSAnLi4vLi4vZW50aXRpZXMvY29tbW9uJztcbmltcG9ydCB7IEpvdXJuYWxWZXJzaW9uLCBKb3VybmFsRGF0YSB9IGZyb20gJy4uLy4uL2VudGl0aWVzL3B1YmxpYy1hcGknO1xuaW1wb3J0IHsgSm91cm5hbERhdGFUeXBlIH0gZnJvbSAnLi9qb3VybmFsLXZpZXcuY29tcG9uZW50JztcblxuXG5cbi8qKlxuKiBUaGlzIGNvbXBvbmVudCBzaGFyZSB0aGUgc2FtZSBzY3NzIHRoYXQgYEpvdXJuYWxWaWV3Q29tcG9uZW50YC5cbiogSGlzIGdvYWwsIGhhbmRsZSB0aGUgYWN0aW9ucyBhbmQgaG93IHNob3cgYSBzcGVjaWZpYyBkYXRhIG9mIGEgYEpvdXJuYWxEYXRhYFxuKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndG9jby1qb3VybmFsLXZpZXctdmVyc2lvbi1maWVsZCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2pvdXJuYWwtdmlldy12ZXJzaW9uLWZpZWxkLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9qb3VybmFsLXZpZXcuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBKb3VybmFsVmlld0ZpZWxkQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIEBJbnB1dCgpIHB1YmxpYyBlZGl0aW5nSm91cm5hbDogSm91cm5hbFZlcnNpb247XG5cbiAgICBASW5wdXQoKSBwdWJsaWMgY3VycmVudEpvdXJuYWw6IEpvdXJuYWxWZXJzaW9uO1xuXG4gICAgQElucHV0KCkgcHVibGljIHR5cGU6IG51bWJlcjtcblxuICAgIEBPdXRwdXQoKVxuICAgIGVkaXRpbmdKb3VybmFsQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxKb3VybmFsVmVyc2lvbj4oKTtcblxuXG4gICAgcHVibGljIGpvdXJuYWxEYXRhVHlwZSA9IEpvdXJuYWxEYXRhVHlwZTtcbiAgICBwdWJsaWMgSWRlbnRpZmllclNjaGVtYXMgPSBJZGVudGlmaWVyU2NoZW1hcztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEgPT0gdW5kZWZpbmVkKSB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEgPSBuZXcgSm91cm5hbERhdGEoKVxuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEgPT0gdW5kZWZpbmVkKSB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEgPSBuZXcgSm91cm5hbERhdGEoKTtcblxuICAgICAgICBpZiAodGhpcy50eXBlID09IHVuZGVmaW5lZCkgdGhpcy50eXBlID0gSm91cm5hbERhdGFUeXBlLmRlZmF1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gKiBSZXBsYWNlcyBhIGBKb3VybmFsYCBwcm9wZXJ0eSBieSBhIGVxdWFsIHByb3BlcnR5IGluIGBKb3VybmFsRGF0YWAuXG4gKiBAcGFyYW0gdHlwZSBpcyBhIGBKb3VybmFsRGF0YVR5cGVgIGVudW0sIHRoYXQgbWVhbnMsIGB0eXBlYCBoYXMgYWxsIHByb3BlcnRpZXMgb2YgYSBgSm91cm5hbGAgZW51bWVyYXRlZCBhcyBpZGVudGlmeWVyLlxuICogQHBhcmFtIGNvbmNhdCBpcyBhIGBib29sZWFuYCwgYnkgZGVmYXVsdCBpbiBgZmFsc2VgLiBJZiBoaXMgdmFsdWUgaXMgYHRydWVgIG1lYW5zIHRoZSBmaWVsZHMgd2lsbCBiZSBjb25jYXRlZCBhbmQgbm90IHJlcGxhY2VkLlxuICogQE5PVEUgVGhlIGB0ZXJtc2Agb2YgYSBgSm91cm5hbGAgY2FuIE5PVCByZXBsYWNlIGJlY2F1c2Ugd2lsbCBiZSB0aGUgc2FtZSBpbmZvcm1hdGlvbiBhbmQgbm90IGhhdmUgc2Vuc2UsIG9ubHkgd2UgY2FuIG1lcmdlLlxuICovXG4gICAgcHVibGljIHJlcGxhY2UodHlwZTogbnVtYmVyLCBjb25jYXQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLmRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5kZXNjcmlwdGlvbiArPSAnICcgKyB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZGVzY3JpcHRpb24gOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuZGVzY3JpcHRpb24gPSB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvdXJuYWxEYXRhVHlwZS5lbWFpbDpcbiAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuZW1haWwgKz0gJyAnICsgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmVtYWlsIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmVtYWlsID0gdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmVtYWlsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUuZW5kX3llYXI6XG4gICAgICAgICAgICAgICAgY29uY2F0ID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmVuZF95ZWFyICs9ICcgJyArIHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5lbmRfeWVhciA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5lbmRfeWVhciA9IHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5lbmRfeWVhcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLmZhY2Vib29rOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zb2NpYWxOZXR3b3Jrcy5mYWNlYm9vayArPSAnICcgKyB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuc29jaWFsTmV0d29ya3MuZmFjZWJvb2sgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc29jaWFsTmV0d29ya3MuZmFjZWJvb2sgPSB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuc29jaWFsTmV0d29ya3MuZmFjZWJvb2s7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvdXJuYWxEYXRhVHlwZS5mcmVxdWVuY3k6XG4gICAgICAgICAgICAgICAgY29uY2F0ID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmZyZXF1ZW5jeSArPSAnICcgKyB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZnJlcXVlbmN5IDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmZyZXF1ZW5jeSA9IHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5mcmVxdWVuY3k7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUuaXNzblA6XG4gICAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgSWRlbnRpZmllclNjaGVtYXMuaXNzbl9wLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMuaXNzbl9wKSArXG4gICAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZ2V0SWRlbnRpZmllclZhbHVlKElkZW50aWZpZXJTY2hlbWFzLmlzc25fcCkpIDpcbiAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zZXRJZGVudGlmaWVyVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLmlzc25fcCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5pc3NuX3ApKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLmlzc25FOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zZXRJZGVudGlmaWVyVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICAgSWRlbnRpZmllclNjaGVtYXMuaXNzbl9lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5pc3NuX2UpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZ2V0SWRlbnRpZmllclZhbHVlKElkZW50aWZpZXJTY2hlbWFzLmlzc25fZSkpIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgICBJZGVudGlmaWVyU2NoZW1hcy5pc3NuX2UsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5pc3NuX2UpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLmlzc25MOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLmlzc25fbCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5pc3NuX2wpICtcbiAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5pc3NuX2wpKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLmlzc25fbCxcbiAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMuaXNzbl9sKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUucm5wc1A6XG4gICAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgSWRlbnRpZmllclNjaGVtYXMucHJucHMsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5wcm5wcykgK1xuICAgICAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5wcm5wcykpIDpcbiAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zZXRJZGVudGlmaWVyVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLnBybnBzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZ2V0SWRlbnRpZmllclZhbHVlKElkZW50aWZpZXJTY2hlbWFzLnBybnBzKSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUucm5wc0U6XG4gICAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgSWRlbnRpZmllclNjaGVtYXMuZXJucHMsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5lcm5wcykgK1xuICAgICAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5lcm5wcykpIDpcbiAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zZXRJZGVudGlmaWVyVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLmVybnBzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZ2V0SWRlbnRpZmllclZhbHVlKElkZW50aWZpZXJTY2hlbWFzLmVybnBzKSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLmVuZF95ZWFyOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5lbmRfeWVhciArPSAnICcgKyB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZW5kX3llYXIgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuZW5kX3llYXIgPSB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuZW5kX3llYXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvdXJuYWxEYXRhVHlwZS5saW5rZWRpbjpcbiAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc29jaWFsTmV0d29ya3MubGlua2VkaW4gKz0gJyAnICsgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnNvY2lhbE5ldHdvcmtzLmxpbmtlZGluIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNvY2lhbE5ldHdvcmtzLmxpbmtlZGluID0gdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnNvY2lhbE5ldHdvcmtzLmxpbmtlZGluO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUubG9nbzpcbiAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEubG9nbyArPSAnICcgKyB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEubG9nbyA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5sb2dvID0gdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmxvZ287XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvdXJuYWxEYXRhVHlwZS5wdXJwb3NlOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5wdXJwb3NlICs9ICcgJyArIHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5wdXJwb3NlIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnB1cnBvc2UgPSB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEucHVycG9zZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLnNlcmlhZGFzX2N1YmFuYXM6XG4gICAgICAgICAgICAgICAgY29uY2F0ID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNlcmlhZGFzX2N1YmFuYXMgKz0gJyAnICsgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnNlcmlhZGFzX2N1YmFuYXMgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc2VyaWFkYXNfY3ViYW5hcyA9IHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5zZXJpYWRhc19jdWJhbmFzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUuc2hvcnRuYW1lOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zaG9ydG5hbWUgKz0gJyAnICsgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnNob3J0bmFtZSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zaG9ydG5hbWUgPSB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuc2hvcnRuYW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUuc3RhcnRfeWVhcjpcbiAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc3RhcnRfeWVhciArPSAnICcgKyB0aGlzLmN1cnJlbnRKb3VybmFsLmRhdGEuc3RhcnRfeWVhciA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zdGFydF95ZWFyID0gdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnN0YXJ0X3llYXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvdXJuYWxEYXRhVHlwZS5zdWJ0aXRsZTpcbiAgICAgICAgICAgICAgICBjb25jYXQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc3VidGl0bGUgKz0gJyAnICsgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnN1YnRpdGxlIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnN1YnRpdGxlID0gdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnN1YnRpdGxlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUudGl0bGU6XG4gICAgICAgICAgICAgICAgY29uY2F0ID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnRpdGxlICs9ICcgJyArIHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS50aXRsZSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS50aXRsZSA9IHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS50aXRsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSm91cm5hbERhdGFUeXBlLnR3aXR0ZXI6XG4gICAgICAgICAgICAgICAgY29uY2F0ID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNvY2lhbE5ldHdvcmtzLnR3aXR0ZXIgKz0gJyAnICsgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLnNvY2lhbE5ldHdvcmtzLnR3aXR0ZXIgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc29jaWFsTmV0d29ya3MudHdpdHRlciA9IHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5zb2NpYWxOZXR3b3Jrcy50d2l0dGVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBKb3VybmFsRGF0YVR5cGUudXJsOlxuICAgICAgICAgICAgICAgIGNvbmNhdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLnVybCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy51cmwpICtcbiAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy51cmwpKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLnVybCxcbiAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMudXJsKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEpvdXJuYWxEYXRhVHlwZS5vYWl1cmw6XG4gICAgICAgICAgICAgICAgY29uY2F0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsLmRhdGEuc2V0SWRlbnRpZmllclZhbHVlKFxuICAgICAgICAgICAgICAgICAgICBJZGVudGlmaWVyU2NoZW1hcy5vYWl1cmwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMub2FpdXJsKSArXG4gICAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEpvdXJuYWwuZGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMub2FpdXJsKSkgOlxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS5zZXRJZGVudGlmaWVyVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIElkZW50aWZpZXJTY2hlbWFzLm9haXVybCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5vYWl1cmwpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVkaXRpbmdKb3VybmFsQ2hhbmdlLmVtaXQodGhpcy5lZGl0aW5nSm91cm5hbCk7XG4gICAgfVxuXG5cbn1cbiJdfQ==