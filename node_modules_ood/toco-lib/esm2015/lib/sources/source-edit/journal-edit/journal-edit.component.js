/**
 * @fileoverview added by tsickle
 * Generated from: lib/sources/source-edit/journal-edit/journal-edit.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { FormBuilder, FormControl } from '@angular/forms';
import { MatSnackBar } from '@angular/material';
import { SourceService, CatalogService, TaxonomyService } from '../../../backend/public-api';
import { MetadataService } from '../../../core/public-api';
import { IdentifierSchemas } from '../../../entities/common';
import { JournalData, JournalVersion, Organization, SourceClasification, SourceTypes, SourceSystems, VocabulariesInmutableNames } from '../../../entities/public-api';
import { VocabularyTreeComponent } from '../../../forms/experimental/vocabulary-tree/vocabulary-tree.component';
import { ContainerPanelComponent, InputTextComponent, FormFieldType, HintValue, HintPosition, InputRnpsComponent, SelectComponent, TextareaComponent, InputUrlComponent, InputEmailComponent, VocabularyComponent, DatepickerComponent } from '../../../forms/public-api';
export class JournalEditComponent {
    /**
     * @param {?} metadata
     * @param {?} sourceService
     * @param {?} catalogService
     * @param {?} taxonomyService
     * @param {?} snackBar
     * @param {?} formBuilder
     */
    constructor(metadata, sourceService, catalogService, taxonomyService, snackBar, formBuilder) {
        this.metadata = metadata;
        this.sourceService = sourceService;
        this.catalogService = catalogService;
        this.taxonomyService = taxonomyService;
        this.snackBar = snackBar;
        this.formBuilder = formBuilder;
        // TODO: Idea del componente:
        // trabajan internamente con un journal, si recibe null entonces es uno nuevo, si recibe un journal entonces es editar.
        // en ambos casos devuelve el journal editado, o sea el contenido, listo para hacer post en el backend.
        this.pageTitle = "";
        this.journalData = null;
        this.journalVersion = null;
        this.showEditHeader = false;
        this.description = "";
        this.topMainOrganization = null;
        this.showFinalStep = true;
        // journal identifiers variables for step 0
        this.identifiersPanel = null;
        // journal information variables for step 1
        this.informationPanel = null;
        // institutions: SourceClasification[] = [];
        // entityFormGroup: FormGroup;
        // indexes (databases), variables for step 3
        this.finalPanel = null;
        // TODO: Esto se puede hacer mejor, con un emiter alcanza
        this.journalEditDone = new EventEmitter();
        this.editCanceled = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.journalData = new JournalData();
        this.journalData.deepcopy(this.journalVersion.data);
        this.pageTitle = this.journalData.isNew
            ? "Nueva Revista"
            : "Editando: " + this.journalData.title;
        this.metadata.setStandardMeta(this.pageTitle, "", "");
        console.log("journal edit INIT");
        this.resetStepper();
        this.initStep2();
        this.initStep0Identifiers();
        this.initStep1();
        this.initStep3();
        this.initStepFinal();
    }
    /**
     * @return {?}
     */
    resetStepper() {
        this.identifiersPanel = null;
        this.identifiersFormGroup = null;
        this.informationPanel = null;
        this.informationFormGroup = null;
        this.informationSocialFormGroup = null;
        // this.organization = null;
        // this.organizationPanel = null;
        // this.institution = null;
        // this.institutionPanel = null;
        // this.entity = null;
        // this.entityPanel = null;
        this.organizationFormGroup = null;
        this.indexesFormGroup = null;
    }
    /**
     * @return {?}
     */
    initStep0Identifiers() {
        this.identifiersFormGroup = this.formBuilder.group({});
        this.identifiersPanel =
            {
                name: 'identifiersPanel',
                label: 'Identificadores',
                controlType: ContainerPanelComponent,
                description: "",
                iconName: "",
                formSection: this.identifiersFormGroup,
                formSectionContent: [
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "issn_l",
                        label: "ISSN de Enlace",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: false,
                        startHint: new HintValue(HintPosition.start, "XXXX-XXXX"),
                        width: "23%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.issn_l)
                            : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "issn_p",
                        label: "ISSN Impreso",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: false,
                        startHint: new HintValue(HintPosition.start, "XXXX-XXXX"),
                        width: "23%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.issn_p)
                            : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "issn_e",
                        label: "ISSN Electrónico",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: false,
                        startHint: new HintValue(HintPosition.start, "XXXX-XXXX"),
                        width: "23%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.issn_e)
                            : "",
                    },
                    {
                        formControl: InputRnpsComponent.getFormControlByDefault(),
                        name: "rnps_p",
                        label: "RNPS Impreso",
                        type: FormFieldType.rnps,
                        controlType: InputRnpsComponent,
                        required: true,
                        startHint: new HintValue(HintPosition.start, "XXXX."),
                        width: "23%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.prnps)
                            : "",
                    },
                    {
                        formControl: InputRnpsComponent.getFormControlByDefault(),
                        name: "rnps_e",
                        label: "RNPS Electrónico",
                        type: FormFieldType.rnps,
                        controlType: InputRnpsComponent,
                        required: true,
                        startHint: new HintValue(HintPosition.start, "XXXX."),
                        width: "23%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.ernps)
                            : "",
                    },
                ],
            };
    }
    /**
     * @return {?}
     */
    initStep1() {
        this.informationFormGroup = this.formBuilder.group({
            // 'description': descriptionControl,
            start_year: new FormControl(""),
            end_year: new FormControl(""),
        });
        this.informationSocialFormGroup = this.formBuilder.group({});
        this.informationPanel =
            {
                name: 'informationPanel',
                label: 'Datos de la Revista',
                description: "",
                iconName: "",
                controlType: ContainerPanelComponent,
                formSection: this.informationFormGroup,
                formSectionContent: [
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "title",
                        label: "Título",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: true,
                        width: "100%",
                        value: this.journalData ? this.journalData.title : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "subtitle",
                        label: "Subtítulo",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: false,
                        width: "30%",
                        startHint: new HintValue(HintPosition.start, ""),
                        value: this.journalData ? this.journalData.subtitle : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "shortname",
                        label: "Título abreviado",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: false,
                        width: "30%",
                        startHint: new HintValue(HintPosition.start, ""),
                        value: this.journalData ? this.journalData.shortname : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "source_type",
                        label: "Tipo de Revista",
                        type: FormFieldType.select_expr,
                        controlType: SelectComponent,
                        required: true,
                        width: "30%",
                        value: this.journalData ? this.journalData.source_type : "",
                        extraContent: {
                            multiple: false,
                            getOptions: (/**
                             * @return {?}
                             */
                            () => {
                                return [
                                    {
                                        label: SourceTypes.JOURNAL.label,
                                        value: SourceTypes.JOURNAL.value,
                                    },
                                    {
                                        label: SourceTypes.STUDENT.label,
                                        value: SourceTypes.STUDENT.value,
                                    },
                                    {
                                        label: SourceTypes.POPULARIZATION.label,
                                        value: SourceTypes.POPULARIZATION.value,
                                    },
                                ];
                            }),
                        },
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "description",
                        label: "Descripción",
                        type: FormFieldType.textarea,
                        controlType: TextareaComponent,
                        required: true,
                        width: "100%",
                        value: this.journalData ? this.journalData.description : "",
                    },
                    // {
                    //   name: 'purpose',
                    //   label: 'Propósito',
                    //   type: FormFieldType.textarea,
                    //   required: true,
                    //   width: '100%',
                    //   value: this.journalVersion ? this.journalVersion.purpose : ''
                    // },
                    {
                        formControl: InputUrlComponent.getFormControlByDefault(),
                        name: "url",
                        label: "URL",
                        type: FormFieldType.url,
                        controlType: InputUrlComponent,
                        required: true,
                        startHint: new HintValue(HintPosition.start, "Escriba una URL válida."),
                        width: "100%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.url)
                            : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "source_system",
                        label: "Tipo de Sistema que soporta la revista",
                        type: FormFieldType.select_expr,
                        controlType: SelectComponent,
                        required: false,
                        width: "35%",
                        value: this.journalData ? this.journalData.source_system : "",
                        extraContent: {
                            multiple: false,
                            getOptions: (/**
                             * @return {?}
                             */
                            () => {
                                return [
                                    {
                                        label: SourceSystems.OJS.label,
                                        value: SourceSystems.OJS.value,
                                    },
                                    {
                                        label: SourceSystems.CMS.label,
                                        value: SourceSystems.CMS.value,
                                    },
                                    {
                                        label: SourceSystems.OTHER.label,
                                        value: SourceSystems.OTHER.value,
                                    },
                                ];
                            }),
                        },
                    },
                    {
                        formControl: InputUrlComponent.getFormControlByDefault(),
                        name: "oaiurl",
                        label: "OAI-PMH",
                        type: FormFieldType.url,
                        controlType: InputUrlComponent,
                        required: false,
                        startHint: new HintValue(HintPosition.start, "Escriba una URL válida."),
                        width: "60%",
                        value: this.journalData
                            ? this.journalData.getIdentifierValue(IdentifierSchemas.oaiurl)
                            : "",
                    },
                    // {
                    //   name: 'seriadas_cubanas',
                    //   label: 'URL en Seriadas Cubanas',
                    //   type: FormFieldType.url,
                    //   required: false,
                    //   startHint: new HintValue(HintPosition.start, ''),
                    //   width: '100%',
                    //   value: this.journalVersion ? this.journalVersion.seriadas_cubanas : ''
                    // },
                    {
                        formControl: InputEmailComponent.getFormControlByDefault(),
                        name: "email",
                        label: "Correo Electrónico",
                        type: FormFieldType.email,
                        controlType: InputEmailComponent,
                        required: true,
                        startHint: new HintValue(HintPosition.start, "Escriba un email válido."),
                        width: "45%",
                        value: this.journalData ? this.journalData.email : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "licence",
                        label: "Licencia",
                        type: FormFieldType.vocabulary,
                        controlType: VocabularyComponent,
                        required: false,
                        width: "45%",
                        extraContent: {
                            multiple: false,
                            selectedTermsIds: this.journalData
                                ? this.journalData.classifications.map((/**
                                 * @param {?} termSource
                                 * @return {?}
                                 */
                                (termSource) => termSource.id))
                                : null,
                            vocab: VocabulariesInmutableNames.LICENCES,
                            level: 0,
                        },
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "start_year",
                        label: "Año de inicio",
                        type: FormFieldType.datepicker,
                        controlType: DatepickerComponent,
                        required: false,
                        width: "30%",
                        value: this.journalData ? this.journalData.start_year : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "end_year",
                        label: "Año final",
                        type: FormFieldType.datepicker,
                        controlType: DatepickerComponent,
                        required: false,
                        width: "30%",
                        value: this.journalData ? this.journalData.end_year : "",
                    },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "frequency",
                        label: "Frecuencia",
                        type: FormFieldType.text,
                        controlType: InputTextComponent,
                        required: false,
                        startHint: new HintValue(HintPosition.start, ""),
                        width: "30%",
                        value: this.journalData ? this.journalData.frequency : "",
                    },
                    // {
                    //   // TODO: el top level de unesco de materias....
                    //   name: "cover",
                    //   label: "Cobertura Temática",
                    //   type: FormFieldType.select_expr,
                    //   required: true,
                    //   width: "45%",
                    //   extraContent: {
                    //     multiple: false,
                    //     observable: this.taxonomyService.getTermsTreeByVocab(
                    //       VocabulariesInmutableNames.SUBJECTS,
                    //       0
                    //     ),
                    //     getOptions: (response: any) => {
                    //       const opts: SelectOption[] = [];
                    //       response.data.tree.term_node.forEach((node: TermNode) => {
                    //         opts.push({
                    //           value: node.term,
                    //           label: node.term.description,
                    //         });
                    //       });
                    //       return opts;
                    //     },
                    //     selectionChange: (term) => {
                    //       this.journalCover = new SourceClasification();
                    //       this.journalCover.description = term.description;
                    //       this.journalCover.id = term.uuid;
                    //       this.journalCover.vocabulary = term.vocabulary_id;
                    //     },
                    //   },
                    // },
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "subjects",
                        label: "Materias",
                        type: FormFieldType.vocabulary_tree,
                        controlType: VocabularyTreeComponent,
                        required: false,
                        width: "80%",
                        extraContent: {
                            multiple: true,
                            selectedTermsIds: this.journalData
                                ? this.journalData.classifications.map((/**
                                 * @param {?} termSource
                                 * @return {?}
                                 */
                                (termSource) => termSource.id))
                                : null,
                            vocab: VocabulariesInmutableNames.SUBJECTS,
                            level: 1,
                        },
                    },
                    {
                        formControl: InputUrlComponent.getFormControlByDefault(),
                        name: "facebook",
                        label: "Facebook",
                        type: FormFieldType.url,
                        controlType: InputUrlComponent,
                        required: false,
                        width: "33%",
                        value: this.journalData
                            ? this.journalData.socialNetworks.facebook
                            : "",
                    },
                    {
                        formControl: InputUrlComponent.getFormControlByDefault(),
                        name: "twitter",
                        label: "Twitter",
                        type: FormFieldType.url,
                        controlType: InputUrlComponent,
                        required: false,
                        width: "33%",
                        value: this.journalData
                            ? this.journalData.socialNetworks.twitter
                            : "",
                    },
                    {
                        formControl: InputUrlComponent.getFormControlByDefault(),
                        name: "linkedin",
                        label: "LinkedIN",
                        type: FormFieldType.url,
                        controlType: InputUrlComponent,
                        required: false,
                        width: "33%",
                        value: this.journalData
                            ? this.journalData.socialNetworks.linkedin
                            : "",
                    }
                ],
            };
        // {
        //   title: "Redes Sociales",
        //   description: "",
        //   iconName: "",
        //   formSection: this.informationFormGroup,
        //   formSectionContent: [
        //     {
        //       name: "facebook",
        //       label: "Facebook",
        //       type: FormFieldType.url,
        //       required: false,
        //       width: "33%",
        //       value: this.journalData
        //         ? this.journalData.socialNetworks.facebook
        //         : "",
        //     },
        //     {
        //       name: "twitter",
        //       label: "Twitter",
        //       type: FormFieldType.url,
        //       required: false,
        //       width: "33%",
        //       value: this.journalData
        //         ? this.journalData.socialNetworks.twitter
        //         : "",
        //     },
        //     {
        //       name: "linkedin",
        //       label: "LinkedIN",
        //       type: FormFieldType.url,
        //       required: false,
        //       width: "33%",
        //       value: this.journalData
        //         ? this.journalData.socialNetworks.linkedin
        //         : "",
        //     },
        //   ],
        // },
    }
    /**
     * @return {?}
     */
    initStep2() {
        this.organizationFormGroup = this.formBuilder.group({
            institutions: new FormControl(""),
        });
    }
    /**
     * @return {?}
     */
    initStep3() {
        this.indexesFormGroup = this.formBuilder.group({});
    }
    /**
     * @return {?}
     */
    indexerStepper() {
        // console.log(this.journalData);
        // this.indexes = this.journalData.classifications.filter(
        //   (value) => value.vocabulary == VocabulariesInmutableNames.INDEXES
        // );
        // console.log(this.indexes);
    }
    /**
     * @return {?}
     */
    initStepFinal() {
        this.finalFormGroup = this.formBuilder.group({});
        this.finalPanel =
            {
                name: 'finalPanel',
                label: '',
                description: "",
                iconName: "",
                formSection: this.finalFormGroup,
                controlType: ContainerPanelComponent,
                formSectionContent: [
                    {
                        formControl: InputTextComponent.getFormControlByDefault(),
                        name: "comment",
                        label: "Puede agregar aquí un comentario.",
                        type: FormFieldType.textarea,
                        controlType: TextareaComponent,
                        required: false,
                        startHint: new HintValue(HintPosition.start, ""),
                        width: "100%",
                        minWidth: "100%",
                        value: this.journalData ? this.journalData._save_info.comment : "",
                    },
                ],
            };
    }
    /**
     * @private
     * @return {?}
     */
    fillJournalFields() {
        // this.journalVersion.source_type = this.informationFormGroup.value['source_type'];
        this.journalData.setIdentifierValue(IdentifierSchemas.issn_p, this.identifiersFormGroup.value.issn_p);
        this.journalData.setIdentifierValue(IdentifierSchemas.issn_e, this.identifiersFormGroup.value.issn_e);
        this.journalData.setIdentifierValue(IdentifierSchemas.issn_l, this.identifiersFormGroup.value.issn_l);
        this.journalData.setIdentifierValue(IdentifierSchemas.prnps, this.identifiersFormGroup.value.rnps_p);
        this.journalData.setIdentifierValue(IdentifierSchemas.ernps, this.identifiersFormGroup.value.rnps_e);
        // this.journalVersion.issn.deepcopy(
        //   this.identifiersFormGroup.value
        // );
        // this.journalVersion.rnps.deepcopy(
        //   this.identifiersFormGroup.value
        // );
        console.log(this.informationFormGroup);
        this.journalData.deepcopy(this.informationFormGroup.value);
        this.journalData.socialNetworks.deepcopy(this.informationFormGroup.value);
        this.journalData.setIdentifierValue(IdentifierSchemas.url, this.informationFormGroup.value.url);
        this.journalData.setIdentifierValue(IdentifierSchemas.oaiurl, this.informationFormGroup.value.oaiurl);
        this.journalData.source_type = this.informationFormGroup.value["source_type"];
        /** @type {?} */
        const indexes = this.journalData.classifications.filter((/**
         * @param {?} value
         * @return {?}
         */
        (value) => value.vocabulary == VocabulariesInmutableNames.INDEXES));
        this.journalData.classifications = [];
        if (this.informationFormGroup.value["licence"]) {
            this.informationFormGroup.value["licence"].forEach((/**
             * @param {?} term
             * @return {?}
             */
            (term) => {
                /** @type {?} */
                const ts = new SourceClasification();
                ts.description = term.description;
                ts.id = term.uuid;
                ts.vocabulary = term.vocabulary_id;
                this.journalData.classifications.push(ts);
            }));
        }
        // this.informationFormGroup.value["cover"].forEach((term) => {
        //   const ts = new SourceClasification();
        //   ts.description = term.description;
        //   ts.id = term.uuid;
        //   ts.vocabulary = term.vocabulary_id;
        //   this.journalData.classifications.push(ts);
        // });
        if (this.informationFormGroup.value["subjects"]) {
            this.informationFormGroup.value["subjects"].forEach((/**
             * @param {?} term
             * @return {?}
             */
            (term) => {
                /** @type {?} */
                const ts = new SourceClasification();
                ts.description = term.description;
                ts.id = term.uuid;
                ts.vocabulary = term.vocabulary_id;
                this.journalData.classifications.push(ts);
            }));
        }
        console.log(indexes);
        this.journalData.classifications = this.journalData.classifications.concat(indexes);
        // this.journalData.organizations = this.source.data.organizations;
        // this.organizationFormGroup.value[
        //   "institutions"
        // ].forEach((panel: JournalInstitutionsPanel) => {
        //   const ts = new SourceClasification();
        //   ts.deepcopy(panel.inst);
        //   ts.term_id = panel.inst.term.id;
        //   ts.source_id = this.journalVersion.source_id;
        //   this.journalVersion.classifications.push(ts);
        // }
        // );
        // this.institutions.forEach(inst => {
        //   this.journalVersion.classifications.push(inst);
        // });
        // console.log(this.indexesPanel);
        // this.indexesPanel.forEach(panel => {
        //   const ts = new SourceClasification();
        //   const term: Term = panel.value;
        //   ts.description = term.description;
        //   ts.id = term.uuid;
        //   ts.vocabulary = term.vocabulary_id;
        //   ts.data['url'] = this.indexesFormGroup.value['url_' + ts.id];
        //   ts.data['initial_cover'] = this.indexesFormGroup.value[
        //     'initial_cover_' + ts.id
        //   ];
        //   ts.data['end_cover'] = this.indexesFormGroup.value[
        //     'end_cover_' + ts.id
        //   ];
        //   this.journalData.classifications.push(ts);
        // });
        this.journalData._save_info.comment = this.finalFormGroup.value["comment"];
        this.journalVersion.comment = this.finalFormGroup.value["comment"];
        this.journalVersion.data.deepcopy(this.journalData);
        console.log(this.identifiersFormGroup);
        console.log(this.informationFormGroup);
        console.log(this.organizationFormGroup);
        console.log(this.indexesFormGroup);
        console.log(this.journalData);
    }
    /**
     * @return {?}
     */
    finishStepper() {
        console.log(this.journalData);
        // console.log(this.journalVersion, this)
        this.fillJournalFields();
        console.log(this.journalData);
        this.journalEditDone.emit(this.journalVersion);
    }
    /**
     * @return {?}
     */
    cancelStepper() {
        this.editCanceled.emit(true);
    }
}
JournalEditComponent.decorators = [
    { type: Component, args: [{
                selector: "toco-journal-edit",
                template: "<mat-card [ngStyle]=\"{ margin: '1em' }\">\n  <mat-card-header\n    *ngIf=\"showEditHeader\"\n    fxLayout=\"column wrap\"\n    fxLayoutAlign=\"start center\"\n  >\n    <div\n      fxLayout=\"row wrap\"\n      fxLayoutAlign=\"space-between center\"\n      [ngStyle]=\"{ width: '100%' }\"\n    >\n      <h2>\n        {{ pageTitle }}\n      </h2>\n      <button mat-stroked-button color=\"warn\" (click)=\"cancelStepper()\">\n        Cancelar\n      </button>\n    </div>\n    <mat-card-subtitle>{{ description }}</mat-card-subtitle>\n  </mat-card-header>\n\n  <mat-card-content>\n    <mat-horizontal-stepper labelPosition=\"end\" [linear]=\"true\" #stepper>\n      <mat-step *ngIf=\"identifiersPanel\" [stepControl]=\"identifiersFormGroup\">\n        <ng-template matStepLabel>Identificadores</ng-template>\n        <form [formGroup]=\"identifiersFormGroup\">\n          <container-panel\n            [content]=\"identifiersPanel\"\n          >\n          </container-panel>\n          <!-- <toco-form-container\n            #informationPanelContainer\n            [panelsContent]=\"identifiersPanel\"\n            [useAccordion]=\"false\"\n            fxLayout=\"row\"\n            [formGroup]=\"identifiersFormGroup\"\n            [deleteValuesAfterAction]=\"false\"\n          >\n          </toco-form-container> -->\n        </form>\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"end center\">\n          <button mat-stroked-button color=\"primary\" matStepperNext>\n            Siguiente\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step\n        *ngIf=\"organizationFormGroup\"\n        [stepControl]=\"organizationFormGroup\"\n      >\n        <ng-template matStepLabel>Organizaciones</ng-template>\n        <h2>Organizaciones</h2>\n        <form [formGroup]=\"organizationFormGroup\">\n          <toco-source-organizations\n            [topMainOrganization]=\"topMainOrganization\"\n            [sourceData]=\"journalData\"\n          >\n          </toco-source-organizations>\n        </form>\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-between center\">\n          <button mat-stroked-button color=\"accent\" matStepperPrevious>\n            Atr\u00E1s\n          </button>\n          <button mat-stroked-button color=\"primary\" matStepperNext>\n            Siguiente\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step *ngIf=\"informationPanel\" [stepControl]=\"informationFormGroup\">\n        <ng-template matStepLabel>Datos</ng-template>\n        <form [formGroup]=\"informationFormGroup\">\n          <container-panel\n            [content]=\"informationPanel\"\n          >\n          </container-panel>\n          <!-- <toco-form-container\n            #informationPanelContainer\n            [panelsContent]=\"informationPanel\"\n            [useAccordion]=\"false\"\n            fxLayout=\"row\"\n            [formGroup]=\"informationFormGroup\"\n            [deleteValuesAfterAction]=\"false\"\n          >\n          </toco-form-container> -->\n        </form>\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-between center\">\n          <button mat-stroked-button color=\"accent\" matStepperPrevious>\n            Atr\u00E1s\n          </button>\n          <button mat-stroked-button color=\"primary\" matStepperNext>\n            Siguiente\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step *ngIf=\"indexesFormGroup\" [stepControl]=\"indexesFormGroup\">\n        <ng-template matStepLabel>Indizaciones</ng-template>\n        <h2>Indizaciones</h2>\n        <toco-source-indexes [sourceData]=\"journalData\"> </toco-source-indexes>\n\n        <div\n          *ngIf=\"showFinalStep\"\n          fxLayout=\"row wrap\"\n          fxLayoutAlign=\"space-between center\"\n        >\n          <button mat-stroked-button color=\"accent\" matStepperPrevious>\n            Atr\u00E1s\n          </button>\n          <button\n            mat-stroked-button\n            color=\"primary\"\n            matStepperNext\n            (click)=\"indexerStepper()\"\n          >\n            Siguiente\n          </button>\n        </div>\n        <div\n          *ngIf=\"!showFinalStep\"\n          fxLayout=\"row wrap\"\n          fxLayoutAlign=\"space-between center\"\n        >\n          <button mat-stroked-button color=\"accent\" matStepperPrevious>\n            Atr\u00E1s\n          </button>\n\n          <button mat-stroked-button color=\"primary\" (click)=\"finishStepper()\">\n            Aceptar\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step *ngIf=\"showFinalStep\">\n        <ng-template matStepLabel>Fin</ng-template>\n        <h3>Ha completado el formulario</h3>\n        <h4>\n          Antes de aceptar puede revisar nuevamente los valores que ha\n          introducido.\n        </h4>\n        <!-- <toco-journal-view-info [journal]=\"journal\"></toco-journal-view-info> -->\n\n        <form [formGroup]=\"finalFormGroup\">\n          <container-panel\n            [content]=\"finalPanel\"\n          >\n          </container-panel>\n          <!-- <toco-form-container\n            #indexPanelContainer\n            [panelsContent]=\"finalPanel\"\n            [useAccordion]=\"false\"\n            fxLayout=\"row\"\n            [formGroup]=\"finalFormGroup\"\n            [deleteValuesAfterAction]=\"false\"\n            [ngStyle]=\"{ width: '100%' }\"\n          >\n          </toco-form-container> -->\n        </form>\n\n        <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-between center\">\n          <button mat-stroked-button color=\"accent\" matStepperPrevious>\n            Atr\u00E1s\n          </button>\n\n          <button mat-stroked-button color=\"primary\" (click)=\"finishStepper()\">\n            Aceptar\n          </button>\n        </div>\n      </mat-step>\n    </mat-horizontal-stepper>\n  </mat-card-content>\n</mat-card>\n",
                styles: [""]
            }] }
];
/** @nocollapse */
JournalEditComponent.ctorParameters = () => [
    { type: MetadataService },
    { type: SourceService },
    { type: CatalogService },
    { type: TaxonomyService },
    { type: MatSnackBar },
    { type: FormBuilder }
];
JournalEditComponent.propDecorators = {
    journalVersion: [{ type: Input }],
    showEditHeader: [{ type: Input }],
    description: [{ type: Input }],
    topMainOrganization: [{ type: Input }],
    showFinalStep: [{ type: Input }],
    journalEditDone: [{ type: Output }],
    editCanceled: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    JournalEditComponent.prototype.pageTitle;
    /** @type {?} */
    JournalEditComponent.prototype.journalData;
    /** @type {?} */
    JournalEditComponent.prototype.journalVersion;
    /** @type {?} */
    JournalEditComponent.prototype.showEditHeader;
    /** @type {?} */
    JournalEditComponent.prototype.description;
    /** @type {?} */
    JournalEditComponent.prototype.topMainOrganization;
    /** @type {?} */
    JournalEditComponent.prototype.showFinalStep;
    /** @type {?} */
    JournalEditComponent.prototype.identifiersPanel;
    /** @type {?} */
    JournalEditComponent.prototype.identifiersFormGroup;
    /** @type {?} */
    JournalEditComponent.prototype.informationPanel;
    /** @type {?} */
    JournalEditComponent.prototype.informationFormGroup;
    /** @type {?} */
    JournalEditComponent.prototype.informationSocialFormGroup;
    /** @type {?} */
    JournalEditComponent.prototype.journalCover;
    /** @type {?} */
    JournalEditComponent.prototype.organizationFormGroup;
    /** @type {?} */
    JournalEditComponent.prototype.indexesFormGroup;
    /** @type {?} */
    JournalEditComponent.prototype.finalPanel;
    /** @type {?} */
    JournalEditComponent.prototype.finalFormGroup;
    /** @type {?} */
    JournalEditComponent.prototype.stepAction1;
    /** @type {?} */
    JournalEditComponent.prototype.stepAction2;
    /** @type {?} */
    JournalEditComponent.prototype.stepAction3;
    /** @type {?} */
    JournalEditComponent.prototype.stepAction4;
    /** @type {?} */
    JournalEditComponent.prototype.journalEditDone;
    /** @type {?} */
    JournalEditComponent.prototype.editCanceled;
    /**
     * @type {?}
     * @private
     */
    JournalEditComponent.prototype.metadata;
    /**
     * @type {?}
     * @private
     */
    JournalEditComponent.prototype.sourceService;
    /**
     * @type {?}
     * @private
     */
    JournalEditComponent.prototype.catalogService;
    /**
     * @type {?}
     * @private
     */
    JournalEditComponent.prototype.taxonomyService;
    /** @type {?} */
    JournalEditComponent.prototype.snackBar;
    /**
     * @type {?}
     * @private
     */
    JournalEditComponent.prototype.formBuilder;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiam91cm5hbC1lZGl0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3RvY28tbGliLyIsInNvdXJjZXMiOlsibGliL3NvdXJjZXMvc291cmNlLWVkaXQvam91cm5hbC1lZGl0L2pvdXJuYWwtZWRpdC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBYSxXQUFXLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzdGLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSwwQkFBMEIsRUFBUSxNQUFNLDhCQUE4QixDQUFDO0FBQzVLLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLHVFQUF1RSxDQUFDO0FBQ2hILE9BQU8sRUFBcUMsdUJBQXVCLEVBQUUsa0JBQWtCLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsZUFBZSxFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixFQUFFLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFPN1MsTUFBTSxPQUFPLG9CQUFvQjs7Ozs7Ozs7O0lBNEQvQixZQUNVLFFBQXlCLEVBQ3pCLGFBQTRCLEVBQzVCLGNBQThCLEVBQzlCLGVBQWdDLEVBQ2pDLFFBQXFCLEVBQ3BCLFdBQXdCO1FBTHhCLGFBQVEsR0FBUixRQUFRLENBQWlCO1FBQ3pCLGtCQUFhLEdBQWIsYUFBYSxDQUFlO1FBQzVCLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUM5QixvQkFBZSxHQUFmLGVBQWUsQ0FBaUI7UUFDakMsYUFBUSxHQUFSLFFBQVEsQ0FBYTtRQUNwQixnQkFBVyxHQUFYLFdBQVcsQ0FBYTs7OztRQTlEM0IsY0FBUyxHQUFHLEVBQUUsQ0FBQztRQUVmLGdCQUFXLEdBQWdCLElBQUksQ0FBQztRQUdoQyxtQkFBYyxHQUFtQixJQUFJLENBQUM7UUFHdEMsbUJBQWMsR0FBRyxLQUFLLENBQUM7UUFHdkIsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFHakIsd0JBQW1CLEdBQWlCLElBQUksQ0FBQztRQUd6QyxrQkFBYSxHQUFHLElBQUksQ0FBQzs7UUFHNUIscUJBQWdCLEdBQWlCLElBQUksQ0FBQzs7UUFJdEMscUJBQWdCLEdBQWlCLElBQUksQ0FBQzs7OztRQWdCdEMsZUFBVSxHQUFpQixJQUFJLENBQUM7O1FBV2hDLG9CQUFlLEdBQUcsSUFBSSxZQUFZLEVBQWtCLENBQUM7UUFHckQsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO0lBU3hDLENBQUM7Ozs7SUFFSixRQUFRO1FBQ04sSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUs7WUFDckMsQ0FBQyxDQUFDLGVBQWU7WUFDakIsQ0FBQyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUMxQyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUV0RCxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFakIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDOzs7O0lBRUQsWUFBWTtRQUNWLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7UUFDN0IsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQztRQUVqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUM7UUFDakMsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQztRQUV2Qyw0QkFBNEI7UUFDNUIsaUNBQWlDO1FBQ2pDLDJCQUEyQjtRQUMzQixnQ0FBZ0M7UUFDaEMsc0JBQXNCO1FBQ3RCLDJCQUEyQjtRQUMzQixJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7SUFDL0IsQ0FBQzs7OztJQUVELG9CQUFvQjtRQUNsQixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFdkQsSUFBSSxDQUFDLGdCQUFnQjtZQUNuQjtnQkFDRSxJQUFJLEVBQUUsa0JBQWtCO2dCQUN4QixLQUFLLEVBQUUsaUJBQWlCO2dCQUN4QixXQUFXLEVBQUUsdUJBQXVCO2dCQUNwQyxXQUFXLEVBQUUsRUFBRTtnQkFDZixRQUFRLEVBQUUsRUFBRTtnQkFDWixXQUFXLEVBQUUsSUFBSSxDQUFDLG9CQUFvQjtnQkFDdEMsa0JBQWtCLEVBQUU7b0JBQ2xCO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLFFBQVE7d0JBQ2QsS0FBSyxFQUFFLGdCQUFnQjt3QkFDdkIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJO3dCQUN4QixXQUFXLEVBQUUsa0JBQWtCO3dCQUMvQixRQUFRLEVBQUUsS0FBSzt3QkFDZixTQUFTLEVBQUUsSUFBSSxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUM7d0JBQ3pELEtBQUssRUFBRSxLQUFLO3dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVzs0QkFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDOzRCQUMvRCxDQUFDLENBQUMsRUFBRTtxQkFFUDtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsa0JBQWtCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3pELElBQUksRUFBRSxRQUFRO3dCQUNkLEtBQUssRUFBRSxjQUFjO3dCQUNyQixJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUk7d0JBQ3hCLFdBQVcsRUFBRSxrQkFBa0I7d0JBQy9CLFFBQVEsRUFBRSxLQUFLO3dCQUNmLFNBQVMsRUFBRSxJQUFJLFNBQVMsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQzt3QkFDekQsS0FBSyxFQUFFLEtBQUs7d0JBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXOzRCQUNyQixDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7NEJBQy9ELENBQUMsQ0FBQyxFQUFFO3FCQUVQO29CQUNEO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLFFBQVE7d0JBQ2QsS0FBSyxFQUFFLGtCQUFrQjt3QkFDekIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJO3dCQUN4QixXQUFXLEVBQUUsa0JBQWtCO3dCQUMvQixRQUFRLEVBQUUsS0FBSzt3QkFDZixTQUFTLEVBQUUsSUFBSSxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUM7d0JBQ3pELEtBQUssRUFBRSxLQUFLO3dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVzs0QkFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDOzRCQUMvRCxDQUFDLENBQUMsRUFBRTtxQkFFUDtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsa0JBQWtCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3pELElBQUksRUFBRSxRQUFRO3dCQUNkLEtBQUssRUFBRSxjQUFjO3dCQUNyQixJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUk7d0JBQ3hCLFdBQVcsRUFBRSxrQkFBa0I7d0JBQy9CLFFBQVEsRUFBRSxJQUFJO3dCQUNkLFNBQVMsRUFBRSxJQUFJLFNBQVMsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQzt3QkFDckQsS0FBSyxFQUFFLEtBQUs7d0JBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXOzRCQUNyQixDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7NEJBQzlELENBQUMsQ0FBQyxFQUFFO3FCQUNQO29CQUNEO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLFFBQVE7d0JBQ2QsS0FBSyxFQUFFLGtCQUFrQjt3QkFDekIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJO3dCQUN4QixXQUFXLEVBQUUsa0JBQWtCO3dCQUMvQixRQUFRLEVBQUUsSUFBSTt3QkFDZCxTQUFTLEVBQUUsSUFBSSxTQUFTLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUM7d0JBQ3JELEtBQUssRUFBRSxLQUFLO3dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVzs0QkFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDOzRCQUM5RCxDQUFDLENBQUMsRUFBRTtxQkFDUDtpQkFDRjthQUNGLENBQUM7SUFDTixDQUFDOzs7O0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQzs7WUFFakQsVUFBVSxFQUFFLElBQUksV0FBVyxDQUFDLEVBQUUsQ0FBQztZQUMvQixRQUFRLEVBQUUsSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDO1NBQzlCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUU3RCxJQUFJLENBQUMsZ0JBQWdCO1lBQ25CO2dCQUNFLElBQUksRUFBRSxrQkFBa0I7Z0JBQ3hCLEtBQUssRUFBRSxxQkFBcUI7Z0JBQzVCLFdBQVcsRUFBRSxFQUFFO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2dCQUNaLFdBQVcsRUFBRSx1QkFBdUI7Z0JBQ3BDLFdBQVcsRUFBRSxJQUFJLENBQUMsb0JBQW9CO2dCQUN0QyxrQkFBa0IsRUFBRTtvQkFDbEI7d0JBQ0UsV0FBVyxFQUFFLGtCQUFrQixDQUFDLHVCQUF1QixFQUFFO3dCQUN6RCxJQUFJLEVBQUUsT0FBTzt3QkFDYixLQUFLLEVBQUUsUUFBUTt3QkFDZixJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUk7d0JBQ3hCLFdBQVcsRUFBRSxrQkFBa0I7d0JBQy9CLFFBQVEsRUFBRSxJQUFJO3dCQUNkLEtBQUssRUFBRSxNQUFNO3dCQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtxQkFDdEQ7b0JBQ0Q7d0JBQ0UsV0FBVyxFQUFFLGtCQUFrQixDQUFDLHVCQUF1QixFQUFFO3dCQUN6RCxJQUFJLEVBQUUsVUFBVTt3QkFDaEIsS0FBSyxFQUFFLFdBQVc7d0JBQ2xCLElBQUksRUFBRSxhQUFhLENBQUMsSUFBSTt3QkFDeEIsV0FBVyxFQUFFLGtCQUFrQjt3QkFDL0IsUUFBUSxFQUFFLEtBQUs7d0JBQ2YsS0FBSyxFQUFFLEtBQUs7d0JBQ1osU0FBUyxFQUFFLElBQUksU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO3dCQUNoRCxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7cUJBQ3pEO29CQUNEO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLFdBQVc7d0JBQ2pCLEtBQUssRUFBRSxrQkFBa0I7d0JBQ3pCLElBQUksRUFBRSxhQUFhLENBQUMsSUFBSTt3QkFDeEIsV0FBVyxFQUFFLGtCQUFrQjt3QkFDL0IsUUFBUSxFQUFFLEtBQUs7d0JBQ2YsS0FBSyxFQUFFLEtBQUs7d0JBQ1osU0FBUyxFQUFFLElBQUksU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO3dCQUNoRCxLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7cUJBQzFEO29CQUNEO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLGFBQWE7d0JBQ25CLEtBQUssRUFBRSxpQkFBaUI7d0JBQ3hCLElBQUksRUFBRSxhQUFhLENBQUMsV0FBVzt3QkFDL0IsV0FBVyxFQUFFLGVBQWU7d0JBQzVCLFFBQVEsRUFBRSxJQUFJO3dCQUNkLEtBQUssRUFBRSxLQUFLO3dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFDM0QsWUFBWSxFQUFFOzRCQUNaLFFBQVEsRUFBRSxLQUFLOzRCQUNmLFVBQVU7Ozs0QkFBRSxHQUFHLEVBQUU7Z0NBQ2YsT0FBTztvQ0FDTDt3Q0FDRSxLQUFLLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLO3dDQUNoQyxLQUFLLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLO3FDQUNqQztvQ0FDRDt3Q0FDRSxLQUFLLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLO3dDQUNoQyxLQUFLLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLO3FDQUNqQztvQ0FDRDt3Q0FDRSxLQUFLLEVBQUUsV0FBVyxDQUFDLGNBQWMsQ0FBQyxLQUFLO3dDQUN2QyxLQUFLLEVBQUUsV0FBVyxDQUFDLGNBQWMsQ0FBQyxLQUFLO3FDQUN4QztpQ0FDRixDQUFDOzRCQUNKLENBQUMsQ0FBQTt5QkFDRjtxQkFDRjtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsa0JBQWtCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3pELElBQUksRUFBRSxhQUFhO3dCQUNuQixLQUFLLEVBQUUsYUFBYTt3QkFDcEIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxRQUFRO3dCQUM1QixXQUFXLEVBQUUsaUJBQWlCO3dCQUM5QixRQUFRLEVBQUUsSUFBSTt3QkFDZCxLQUFLLEVBQUUsTUFBTTt3QkFDYixLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUU7cUJBQzVEO29CQUNELElBQUk7b0JBQ0oscUJBQXFCO29CQUNyQix3QkFBd0I7b0JBQ3hCLGtDQUFrQztvQkFDbEMsb0JBQW9CO29CQUNwQixtQkFBbUI7b0JBQ25CLGtFQUFrRTtvQkFDbEUsS0FBSztvQkFDTDt3QkFDRSxXQUFXLEVBQUUsaUJBQWlCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3hELElBQUksRUFBRSxLQUFLO3dCQUNYLEtBQUssRUFBRSxLQUFLO3dCQUNaLElBQUksRUFBRSxhQUFhLENBQUMsR0FBRzt3QkFDdkIsV0FBVyxFQUFFLGlCQUFpQjt3QkFDOUIsUUFBUSxFQUFFLElBQUk7d0JBQ2QsU0FBUyxFQUFFLElBQUksU0FBUyxDQUN0QixZQUFZLENBQUMsS0FBSyxFQUNsQix5QkFBeUIsQ0FDMUI7d0JBQ0QsS0FBSyxFQUFFLE1BQU07d0JBQ2IsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXOzRCQUNyQixDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUM7NEJBQzVELENBQUMsQ0FBQyxFQUFFO3FCQUNQO29CQUNEO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLGVBQWU7d0JBQ3JCLEtBQUssRUFBRSx3Q0FBd0M7d0JBQy9DLElBQUksRUFBRSxhQUFhLENBQUMsV0FBVzt3QkFDL0IsV0FBVyxFQUFFLGVBQWU7d0JBQzVCLFFBQVEsRUFBRSxLQUFLO3dCQUNmLEtBQUssRUFBRSxLQUFLO3dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFDN0QsWUFBWSxFQUFFOzRCQUNaLFFBQVEsRUFBRSxLQUFLOzRCQUNmLFVBQVU7Ozs0QkFBRSxHQUFHLEVBQUU7Z0NBQ2YsT0FBTztvQ0FDTDt3Q0FDRSxLQUFLLEVBQUUsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLO3dDQUM5QixLQUFLLEVBQUUsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLO3FDQUMvQjtvQ0FDRDt3Q0FDRSxLQUFLLEVBQUUsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLO3dDQUM5QixLQUFLLEVBQUUsYUFBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLO3FDQUMvQjtvQ0FDRDt3Q0FDRSxLQUFLLEVBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxLQUFLO3dDQUNoQyxLQUFLLEVBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxLQUFLO3FDQUNqQztpQ0FDRixDQUFDOzRCQUNKLENBQUMsQ0FBQTt5QkFDRjtxQkFDRjtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsaUJBQWlCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3hELElBQUksRUFBRSxRQUFRO3dCQUNkLEtBQUssRUFBRSxTQUFTO3dCQUNoQixJQUFJLEVBQUUsYUFBYSxDQUFDLEdBQUc7d0JBQ3ZCLFdBQVcsRUFBRSxpQkFBaUI7d0JBQzlCLFFBQVEsRUFBRSxLQUFLO3dCQUNmLFNBQVMsRUFBRSxJQUFJLFNBQVMsQ0FDdEIsWUFBWSxDQUFDLEtBQUssRUFDbEIseUJBQXlCLENBQzFCO3dCQUNELEtBQUssRUFBRSxLQUFLO3dCQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVzs0QkFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDOzRCQUMvRCxDQUFDLENBQUMsRUFBRTtxQkFDUDtvQkFDRCxJQUFJO29CQUNKLDhCQUE4QjtvQkFDOUIsc0NBQXNDO29CQUN0Qyw2QkFBNkI7b0JBQzdCLHFCQUFxQjtvQkFDckIsc0RBQXNEO29CQUN0RCxtQkFBbUI7b0JBQ25CLDJFQUEyRTtvQkFDM0UsS0FBSztvQkFFTDt3QkFDRSxXQUFXLEVBQUUsbUJBQW1CLENBQUMsdUJBQXVCLEVBQUU7d0JBQzFELElBQUksRUFBRSxPQUFPO3dCQUNiLEtBQUssRUFBRSxvQkFBb0I7d0JBQzNCLElBQUksRUFBRSxhQUFhLENBQUMsS0FBSzt3QkFDekIsV0FBVyxFQUFFLG1CQUFtQjt3QkFDaEMsUUFBUSxFQUFFLElBQUk7d0JBQ2QsU0FBUyxFQUFFLElBQUksU0FBUyxDQUN0QixZQUFZLENBQUMsS0FBSyxFQUNsQiwwQkFBMEIsQ0FDM0I7d0JBQ0QsS0FBSyxFQUFFLEtBQUs7d0JBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO3FCQUN0RDtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsa0JBQWtCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3pELElBQUksRUFBRSxTQUFTO3dCQUNmLEtBQUssRUFBRSxVQUFVO3dCQUNqQixJQUFJLEVBQUUsYUFBYSxDQUFDLFVBQVU7d0JBQzlCLFdBQVcsRUFBRSxtQkFBbUI7d0JBQ2hDLFFBQVEsRUFBRSxLQUFLO3dCQUNmLEtBQUssRUFBRSxLQUFLO3dCQUNaLFlBQVksRUFBRTs0QkFDWixRQUFRLEVBQUUsS0FBSzs0QkFDZixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsV0FBVztnQ0FDaEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLEdBQUc7Ozs7Z0NBQ2xDLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUM5QjtnQ0FDSCxDQUFDLENBQUMsSUFBSTs0QkFDUixLQUFLLEVBQUUsMEJBQTBCLENBQUMsUUFBUTs0QkFDMUMsS0FBSyxFQUFFLENBQUM7eUJBQ1Q7cUJBQ0Y7b0JBQ0Q7d0JBQ0UsV0FBVyxFQUFFLGtCQUFrQixDQUFDLHVCQUF1QixFQUFFO3dCQUN6RCxJQUFJLEVBQUUsWUFBWTt3QkFDbEIsS0FBSyxFQUFFLGVBQWU7d0JBQ3RCLElBQUksRUFBRSxhQUFhLENBQUMsVUFBVTt3QkFDOUIsV0FBVyxFQUFFLG1CQUFtQjt3QkFDaEMsUUFBUSxFQUFFLEtBQUs7d0JBQ2YsS0FBSyxFQUFFLEtBQUs7d0JBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFO3FCQUMzRDtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsa0JBQWtCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3pELElBQUksRUFBRSxVQUFVO3dCQUNoQixLQUFLLEVBQUUsV0FBVzt3QkFDbEIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxVQUFVO3dCQUM5QixXQUFXLEVBQUUsbUJBQW1CO3dCQUNoQyxRQUFRLEVBQUUsS0FBSzt3QkFDZixLQUFLLEVBQUUsS0FBSzt3QkFDWixLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7cUJBQ3pEO29CQUNEO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLFdBQVc7d0JBQ2pCLEtBQUssRUFBRSxZQUFZO3dCQUNuQixJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUk7d0JBQ3hCLFdBQVcsRUFBRSxrQkFBa0I7d0JBQy9CLFFBQVEsRUFBRSxLQUFLO3dCQUNmLFNBQVMsRUFBRSxJQUFJLFNBQVMsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQzt3QkFDaEQsS0FBSyxFQUFFLEtBQUs7d0JBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFO3FCQUMxRDtvQkFDRCxJQUFJO29CQUNKLG9EQUFvRDtvQkFDcEQsbUJBQW1CO29CQUNuQixpQ0FBaUM7b0JBQ2pDLHFDQUFxQztvQkFDckMsb0JBQW9CO29CQUNwQixrQkFBa0I7b0JBQ2xCLG9CQUFvQjtvQkFDcEIsdUJBQXVCO29CQUN2Qiw0REFBNEQ7b0JBQzVELDZDQUE2QztvQkFDN0MsVUFBVTtvQkFDVixTQUFTO29CQUNULHVDQUF1QztvQkFDdkMseUNBQXlDO29CQUN6QyxtRUFBbUU7b0JBQ25FLHNCQUFzQjtvQkFDdEIsOEJBQThCO29CQUM5QiwwQ0FBMEM7b0JBQzFDLGNBQWM7b0JBQ2QsWUFBWTtvQkFDWixxQkFBcUI7b0JBQ3JCLFNBQVM7b0JBQ1QsbUNBQW1DO29CQUNuQyx1REFBdUQ7b0JBQ3ZELDBEQUEwRDtvQkFDMUQsMENBQTBDO29CQUMxQywyREFBMkQ7b0JBRTNELFNBQVM7b0JBQ1QsT0FBTztvQkFDUCxLQUFLO29CQUNMO3dCQUNFLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQyx1QkFBdUIsRUFBRTt3QkFDekQsSUFBSSxFQUFFLFVBQVU7d0JBQ2hCLEtBQUssRUFBRSxVQUFVO3dCQUNqQixJQUFJLEVBQUUsYUFBYSxDQUFDLGVBQWU7d0JBQ25DLFdBQVcsRUFBRSx1QkFBdUI7d0JBQ3BDLFFBQVEsRUFBRSxLQUFLO3dCQUNmLEtBQUssRUFBRSxLQUFLO3dCQUNaLFlBQVksRUFBRTs0QkFDWixRQUFRLEVBQUUsSUFBSTs0QkFDZCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsV0FBVztnQ0FDaEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLEdBQUc7Ozs7Z0NBQ2xDLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUM5QjtnQ0FDSCxDQUFDLENBQUMsSUFBSTs0QkFDUixLQUFLLEVBQUUsMEJBQTBCLENBQUMsUUFBUTs0QkFDMUMsS0FBSyxFQUFFLENBQUM7eUJBQ1Q7cUJBQ0Y7b0JBQ0Q7d0JBQ0UsV0FBVyxFQUFFLGlCQUFpQixDQUFDLHVCQUF1QixFQUFFO3dCQUN4RCxJQUFJLEVBQUUsVUFBVTt3QkFDaEIsS0FBSyxFQUFFLFVBQVU7d0JBQ2pCLElBQUksRUFBRSxhQUFhLENBQUMsR0FBRzt3QkFDdkIsV0FBVyxFQUFFLGlCQUFpQjt3QkFDOUIsUUFBUSxFQUFFLEtBQUs7d0JBQ2YsS0FBSyxFQUFFLEtBQUs7d0JBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXOzRCQUNyQixDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsUUFBUTs0QkFDMUMsQ0FBQyxDQUFDLEVBQUU7cUJBQ1A7b0JBQ0Q7d0JBQ0UsV0FBVyxFQUFFLGlCQUFpQixDQUFDLHVCQUF1QixFQUFFO3dCQUN4RCxJQUFJLEVBQUUsU0FBUzt3QkFDZixLQUFLLEVBQUUsU0FBUzt3QkFDaEIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxHQUFHO3dCQUN2QixXQUFXLEVBQUUsaUJBQWlCO3dCQUM5QixRQUFRLEVBQUUsS0FBSzt3QkFDZixLQUFLLEVBQUUsS0FBSzt3QkFDWixLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVc7NEJBQ3JCLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxPQUFPOzRCQUN6QyxDQUFDLENBQUMsRUFBRTtxQkFDUDtvQkFDRDt3QkFDRSxXQUFXLEVBQUUsaUJBQWlCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3hELElBQUksRUFBRSxVQUFVO3dCQUNoQixLQUFLLEVBQUUsVUFBVTt3QkFDakIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxHQUFHO3dCQUN2QixXQUFXLEVBQUUsaUJBQWlCO3dCQUM5QixRQUFRLEVBQUUsS0FBSzt3QkFDZixLQUFLLEVBQUUsS0FBSzt3QkFDWixLQUFLLEVBQUUsSUFBSSxDQUFDLFdBQVc7NEJBQ3JCLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxRQUFROzRCQUMxQyxDQUFDLENBQUMsRUFBRTtxQkFDUDtpQkFDRjthQUNGLENBQUM7UUFDRixJQUFJO1FBQ0osNkJBQTZCO1FBQzdCLHFCQUFxQjtRQUNyQixrQkFBa0I7UUFDbEIsNENBQTRDO1FBQzVDLDBCQUEwQjtRQUMxQixRQUFRO1FBQ1IsMEJBQTBCO1FBQzFCLDJCQUEyQjtRQUMzQixpQ0FBaUM7UUFDakMseUJBQXlCO1FBQ3pCLHNCQUFzQjtRQUN0QixnQ0FBZ0M7UUFDaEMscURBQXFEO1FBQ3JELGdCQUFnQjtRQUNoQixTQUFTO1FBQ1QsUUFBUTtRQUNSLHlCQUF5QjtRQUN6QiwwQkFBMEI7UUFDMUIsaUNBQWlDO1FBQ2pDLHlCQUF5QjtRQUN6QixzQkFBc0I7UUFDdEIsZ0NBQWdDO1FBQ2hDLG9EQUFvRDtRQUNwRCxnQkFBZ0I7UUFDaEIsU0FBUztRQUNULFFBQVE7UUFDUiwwQkFBMEI7UUFDMUIsMkJBQTJCO1FBQzNCLGlDQUFpQztRQUNqQyx5QkFBeUI7UUFDekIsc0JBQXNCO1FBQ3RCLGdDQUFnQztRQUNoQyxxREFBcUQ7UUFDckQsZ0JBQWdCO1FBQ2hCLFNBQVM7UUFDVCxPQUFPO1FBQ1AsS0FBSztJQUVULENBQUM7Ozs7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBQ2xELFlBQVksRUFBRSxJQUFJLFdBQVcsQ0FBQyxFQUFFLENBQUM7U0FDbEMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs7OztJQUVELFNBQVM7UUFDUCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckQsQ0FBQzs7OztJQUNELGNBQWM7UUFDWixpQ0FBaUM7UUFFakMsMERBQTBEO1FBQzFELHNFQUFzRTtRQUN0RSxLQUFLO1FBQ0wsNkJBQTZCO0lBQy9CLENBQUM7Ozs7SUFFRCxhQUFhO1FBQ1gsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsVUFBVTtZQUNiO2dCQUNFLElBQUksRUFBRSxZQUFZO2dCQUNsQixLQUFLLEVBQUUsRUFBRTtnQkFDVCxXQUFXLEVBQUUsRUFBRTtnQkFDZixRQUFRLEVBQUUsRUFBRTtnQkFDWixXQUFXLEVBQUUsSUFBSSxDQUFDLGNBQWM7Z0JBQ2hDLFdBQVcsRUFBRSx1QkFBdUI7Z0JBQ3BDLGtCQUFrQixFQUFFO29CQUNsQjt3QkFDRSxXQUFXLEVBQUUsa0JBQWtCLENBQUMsdUJBQXVCLEVBQUU7d0JBQ3pELElBQUksRUFBRSxTQUFTO3dCQUNmLEtBQUssRUFBRSxtQ0FBbUM7d0JBQzFDLElBQUksRUFBRSxhQUFhLENBQUMsUUFBUTt3QkFDNUIsV0FBVyxFQUFFLGlCQUFpQjt3QkFDOUIsUUFBUSxFQUFFLEtBQUs7d0JBQ2YsU0FBUyxFQUFFLElBQUksU0FBUyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO3dCQUNoRCxLQUFLLEVBQUUsTUFBTTt3QkFDYixRQUFRLEVBQUUsTUFBTTt3QkFDaEIsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtxQkFDbkU7aUJBQ0Y7YUFDRixDQUFDO0lBQ04sQ0FBQzs7Ozs7SUFFTyxpQkFBaUI7UUFDdkIsb0ZBQW9GO1FBRXBGLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQ2pDLGlCQUFpQixDQUFDLE1BQU0sRUFDeEIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQ3ZDLENBQUM7UUFDRixJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUNqQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQ3hCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUN2QyxDQUFDO1FBQ0YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FDakMsaUJBQWlCLENBQUMsTUFBTSxFQUN4QixJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FDdkMsQ0FBQztRQUNGLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQ2pDLGlCQUFpQixDQUFDLEtBQUssRUFDdkIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQ3ZDLENBQUM7UUFDRixJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUNqQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQ3ZCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUN2QyxDQUFDO1FBRUYscUNBQXFDO1FBQ3JDLG9DQUFvQztRQUNwQyxLQUFLO1FBQ0wscUNBQXFDO1FBQ3JDLG9DQUFvQztRQUNwQyxLQUFLO1FBRUwsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUUxRSxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUNqQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQ3JCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUNwQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FDakMsaUJBQWlCLENBQUMsTUFBTSxFQUN4QixJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FDdkMsQ0FBQztRQUVGLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQzVELGFBQWEsQ0FDZCxDQUFDOztjQUVJLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxNQUFNOzs7O1FBQ3JELENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxJQUFJLDBCQUEwQixDQUFDLE9BQU8sRUFDbEU7UUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7UUFFdEMsSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFDO1lBQzNDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsT0FBTzs7OztZQUFDLENBQUMsSUFBVSxFQUFFLEVBQUU7O3NCQUM1RCxFQUFFLEdBQUcsSUFBSSxtQkFBbUIsRUFBRTtnQkFDcEMsRUFBRSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUNsQyxFQUFFLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQ2xCLEVBQUUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzVDLENBQUMsRUFBQyxDQUFDO1NBQ0o7UUFDRCwrREFBK0Q7UUFDL0QsMENBQTBDO1FBQzFDLHVDQUF1QztRQUN2Qyx1QkFBdUI7UUFDdkIsd0NBQXdDO1FBQ3hDLCtDQUErQztRQUMvQyxNQUFNO1FBRU4sSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFDO1lBQzlDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTzs7OztZQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7O3NCQUNyRCxFQUFFLEdBQUcsSUFBSSxtQkFBbUIsRUFBRTtnQkFDcEMsRUFBRSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUNsQyxFQUFFLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQ2xCLEVBQUUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzVDLENBQUMsRUFBQyxDQUFDO1NBRUo7UUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FDeEUsT0FBTyxDQUNSLENBQUM7UUFDRixtRUFBbUU7UUFFbkUsb0NBQW9DO1FBQ3BDLG1CQUFtQjtRQUNuQixtREFBbUQ7UUFDbkQsMENBQTBDO1FBQzFDLDZCQUE2QjtRQUM3QixxQ0FBcUM7UUFDckMsa0RBQWtEO1FBQ2xELGtEQUFrRDtRQUVsRCxJQUFJO1FBQ0osS0FBSztRQUVMLHNDQUFzQztRQUN0QyxvREFBb0Q7UUFDcEQsTUFBTTtRQUNOLGtDQUFrQztRQUNsQyx1Q0FBdUM7UUFDdkMsMENBQTBDO1FBQzFDLG9DQUFvQztRQUNwQyx1Q0FBdUM7UUFDdkMsdUJBQXVCO1FBQ3ZCLHdDQUF3QztRQUN4QyxrRUFBa0U7UUFDbEUsNERBQTREO1FBQzVELCtCQUErQjtRQUMvQixPQUFPO1FBQ1Asd0RBQXdEO1FBQ3hELDJCQUEyQjtRQUMzQixPQUFPO1FBQ1AsK0NBQStDO1FBQy9DLE1BQU07UUFFTixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVwRCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUN4QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7Ozs7SUFFTSxhQUFhO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzlCLHlDQUF5QztRQUN6QyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUV6QixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDakQsQ0FBQzs7OztJQUNNLGFBQWE7UUFDbEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQzs7O1lBdHVCRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLG1CQUFtQjtnQkFDN0IsK3hMQUE0Qzs7YUFFN0M7Ozs7WUFWUSxlQUFlO1lBRGYsYUFBYTtZQUFFLGNBQWM7WUFBRSxlQUFlO1lBRDlDLFdBQVc7WUFEQSxXQUFXOzs7NkJBc0I1QixLQUFLOzZCQUdMLEtBQUs7MEJBR0wsS0FBSztrQ0FHTCxLQUFLOzRCQUdMLEtBQUs7OEJBa0NMLE1BQU07MkJBR04sTUFBTTs7OztJQXJEUCx5Q0FBc0I7O0lBRXRCLDJDQUF1Qzs7SUFFdkMsOENBQzZDOztJQUU3Qyw4Q0FDOEI7O0lBRTlCLDJDQUN3Qjs7SUFFeEIsbURBQ2dEOztJQUVoRCw2Q0FDNEI7O0lBRzVCLGdEQUFzQzs7SUFDdEMsb0RBQWdDOztJQUdoQyxnREFBc0M7O0lBQ3RDLG9EQUFnQzs7SUFDaEMsMERBQXNDOztJQUV0Qyw0Q0FBa0M7O0lBRWxDLHFEQUFpQzs7SUFHakMsZ0RBQTRCOztJQU81QiwwQ0FBZ0M7O0lBQ2hDLDhDQUEwQjs7SUFHMUIsMkNBQWlDOztJQUNqQywyQ0FBaUM7O0lBQ2pDLDJDQUFpQzs7SUFDakMsMkNBQWlDOztJQUdqQywrQ0FDcUQ7O0lBRXJELDRDQUMyQzs7Ozs7SUFHekMsd0NBQWlDOzs7OztJQUNqQyw2Q0FBb0M7Ozs7O0lBQ3BDLDhDQUFzQzs7Ozs7SUFDdEMsK0NBQXdDOztJQUN4Qyx3Q0FBNEI7Ozs7O0lBQzVCLDJDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Hcm91cCwgRm9ybUJ1aWxkZXIsIEZvcm1Db250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTWF0U25hY2tCYXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBTb3VyY2VTZXJ2aWNlLCBDYXRhbG9nU2VydmljZSwgVGF4b25vbXlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vYmFja2VuZC9wdWJsaWMtYXBpJztcbmltcG9ydCB7IE1ldGFkYXRhU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvcHVibGljLWFwaSc7XG5pbXBvcnQgeyBJZGVudGlmaWVyU2NoZW1hcyB9IGZyb20gJy4uLy4uLy4uL2VudGl0aWVzL2NvbW1vbic7XG5pbXBvcnQgeyBKb3VybmFsRGF0YSwgSm91cm5hbFZlcnNpb24sIE9yZ2FuaXphdGlvbiwgU291cmNlQ2xhc2lmaWNhdGlvbiwgU291cmNlVHlwZXMsIFNvdXJjZVN5c3RlbXMsIFZvY2FidWxhcmllc0lubXV0YWJsZU5hbWVzLCBUZXJtIH0gZnJvbSAnLi4vLi4vLi4vZW50aXRpZXMvcHVibGljLWFwaSc7XG5pbXBvcnQgeyBWb2NhYnVsYXJ5VHJlZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL2Zvcm1zL2V4cGVyaW1lbnRhbC92b2NhYnVsYXJ5LXRyZWUvdm9jYWJ1bGFyeS10cmVlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQYW5lbENvbnRlbnQsIEZvcm1Db250YWluZXJBY3Rpb24sIENvbnRhaW5lclBhbmVsQ29tcG9uZW50LCBJbnB1dFRleHRDb21wb25lbnQsIEZvcm1GaWVsZFR5cGUsIEhpbnRWYWx1ZSwgSGludFBvc2l0aW9uLCBJbnB1dFJucHNDb21wb25lbnQsIFNlbGVjdENvbXBvbmVudCwgVGV4dGFyZWFDb21wb25lbnQsIElucHV0VXJsQ29tcG9uZW50LCBJbnB1dEVtYWlsQ29tcG9uZW50LCBWb2NhYnVsYXJ5Q29tcG9uZW50LCBEYXRlcGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vZm9ybXMvcHVibGljLWFwaSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogXCJ0b2NvLWpvdXJuYWwtZWRpdFwiLFxuICB0ZW1wbGF0ZVVybDogXCIuL2pvdXJuYWwtZWRpdC5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vam91cm5hbC1lZGl0LmNvbXBvbmVudC5zY3NzXCJdLFxufSlcbmV4cG9ydCBjbGFzcyBKb3VybmFsRWRpdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8vIFRPRE86IElkZWEgZGVsIGNvbXBvbmVudGU6XG4gIC8vIHRyYWJhamFuIGludGVybmFtZW50ZSBjb24gdW4gam91cm5hbCwgc2kgcmVjaWJlIG51bGwgZW50b25jZXMgZXMgdW5vIG51ZXZvLCBzaSByZWNpYmUgdW4gam91cm5hbCBlbnRvbmNlcyBlcyBlZGl0YXIuXG4gIC8vIGVuIGFtYm9zIGNhc29zIGRldnVlbHZlIGVsIGpvdXJuYWwgZWRpdGFkbywgbyBzZWEgZWwgY29udGVuaWRvLCBsaXN0byBwYXJhIGhhY2VyIHBvc3QgZW4gZWwgYmFja2VuZC5cbiAgcHVibGljIHBhZ2VUaXRsZSA9IFwiXCI7XG5cbiAgcHVibGljIGpvdXJuYWxEYXRhOiBKb3VybmFsRGF0YSA9IG51bGw7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGpvdXJuYWxWZXJzaW9uOiBKb3VybmFsVmVyc2lvbiA9IG51bGw7XG5cbiAgQElucHV0KClcbiAgcHVibGljIHNob3dFZGl0SGVhZGVyID0gZmFsc2U7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGRlc2NyaXB0aW9uID0gXCJcIjtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgdG9wTWFpbk9yZ2FuaXphdGlvbjogT3JnYW5pemF0aW9uID0gbnVsbDtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgc2hvd0ZpbmFsU3RlcCA9IHRydWU7XG5cbiAgLy8gam91cm5hbCBpZGVudGlmaWVycyB2YXJpYWJsZXMgZm9yIHN0ZXAgMFxuICBpZGVudGlmaWVyc1BhbmVsOiBQYW5lbENvbnRlbnQgPSBudWxsO1xuICBpZGVudGlmaWVyc0Zvcm1Hcm91cDogRm9ybUdyb3VwO1xuXG4gIC8vIGpvdXJuYWwgaW5mb3JtYXRpb24gdmFyaWFibGVzIGZvciBzdGVwIDFcbiAgaW5mb3JtYXRpb25QYW5lbDogUGFuZWxDb250ZW50ID0gbnVsbDtcbiAgaW5mb3JtYXRpb25Gb3JtR3JvdXA6IEZvcm1Hcm91cDtcbiAgaW5mb3JtYXRpb25Tb2NpYWxGb3JtR3JvdXA6IEZvcm1Hcm91cDtcblxuICBqb3VybmFsQ292ZXI6IFNvdXJjZUNsYXNpZmljYXRpb247XG5cbiAgb3JnYW5pemF0aW9uRm9ybUdyb3VwOiBGb3JtR3JvdXA7XG5cbiAgLy8gaW5kZXhlczogU291cmNlQ2xhc2lmaWNhdGlvbltdID0gW107XG4gIGluZGV4ZXNGb3JtR3JvdXA6IEZvcm1Hcm91cDtcblxuICAvLyBpbnN0aXR1dGlvbnM6IFNvdXJjZUNsYXNpZmljYXRpb25bXSA9IFtdO1xuICAvLyBlbnRpdHlGb3JtR3JvdXA6IEZvcm1Hcm91cDtcblxuICAvLyBpbmRleGVzIChkYXRhYmFzZXMpLCB2YXJpYWJsZXMgZm9yIHN0ZXAgM1xuXG4gIGZpbmFsUGFuZWw6IFBhbmVsQ29udGVudCA9IG51bGw7XG4gIGZpbmFsRm9ybUdyb3VwOiBGb3JtR3JvdXA7XG5cbiAgLy8gYWN0aW9ucywgaWYgbmVlZGVkXG4gIHN0ZXBBY3Rpb24xOiBGb3JtQ29udGFpbmVyQWN0aW9uO1xuICBzdGVwQWN0aW9uMjogRm9ybUNvbnRhaW5lckFjdGlvbjtcbiAgc3RlcEFjdGlvbjM6IEZvcm1Db250YWluZXJBY3Rpb247XG4gIHN0ZXBBY3Rpb240OiBGb3JtQ29udGFpbmVyQWN0aW9uO1xuXG4gIC8vIFRPRE86IEVzdG8gc2UgcHVlZGUgaGFjZXIgbWVqb3IsIGNvbiB1biBlbWl0ZXIgYWxjYW56YVxuICBAT3V0cHV0KClcbiAgam91cm5hbEVkaXREb25lID0gbmV3IEV2ZW50RW1pdHRlcjxKb3VybmFsVmVyc2lvbj4oKTtcblxuICBAT3V0cHV0KClcbiAgZWRpdENhbmNlbGVkID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIG1ldGFkYXRhOiBNZXRhZGF0YVNlcnZpY2UsXG4gICAgcHJpdmF0ZSBzb3VyY2VTZXJ2aWNlOiBTb3VyY2VTZXJ2aWNlLFxuICAgIHByaXZhdGUgY2F0YWxvZ1NlcnZpY2U6IENhdGFsb2dTZXJ2aWNlLFxuICAgIHByaXZhdGUgdGF4b25vbXlTZXJ2aWNlOiBUYXhvbm9teVNlcnZpY2UsXG4gICAgcHVibGljIHNuYWNrQmFyOiBNYXRTbmFja0JhcixcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlclxuICApIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5qb3VybmFsRGF0YSA9IG5ldyBKb3VybmFsRGF0YSgpO1xuICAgIHRoaXMuam91cm5hbERhdGEuZGVlcGNvcHkodGhpcy5qb3VybmFsVmVyc2lvbi5kYXRhKTtcblxuICAgIHRoaXMucGFnZVRpdGxlID0gdGhpcy5qb3VybmFsRGF0YS5pc05ld1xuICAgICAgPyBcIk51ZXZhIFJldmlzdGFcIlxuICAgICAgOiBcIkVkaXRhbmRvOiBcIiArIHRoaXMuam91cm5hbERhdGEudGl0bGU7XG4gICAgdGhpcy5tZXRhZGF0YS5zZXRTdGFuZGFyZE1ldGEodGhpcy5wYWdlVGl0bGUsIFwiXCIsIFwiXCIpO1xuXG4gICAgY29uc29sZS5sb2coXCJqb3VybmFsIGVkaXQgSU5JVFwiKTtcbiAgICB0aGlzLnJlc2V0U3RlcHBlcigpO1xuICAgIHRoaXMuaW5pdFN0ZXAyKCk7XG4gICAgdGhpcy5pbml0U3RlcDBJZGVudGlmaWVycygpO1xuICAgIHRoaXMuaW5pdFN0ZXAxKCk7XG5cbiAgICB0aGlzLmluaXRTdGVwMygpO1xuICAgIHRoaXMuaW5pdFN0ZXBGaW5hbCgpO1xuICB9XG5cbiAgcmVzZXRTdGVwcGVyKCkge1xuICAgIHRoaXMuaWRlbnRpZmllcnNQYW5lbCA9IG51bGw7XG4gICAgdGhpcy5pZGVudGlmaWVyc0Zvcm1Hcm91cCA9IG51bGw7XG5cbiAgICB0aGlzLmluZm9ybWF0aW9uUGFuZWwgPSBudWxsO1xuICAgIHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAgPSBudWxsO1xuICAgIHRoaXMuaW5mb3JtYXRpb25Tb2NpYWxGb3JtR3JvdXAgPSBudWxsO1xuXG4gICAgLy8gdGhpcy5vcmdhbml6YXRpb24gPSBudWxsO1xuICAgIC8vIHRoaXMub3JnYW5pemF0aW9uUGFuZWwgPSBudWxsO1xuICAgIC8vIHRoaXMuaW5zdGl0dXRpb24gPSBudWxsO1xuICAgIC8vIHRoaXMuaW5zdGl0dXRpb25QYW5lbCA9IG51bGw7XG4gICAgLy8gdGhpcy5lbnRpdHkgPSBudWxsO1xuICAgIC8vIHRoaXMuZW50aXR5UGFuZWwgPSBudWxsO1xuICAgIHRoaXMub3JnYW5pemF0aW9uRm9ybUdyb3VwID0gbnVsbDtcbiAgICB0aGlzLmluZGV4ZXNGb3JtR3JvdXAgPSBudWxsO1xuICB9XG5cbiAgaW5pdFN0ZXAwSWRlbnRpZmllcnMoKSB7XG4gICAgdGhpcy5pZGVudGlmaWVyc0Zvcm1Hcm91cCA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe30pO1xuXG4gICAgdGhpcy5pZGVudGlmaWVyc1BhbmVsID1cbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2lkZW50aWZpZXJzUGFuZWwnLFxuICAgICAgICBsYWJlbDogJ0lkZW50aWZpY2Fkb3JlcycsXG4gICAgICAgIGNvbnRyb2xUeXBlOiBDb250YWluZXJQYW5lbENvbXBvbmVudCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICAgIGljb25OYW1lOiBcIlwiLFxuICAgICAgICBmb3JtU2VjdGlvbjogdGhpcy5pZGVudGlmaWVyc0Zvcm1Hcm91cCxcbiAgICAgICAgZm9ybVNlY3Rpb25Db250ZW50OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9ybUNvbnRyb2w6IElucHV0VGV4dENvbXBvbmVudC5nZXRGb3JtQ29udHJvbEJ5RGVmYXVsdCgpLFxuICAgICAgICAgICAgbmFtZTogXCJpc3NuX2xcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIklTU04gZGUgRW5sYWNlXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnRleHQsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogSW5wdXRUZXh0Q29tcG9uZW50LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RhcnRIaW50OiBuZXcgSGludFZhbHVlKEhpbnRQb3NpdGlvbi5zdGFydCwgXCJYWFhYLVhYWFhcIiksXG4gICAgICAgICAgICB3aWR0aDogXCIyMyVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhXG4gICAgICAgICAgICAgID8gdGhpcy5qb3VybmFsRGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMuaXNzbl9sKVxuICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgICAvLyB2YWx1ZTogdGhpcy5qb3VybmFsVmVyc2lvbiA/IElzc25WYWx1ZS5jcmVhdGVJc3NuVmFsdWVGcm9tU3RyaW5nKHRoaXMuam91cm5hbFZlcnNpb24uaXNzbi5sKSA6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwiaXNzbl9wXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJJU1NOIEltcHJlc29cIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudGV4dCxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBJbnB1dFRleHRDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICBzdGFydEhpbnQ6IG5ldyBIaW50VmFsdWUoSGludFBvc2l0aW9uLnN0YXJ0LCBcIlhYWFgtWFhYWFwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjIzJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGFcbiAgICAgICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5pc3NuX3ApXG4gICAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICAgIC8vIHZhbHVlOiB0aGlzLmpvdXJuYWxWZXJzaW9uID8gSXNzblZhbHVlLmNyZWF0ZUlzc25WYWx1ZUZyb21TdHJpbmcodGhpcy5qb3VybmFsVmVyc2lvbi5pc3NuLnApIDogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9ybUNvbnRyb2w6IElucHV0VGV4dENvbXBvbmVudC5nZXRGb3JtQ29udHJvbEJ5RGVmYXVsdCgpLFxuICAgICAgICAgICAgbmFtZTogXCJpc3NuX2VcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIklTU04gRWxlY3Ryw7NuaWNvXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnRleHQsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogSW5wdXRUZXh0Q29tcG9uZW50LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RhcnRIaW50OiBuZXcgSGludFZhbHVlKEhpbnRQb3NpdGlvbi5zdGFydCwgXCJYWFhYLVhYWFhcIiksXG4gICAgICAgICAgICB3aWR0aDogXCIyMyVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhXG4gICAgICAgICAgICAgID8gdGhpcy5qb3VybmFsRGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMuaXNzbl9lKVxuICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgICAvLyB2YWx1ZTogdGhpcy5qb3VybmFsVmVyc2lvbiA/IElzc25WYWx1ZS5jcmVhdGVJc3NuVmFsdWVGcm9tU3RyaW5nKHRoaXMuam91cm5hbFZlcnNpb24uaXNzbi5lKSA6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFJucHNDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwicm5wc19wXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJSTlBTIEltcHJlc29cIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUucm5wcyxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBJbnB1dFJucHNDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHN0YXJ0SGludDogbmV3IEhpbnRWYWx1ZShIaW50UG9zaXRpb24uc3RhcnQsIFwiWFhYWC5cIiksXG4gICAgICAgICAgICB3aWR0aDogXCIyMyVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhXG4gICAgICAgICAgICAgID8gdGhpcy5qb3VybmFsRGF0YS5nZXRJZGVudGlmaWVyVmFsdWUoSWRlbnRpZmllclNjaGVtYXMucHJucHMpXG4gICAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFJucHNDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwicm5wc19lXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJSTlBTIEVsZWN0csOzbmljb1wiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS5ybnBzLFxuICAgICAgICAgICAgY29udHJvbFR5cGU6IElucHV0Um5wc0NvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgc3RhcnRIaW50OiBuZXcgSGludFZhbHVlKEhpbnRQb3NpdGlvbi5zdGFydCwgXCJYWFhYLlwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjIzJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGFcbiAgICAgICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy5lcm5wcylcbiAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuICB9XG5cbiAgaW5pdFN0ZXAxKCk6IHZvaWQge1xuICAgIHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAgPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcbiAgICAgIC8vICdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uQ29udHJvbCxcbiAgICAgIHN0YXJ0X3llYXI6IG5ldyBGb3JtQ29udHJvbChcIlwiKSxcbiAgICAgIGVuZF95ZWFyOiBuZXcgRm9ybUNvbnRyb2woXCJcIiksXG4gICAgfSk7XG5cbiAgICB0aGlzLmluZm9ybWF0aW9uU29jaWFsRm9ybUdyb3VwID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7fSk7XG5cbiAgICB0aGlzLmluZm9ybWF0aW9uUGFuZWwgPVxuICAgICAge1xuICAgICAgICBuYW1lOiAnaW5mb3JtYXRpb25QYW5lbCcsXG4gICAgICAgIGxhYmVsOiAnRGF0b3MgZGUgbGEgUmV2aXN0YScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICBpY29uTmFtZTogXCJcIixcbiAgICAgICAgY29udHJvbFR5cGU6IENvbnRhaW5lclBhbmVsQ29tcG9uZW50LFxuICAgICAgICBmb3JtU2VjdGlvbjogdGhpcy5pbmZvcm1hdGlvbkZvcm1Hcm91cCxcbiAgICAgICAgZm9ybVNlY3Rpb25Db250ZW50OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9ybUNvbnRyb2w6IElucHV0VGV4dENvbXBvbmVudC5nZXRGb3JtQ29udHJvbEJ5RGVmYXVsdCgpLFxuICAgICAgICAgICAgbmFtZTogXCJ0aXRsZVwiLFxuICAgICAgICAgICAgbGFiZWw6IFwiVMOtdHVsb1wiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS50ZXh0LFxuICAgICAgICAgICAgY29udHJvbFR5cGU6IElucHV0VGV4dENvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGEgPyB0aGlzLmpvdXJuYWxEYXRhLnRpdGxlIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwic3VidGl0bGVcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlN1YnTDrXR1bG9cIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudGV4dCxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBJbnB1dFRleHRDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogXCIzMCVcIixcbiAgICAgICAgICAgIHN0YXJ0SGludDogbmV3IEhpbnRWYWx1ZShIaW50UG9zaXRpb24uc3RhcnQsIFwiXCIpLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGEgPyB0aGlzLmpvdXJuYWxEYXRhLnN1YnRpdGxlIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwic2hvcnRuYW1lXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJUw610dWxvIGFicmV2aWFkb1wiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS50ZXh0LFxuICAgICAgICAgICAgY29udHJvbFR5cGU6IElucHV0VGV4dENvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjMwJVwiLFxuICAgICAgICAgICAgc3RhcnRIaW50OiBuZXcgSGludFZhbHVlKEhpbnRQb3NpdGlvbi5zdGFydCwgXCJcIiksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5qb3VybmFsRGF0YSA/IHRoaXMuam91cm5hbERhdGEuc2hvcnRuYW1lIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwic291cmNlX3R5cGVcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlRpcG8gZGUgUmV2aXN0YVwiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS5zZWxlY3RfZXhwcixcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBTZWxlY3RDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjMwJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGEgPyB0aGlzLmpvdXJuYWxEYXRhLnNvdXJjZV90eXBlIDogXCJcIixcbiAgICAgICAgICAgIGV4dHJhQ29udGVudDoge1xuICAgICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICAgIGdldE9wdGlvbnM6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogU291cmNlVHlwZXMuSk9VUk5BTC5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFNvdXJjZVR5cGVzLkpPVVJOQUwudmFsdWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogU291cmNlVHlwZXMuU1RVREVOVC5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFNvdXJjZVR5cGVzLlNUVURFTlQudmFsdWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogU291cmNlVHlwZXMuUE9QVUxBUklaQVRJT04ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBTb3VyY2VUeXBlcy5QT1BVTEFSSVpBVElPTi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtQ29udHJvbDogSW5wdXRUZXh0Q29tcG9uZW50LmdldEZvcm1Db250cm9sQnlEZWZhdWx0KCksXG4gICAgICAgICAgICBuYW1lOiBcImRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJEZXNjcmlwY2nDs25cIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudGV4dGFyZWEsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogVGV4dGFyZWFDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhID8gdGhpcy5qb3VybmFsRGF0YS5kZXNjcmlwdGlvbiA6IFwiXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyB7XG4gICAgICAgICAgLy8gICBuYW1lOiAncHVycG9zZScsXG4gICAgICAgICAgLy8gICBsYWJlbDogJ1Byb3DDs3NpdG8nLFxuICAgICAgICAgIC8vICAgdHlwZTogRm9ybUZpZWxkVHlwZS50ZXh0YXJlYSxcbiAgICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIC8vICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAvLyAgIHZhbHVlOiB0aGlzLmpvdXJuYWxWZXJzaW9uID8gdGhpcy5qb3VybmFsVmVyc2lvbi5wdXJwb3NlIDogJydcbiAgICAgICAgICAvLyB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFVybENvbXBvbmVudC5nZXRGb3JtQ29udHJvbEJ5RGVmYXVsdCgpLFxuICAgICAgICAgICAgbmFtZTogXCJ1cmxcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlVSTFwiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS51cmwsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogSW5wdXRVcmxDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHN0YXJ0SGludDogbmV3IEhpbnRWYWx1ZShcbiAgICAgICAgICAgICAgSGludFBvc2l0aW9uLnN0YXJ0LFxuICAgICAgICAgICAgICBcIkVzY3JpYmEgdW5hIFVSTCB2w6FsaWRhLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGFcbiAgICAgICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLmdldElkZW50aWZpZXJWYWx1ZShJZGVudGlmaWVyU2NoZW1hcy51cmwpXG4gICAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwic291cmNlX3N5c3RlbVwiLFxuICAgICAgICAgICAgbGFiZWw6IFwiVGlwbyBkZSBTaXN0ZW1hIHF1ZSBzb3BvcnRhIGxhIHJldmlzdGFcIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUuc2VsZWN0X2V4cHIsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogU2VsZWN0Q29tcG9uZW50LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IFwiMzUlXCIsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5qb3VybmFsRGF0YSA/IHRoaXMuam91cm5hbERhdGEuc291cmNlX3N5c3RlbSA6IFwiXCIsXG4gICAgICAgICAgICBleHRyYUNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICBnZXRPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFNvdXJjZVN5c3RlbXMuT0pTLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogU291cmNlU3lzdGVtcy5PSlMudmFsdWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogU291cmNlU3lzdGVtcy5DTVMubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBTb3VyY2VTeXN0ZW1zLkNNUy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBTb3VyY2VTeXN0ZW1zLk9USEVSLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogU291cmNlU3lzdGVtcy5PVEhFUi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtQ29udHJvbDogSW5wdXRVcmxDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwib2FpdXJsXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJPQUktUE1IXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnVybCxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBJbnB1dFVybENvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXJ0SGludDogbmV3IEhpbnRWYWx1ZShcbiAgICAgICAgICAgICAgSGludFBvc2l0aW9uLnN0YXJ0LFxuICAgICAgICAgICAgICBcIkVzY3JpYmEgdW5hIFVSTCB2w6FsaWRhLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd2lkdGg6IFwiNjAlXCIsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5qb3VybmFsRGF0YVxuICAgICAgICAgICAgICA/IHRoaXMuam91cm5hbERhdGEuZ2V0SWRlbnRpZmllclZhbHVlKElkZW50aWZpZXJTY2hlbWFzLm9haXVybClcbiAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8ge1xuICAgICAgICAgIC8vICAgbmFtZTogJ3NlcmlhZGFzX2N1YmFuYXMnLFxuICAgICAgICAgIC8vICAgbGFiZWw6ICdVUkwgZW4gU2VyaWFkYXMgQ3ViYW5hcycsXG4gICAgICAgICAgLy8gICB0eXBlOiBGb3JtRmllbGRUeXBlLnVybCxcbiAgICAgICAgICAvLyAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAvLyAgIHN0YXJ0SGludDogbmV3IEhpbnRWYWx1ZShIaW50UG9zaXRpb24uc3RhcnQsICcnKSxcbiAgICAgICAgICAvLyAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgLy8gICB2YWx1ZTogdGhpcy5qb3VybmFsVmVyc2lvbiA/IHRoaXMuam91cm5hbFZlcnNpb24uc2VyaWFkYXNfY3ViYW5hcyA6ICcnXG4gICAgICAgICAgLy8gfSxcblxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dEVtYWlsQ29tcG9uZW50LmdldEZvcm1Db250cm9sQnlEZWZhdWx0KCksXG4gICAgICAgICAgICBuYW1lOiBcImVtYWlsXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJDb3JyZW8gRWxlY3Ryw7NuaWNvXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLmVtYWlsLFxuICAgICAgICAgICAgY29udHJvbFR5cGU6IElucHV0RW1haWxDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIHN0YXJ0SGludDogbmV3IEhpbnRWYWx1ZShcbiAgICAgICAgICAgICAgSGludFBvc2l0aW9uLnN0YXJ0LFxuICAgICAgICAgICAgICBcIkVzY3JpYmEgdW4gZW1haWwgdsOhbGlkby5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjQ1JVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGEgPyB0aGlzLmpvdXJuYWxEYXRhLmVtYWlsIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwibGljZW5jZVwiLFxuICAgICAgICAgICAgbGFiZWw6IFwiTGljZW5jaWFcIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudm9jYWJ1bGFyeSxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBWb2NhYnVsYXJ5Q29tcG9uZW50LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IFwiNDUlXCIsXG4gICAgICAgICAgICBleHRyYUNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICBzZWxlY3RlZFRlcm1zSWRzOiB0aGlzLmpvdXJuYWxEYXRhXG4gICAgICAgICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLmNsYXNzaWZpY2F0aW9ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICh0ZXJtU291cmNlKSA9PiB0ZXJtU291cmNlLmlkXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICB2b2NhYjogVm9jYWJ1bGFyaWVzSW5tdXRhYmxlTmFtZXMuTElDRU5DRVMsXG4gICAgICAgICAgICAgIGxldmVsOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwic3RhcnRfeWVhclwiLFxuICAgICAgICAgICAgbGFiZWw6IFwiQcOxbyBkZSBpbmljaW9cIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUuZGF0ZXBpY2tlcixcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBEYXRlcGlja2VyQ29tcG9uZW50LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IFwiMzAlXCIsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5qb3VybmFsRGF0YSA/IHRoaXMuam91cm5hbERhdGEuc3RhcnRfeWVhciA6IFwiXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtQ29udHJvbDogSW5wdXRUZXh0Q29tcG9uZW50LmdldEZvcm1Db250cm9sQnlEZWZhdWx0KCksXG4gICAgICAgICAgICBuYW1lOiBcImVuZF95ZWFyXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJBw7FvIGZpbmFsXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLmRhdGVwaWNrZXIsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogRGF0ZXBpY2tlckNvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjMwJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGEgPyB0aGlzLmpvdXJuYWxEYXRhLmVuZF95ZWFyIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFRleHRDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwiZnJlcXVlbmN5XCIsXG4gICAgICAgICAgICBsYWJlbDogXCJGcmVjdWVuY2lhXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnRleHQsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogSW5wdXRUZXh0Q29tcG9uZW50LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc3RhcnRIaW50OiBuZXcgSGludFZhbHVlKEhpbnRQb3NpdGlvbi5zdGFydCwgXCJcIiksXG4gICAgICAgICAgICB3aWR0aDogXCIzMCVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhID8gdGhpcy5qb3VybmFsRGF0YS5mcmVxdWVuY3kgOiBcIlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8ge1xuICAgICAgICAgIC8vICAgLy8gVE9ETzogZWwgdG9wIGxldmVsIGRlIHVuZXNjbyBkZSBtYXRlcmlhcy4uLi5cbiAgICAgICAgICAvLyAgIG5hbWU6IFwiY292ZXJcIixcbiAgICAgICAgICAvLyAgIGxhYmVsOiBcIkNvYmVydHVyYSBUZW3DoXRpY2FcIixcbiAgICAgICAgICAvLyAgIHR5cGU6IEZvcm1GaWVsZFR5cGUuc2VsZWN0X2V4cHIsXG4gICAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAvLyAgIHdpZHRoOiBcIjQ1JVwiLFxuICAgICAgICAgIC8vICAgZXh0cmFDb250ZW50OiB7XG4gICAgICAgICAgLy8gICAgIG11bHRpcGxlOiBmYWxzZSxcbiAgICAgICAgICAvLyAgICAgb2JzZXJ2YWJsZTogdGhpcy50YXhvbm9teVNlcnZpY2UuZ2V0VGVybXNUcmVlQnlWb2NhYihcbiAgICAgICAgICAvLyAgICAgICBWb2NhYnVsYXJpZXNJbm11dGFibGVOYW1lcy5TVUJKRUNUUyxcbiAgICAgICAgICAvLyAgICAgICAwXG4gICAgICAgICAgLy8gICAgICksXG4gICAgICAgICAgLy8gICAgIGdldE9wdGlvbnM6IChyZXNwb25zZTogYW55KSA9PiB7XG4gICAgICAgICAgLy8gICAgICAgY29uc3Qgb3B0czogU2VsZWN0T3B0aW9uW10gPSBbXTtcbiAgICAgICAgICAvLyAgICAgICByZXNwb25zZS5kYXRhLnRyZWUudGVybV9ub2RlLmZvckVhY2goKG5vZGU6IFRlcm1Ob2RlKSA9PiB7XG4gICAgICAgICAgLy8gICAgICAgICBvcHRzLnB1c2goe1xuICAgICAgICAgIC8vICAgICAgICAgICB2YWx1ZTogbm9kZS50ZXJtLFxuICAgICAgICAgIC8vICAgICAgICAgICBsYWJlbDogbm9kZS50ZXJtLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIC8vICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gICAgICAgfSk7XG4gICAgICAgICAgLy8gICAgICAgcmV0dXJuIG9wdHM7XG4gICAgICAgICAgLy8gICAgIH0sXG4gICAgICAgICAgLy8gICAgIHNlbGVjdGlvbkNoYW5nZTogKHRlcm0pID0+IHtcbiAgICAgICAgICAvLyAgICAgICB0aGlzLmpvdXJuYWxDb3ZlciA9IG5ldyBTb3VyY2VDbGFzaWZpY2F0aW9uKCk7XG4gICAgICAgICAgLy8gICAgICAgdGhpcy5qb3VybmFsQ292ZXIuZGVzY3JpcHRpb24gPSB0ZXJtLmRlc2NyaXB0aW9uO1xuICAgICAgICAgIC8vICAgICAgIHRoaXMuam91cm5hbENvdmVyLmlkID0gdGVybS51dWlkO1xuICAgICAgICAgIC8vICAgICAgIHRoaXMuam91cm5hbENvdmVyLnZvY2FidWxhcnkgPSB0ZXJtLnZvY2FidWxhcnlfaWQ7XG5cbiAgICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgICAvLyAgIH0sXG4gICAgICAgICAgLy8gfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtQ29udHJvbDogSW5wdXRUZXh0Q29tcG9uZW50LmdldEZvcm1Db250cm9sQnlEZWZhdWx0KCksXG4gICAgICAgICAgICBuYW1lOiBcInN1YmplY3RzXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJNYXRlcmlhc1wiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS52b2NhYnVsYXJ5X3RyZWUsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogVm9jYWJ1bGFyeVRyZWVDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogXCI4MCVcIixcbiAgICAgICAgICAgIGV4dHJhQ29udGVudDoge1xuICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgc2VsZWN0ZWRUZXJtc0lkczogdGhpcy5qb3VybmFsRGF0YVxuICAgICAgICAgICAgICAgID8gdGhpcy5qb3VybmFsRGF0YS5jbGFzc2lmaWNhdGlvbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAodGVybVNvdXJjZSkgPT4gdGVybVNvdXJjZS5pZFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgdm9jYWI6IFZvY2FidWxhcmllc0lubXV0YWJsZU5hbWVzLlNVQkpFQ1RTLFxuICAgICAgICAgICAgICBsZXZlbDogMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtQ29udHJvbDogSW5wdXRVcmxDb21wb25lbnQuZ2V0Rm9ybUNvbnRyb2xCeURlZmF1bHQoKSxcbiAgICAgICAgICAgIG5hbWU6IFwiZmFjZWJvb2tcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIkZhY2Vib29rXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnVybCxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBJbnB1dFVybENvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjMzJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGFcbiAgICAgICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLnNvY2lhbE5ldHdvcmtzLmZhY2Vib29rXG4gICAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvcm1Db250cm9sOiBJbnB1dFVybENvbXBvbmVudC5nZXRGb3JtQ29udHJvbEJ5RGVmYXVsdCgpLFxuICAgICAgICAgICAgbmFtZTogXCJ0d2l0dGVyXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJUd2l0dGVyXCIsXG4gICAgICAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnVybCxcbiAgICAgICAgICAgIGNvbnRyb2xUeXBlOiBJbnB1dFVybENvbXBvbmVudCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjMzJVwiLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGFcbiAgICAgICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLnNvY2lhbE5ldHdvcmtzLnR3aXR0ZXJcbiAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9ybUNvbnRyb2w6IElucHV0VXJsQ29tcG9uZW50LmdldEZvcm1Db250cm9sQnlEZWZhdWx0KCksXG4gICAgICAgICAgICBuYW1lOiBcImxpbmtlZGluXCIsXG4gICAgICAgICAgICBsYWJlbDogXCJMaW5rZWRJTlwiLFxuICAgICAgICAgICAgdHlwZTogRm9ybUZpZWxkVHlwZS51cmwsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogSW5wdXRVcmxDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogXCIzMyVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhXG4gICAgICAgICAgICAgID8gdGhpcy5qb3VybmFsRGF0YS5zb2NpYWxOZXR3b3Jrcy5saW5rZWRpblxuICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgfTtcbiAgICAgIC8vIHtcbiAgICAgIC8vICAgdGl0bGU6IFwiUmVkZXMgU29jaWFsZXNcIixcbiAgICAgIC8vICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICAvLyAgIGljb25OYW1lOiBcIlwiLFxuICAgICAgLy8gICBmb3JtU2VjdGlvbjogdGhpcy5pbmZvcm1hdGlvbkZvcm1Hcm91cCxcbiAgICAgIC8vICAgZm9ybVNlY3Rpb25Db250ZW50OiBbXG4gICAgICAvLyAgICAge1xuICAgICAgLy8gICAgICAgbmFtZTogXCJmYWNlYm9va1wiLFxuICAgICAgLy8gICAgICAgbGFiZWw6IFwiRmFjZWJvb2tcIixcbiAgICAgIC8vICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudXJsLFxuICAgICAgLy8gICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgLy8gICAgICAgd2lkdGg6IFwiMzMlXCIsXG4gICAgICAvLyAgICAgICB2YWx1ZTogdGhpcy5qb3VybmFsRGF0YVxuICAgICAgLy8gICAgICAgICA/IHRoaXMuam91cm5hbERhdGEuc29jaWFsTmV0d29ya3MuZmFjZWJvb2tcbiAgICAgIC8vICAgICAgICAgOiBcIlwiLFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgICAge1xuICAgICAgLy8gICAgICAgbmFtZTogXCJ0d2l0dGVyXCIsXG4gICAgICAvLyAgICAgICBsYWJlbDogXCJUd2l0dGVyXCIsXG4gICAgICAvLyAgICAgICB0eXBlOiBGb3JtRmllbGRUeXBlLnVybCxcbiAgICAgIC8vICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIC8vICAgICAgIHdpZHRoOiBcIjMzJVwiLFxuICAgICAgLy8gICAgICAgdmFsdWU6IHRoaXMuam91cm5hbERhdGFcbiAgICAgIC8vICAgICAgICAgPyB0aGlzLmpvdXJuYWxEYXRhLnNvY2lhbE5ldHdvcmtzLnR3aXR0ZXJcbiAgICAgIC8vICAgICAgICAgOiBcIlwiLFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgICAge1xuICAgICAgLy8gICAgICAgbmFtZTogXCJsaW5rZWRpblwiLFxuICAgICAgLy8gICAgICAgbGFiZWw6IFwiTGlua2VkSU5cIixcbiAgICAgIC8vICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudXJsLFxuICAgICAgLy8gICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgLy8gICAgICAgd2lkdGg6IFwiMzMlXCIsXG4gICAgICAvLyAgICAgICB2YWx1ZTogdGhpcy5qb3VybmFsRGF0YVxuICAgICAgLy8gICAgICAgICA/IHRoaXMuam91cm5hbERhdGEuc29jaWFsTmV0d29ya3MubGlua2VkaW5cbiAgICAgIC8vICAgICAgICAgOiBcIlwiLFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgIF0sXG4gICAgICAvLyB9LFxuXG4gIH1cblxuICBpbml0U3RlcDIoKSB7XG4gICAgdGhpcy5vcmdhbml6YXRpb25Gb3JtR3JvdXAgPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcbiAgICAgIGluc3RpdHV0aW9uczogbmV3IEZvcm1Db250cm9sKFwiXCIpLFxuICAgIH0pO1xuICB9XG5cbiAgaW5pdFN0ZXAzKCkge1xuICAgIHRoaXMuaW5kZXhlc0Zvcm1Hcm91cCA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe30pO1xuICB9XG4gIGluZGV4ZXJTdGVwcGVyKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuam91cm5hbERhdGEpO1xuXG4gICAgLy8gdGhpcy5pbmRleGVzID0gdGhpcy5qb3VybmFsRGF0YS5jbGFzc2lmaWNhdGlvbnMuZmlsdGVyKFxuICAgIC8vICAgKHZhbHVlKSA9PiB2YWx1ZS52b2NhYnVsYXJ5ID09IFZvY2FidWxhcmllc0lubXV0YWJsZU5hbWVzLklOREVYRVNcbiAgICAvLyApO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5kZXhlcyk7XG4gIH1cblxuICBpbml0U3RlcEZpbmFsKCkge1xuICAgIHRoaXMuZmluYWxGb3JtR3JvdXAgPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHt9KTtcbiAgICB0aGlzLmZpbmFsUGFuZWwgPVxuICAgICAge1xuICAgICAgICBuYW1lOiAnZmluYWxQYW5lbCcsXG4gICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICAgIGljb25OYW1lOiBcIlwiLFxuICAgICAgICBmb3JtU2VjdGlvbjogdGhpcy5maW5hbEZvcm1Hcm91cCxcbiAgICAgICAgY29udHJvbFR5cGU6IENvbnRhaW5lclBhbmVsQ29tcG9uZW50LFxuICAgICAgICBmb3JtU2VjdGlvbkNvbnRlbnQ6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtQ29udHJvbDogSW5wdXRUZXh0Q29tcG9uZW50LmdldEZvcm1Db250cm9sQnlEZWZhdWx0KCksXG4gICAgICAgICAgICBuYW1lOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgIGxhYmVsOiBcIlB1ZWRlIGFncmVnYXIgYXF1w60gdW4gY29tZW50YXJpby5cIixcbiAgICAgICAgICAgIHR5cGU6IEZvcm1GaWVsZFR5cGUudGV4dGFyZWEsXG4gICAgICAgICAgICBjb250cm9sVHlwZTogVGV4dGFyZWFDb21wb25lbnQsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICBzdGFydEhpbnQ6IG5ldyBIaW50VmFsdWUoSGludFBvc2l0aW9uLnN0YXJ0LCBcIlwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIG1pbldpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmpvdXJuYWxEYXRhID8gdGhpcy5qb3VybmFsRGF0YS5fc2F2ZV9pbmZvLmNvbW1lbnQgOiBcIlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBmaWxsSm91cm5hbEZpZWxkcygpIHtcbiAgICAvLyB0aGlzLmpvdXJuYWxWZXJzaW9uLnNvdXJjZV90eXBlID0gdGhpcy5pbmZvcm1hdGlvbkZvcm1Hcm91cC52YWx1ZVsnc291cmNlX3R5cGUnXTtcblxuICAgIHRoaXMuam91cm5hbERhdGEuc2V0SWRlbnRpZmllclZhbHVlKFxuICAgICAgSWRlbnRpZmllclNjaGVtYXMuaXNzbl9wLFxuICAgICAgdGhpcy5pZGVudGlmaWVyc0Zvcm1Hcm91cC52YWx1ZS5pc3NuX3BcbiAgICApO1xuICAgIHRoaXMuam91cm5hbERhdGEuc2V0SWRlbnRpZmllclZhbHVlKFxuICAgICAgSWRlbnRpZmllclNjaGVtYXMuaXNzbl9lLFxuICAgICAgdGhpcy5pZGVudGlmaWVyc0Zvcm1Hcm91cC52YWx1ZS5pc3NuX2VcbiAgICApO1xuICAgIHRoaXMuam91cm5hbERhdGEuc2V0SWRlbnRpZmllclZhbHVlKFxuICAgICAgSWRlbnRpZmllclNjaGVtYXMuaXNzbl9sLFxuICAgICAgdGhpcy5pZGVudGlmaWVyc0Zvcm1Hcm91cC52YWx1ZS5pc3NuX2xcbiAgICApO1xuICAgIHRoaXMuam91cm5hbERhdGEuc2V0SWRlbnRpZmllclZhbHVlKFxuICAgICAgSWRlbnRpZmllclNjaGVtYXMucHJucHMsXG4gICAgICB0aGlzLmlkZW50aWZpZXJzRm9ybUdyb3VwLnZhbHVlLnJucHNfcFxuICAgICk7XG4gICAgdGhpcy5qb3VybmFsRGF0YS5zZXRJZGVudGlmaWVyVmFsdWUoXG4gICAgICBJZGVudGlmaWVyU2NoZW1hcy5lcm5wcyxcbiAgICAgIHRoaXMuaWRlbnRpZmllcnNGb3JtR3JvdXAudmFsdWUucm5wc19lXG4gICAgKTtcblxuICAgIC8vIHRoaXMuam91cm5hbFZlcnNpb24uaXNzbi5kZWVwY29weShcbiAgICAvLyAgIHRoaXMuaWRlbnRpZmllcnNGb3JtR3JvdXAudmFsdWVcbiAgICAvLyApO1xuICAgIC8vIHRoaXMuam91cm5hbFZlcnNpb24ucm5wcy5kZWVwY29weShcbiAgICAvLyAgIHRoaXMuaWRlbnRpZmllcnNGb3JtR3JvdXAudmFsdWVcbiAgICAvLyApO1xuXG4gICAgY29uc29sZS5sb2codGhpcy5pbmZvcm1hdGlvbkZvcm1Hcm91cClcbiAgICB0aGlzLmpvdXJuYWxEYXRhLmRlZXBjb3B5KHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAudmFsdWUpO1xuICAgIHRoaXMuam91cm5hbERhdGEuc29jaWFsTmV0d29ya3MuZGVlcGNvcHkodGhpcy5pbmZvcm1hdGlvbkZvcm1Hcm91cC52YWx1ZSk7XG5cbiAgICB0aGlzLmpvdXJuYWxEYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgIElkZW50aWZpZXJTY2hlbWFzLnVybCxcbiAgICAgIHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAudmFsdWUudXJsXG4gICAgKTtcbiAgICB0aGlzLmpvdXJuYWxEYXRhLnNldElkZW50aWZpZXJWYWx1ZShcbiAgICAgIElkZW50aWZpZXJTY2hlbWFzLm9haXVybCxcbiAgICAgIHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAudmFsdWUub2FpdXJsXG4gICAgKTtcblxuICAgIHRoaXMuam91cm5hbERhdGEuc291cmNlX3R5cGUgPSB0aGlzLmluZm9ybWF0aW9uRm9ybUdyb3VwLnZhbHVlW1xuICAgICAgXCJzb3VyY2VfdHlwZVwiXG4gICAgXTtcblxuICAgIGNvbnN0IGluZGV4ZXMgPSB0aGlzLmpvdXJuYWxEYXRhLmNsYXNzaWZpY2F0aW9ucy5maWx0ZXIoXG4gICAgICAodmFsdWUpID0+IHZhbHVlLnZvY2FidWxhcnkgPT0gVm9jYWJ1bGFyaWVzSW5tdXRhYmxlTmFtZXMuSU5ERVhFU1xuICAgICk7XG4gICAgdGhpcy5qb3VybmFsRGF0YS5jbGFzc2lmaWNhdGlvbnMgPSBbXTtcblxuICAgIGlmICh0aGlzLmluZm9ybWF0aW9uRm9ybUdyb3VwLnZhbHVlW1wibGljZW5jZVwiXSl7XG4gICAgICAgIHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAudmFsdWVbXCJsaWNlbmNlXCJdLmZvckVhY2goKHRlcm06IFRlcm0pID0+IHtcbiAgICAgICAgY29uc3QgdHMgPSBuZXcgU291cmNlQ2xhc2lmaWNhdGlvbigpO1xuICAgICAgICB0cy5kZXNjcmlwdGlvbiA9IHRlcm0uZGVzY3JpcHRpb247XG4gICAgICAgIHRzLmlkID0gdGVybS51dWlkO1xuICAgICAgICB0cy52b2NhYnVsYXJ5ID0gdGVybS52b2NhYnVsYXJ5X2lkO1xuICAgICAgICB0aGlzLmpvdXJuYWxEYXRhLmNsYXNzaWZpY2F0aW9ucy5wdXNoKHRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyB0aGlzLmluZm9ybWF0aW9uRm9ybUdyb3VwLnZhbHVlW1wiY292ZXJcIl0uZm9yRWFjaCgodGVybSkgPT4ge1xuICAgIC8vICAgY29uc3QgdHMgPSBuZXcgU291cmNlQ2xhc2lmaWNhdGlvbigpO1xuICAgIC8vICAgdHMuZGVzY3JpcHRpb24gPSB0ZXJtLmRlc2NyaXB0aW9uO1xuICAgIC8vICAgdHMuaWQgPSB0ZXJtLnV1aWQ7XG4gICAgLy8gICB0cy52b2NhYnVsYXJ5ID0gdGVybS52b2NhYnVsYXJ5X2lkO1xuICAgIC8vICAgdGhpcy5qb3VybmFsRGF0YS5jbGFzc2lmaWNhdGlvbnMucHVzaCh0cyk7XG4gICAgLy8gfSk7XG5cbiAgICBpZiAodGhpcy5pbmZvcm1hdGlvbkZvcm1Hcm91cC52YWx1ZVtcInN1YmplY3RzXCJdKXtcbiAgICAgIHRoaXMuaW5mb3JtYXRpb25Gb3JtR3JvdXAudmFsdWVbXCJzdWJqZWN0c1wiXS5mb3JFYWNoKCh0ZXJtKSA9PiB7XG4gICAgICAgIGNvbnN0IHRzID0gbmV3IFNvdXJjZUNsYXNpZmljYXRpb24oKTtcbiAgICAgICAgdHMuZGVzY3JpcHRpb24gPSB0ZXJtLmRlc2NyaXB0aW9uO1xuICAgICAgICB0cy5pZCA9IHRlcm0udXVpZDtcbiAgICAgICAgdHMudm9jYWJ1bGFyeSA9IHRlcm0udm9jYWJ1bGFyeV9pZDtcbiAgICAgICAgdGhpcy5qb3VybmFsRGF0YS5jbGFzc2lmaWNhdGlvbnMucHVzaCh0cyk7XG4gICAgICB9KTtcblxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGluZGV4ZXMpO1xuICAgIHRoaXMuam91cm5hbERhdGEuY2xhc3NpZmljYXRpb25zID0gdGhpcy5qb3VybmFsRGF0YS5jbGFzc2lmaWNhdGlvbnMuY29uY2F0KFxuICAgICAgaW5kZXhlc1xuICAgICk7XG4gICAgLy8gdGhpcy5qb3VybmFsRGF0YS5vcmdhbml6YXRpb25zID0gdGhpcy5zb3VyY2UuZGF0YS5vcmdhbml6YXRpb25zO1xuXG4gICAgLy8gdGhpcy5vcmdhbml6YXRpb25Gb3JtR3JvdXAudmFsdWVbXG4gICAgLy8gICBcImluc3RpdHV0aW9uc1wiXG4gICAgLy8gXS5mb3JFYWNoKChwYW5lbDogSm91cm5hbEluc3RpdHV0aW9uc1BhbmVsKSA9PiB7XG4gICAgLy8gICBjb25zdCB0cyA9IG5ldyBTb3VyY2VDbGFzaWZpY2F0aW9uKCk7XG4gICAgLy8gICB0cy5kZWVwY29weShwYW5lbC5pbnN0KTtcbiAgICAvLyAgIHRzLnRlcm1faWQgPSBwYW5lbC5pbnN0LnRlcm0uaWQ7XG4gICAgLy8gICB0cy5zb3VyY2VfaWQgPSB0aGlzLmpvdXJuYWxWZXJzaW9uLnNvdXJjZV9pZDtcbiAgICAvLyAgIHRoaXMuam91cm5hbFZlcnNpb24uY2xhc3NpZmljYXRpb25zLnB1c2godHMpO1xuXG4gICAgLy8gfVxuICAgIC8vICk7XG5cbiAgICAvLyB0aGlzLmluc3RpdHV0aW9ucy5mb3JFYWNoKGluc3QgPT4ge1xuICAgIC8vICAgdGhpcy5qb3VybmFsVmVyc2lvbi5jbGFzc2lmaWNhdGlvbnMucHVzaChpbnN0KTtcbiAgICAvLyB9KTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmluZGV4ZXNQYW5lbCk7XG4gICAgLy8gdGhpcy5pbmRleGVzUGFuZWwuZm9yRWFjaChwYW5lbCA9PiB7XG4gICAgLy8gICBjb25zdCB0cyA9IG5ldyBTb3VyY2VDbGFzaWZpY2F0aW9uKCk7XG4gICAgLy8gICBjb25zdCB0ZXJtOiBUZXJtID0gcGFuZWwudmFsdWU7XG4gICAgLy8gICB0cy5kZXNjcmlwdGlvbiA9IHRlcm0uZGVzY3JpcHRpb247XG4gICAgLy8gICB0cy5pZCA9IHRlcm0udXVpZDtcbiAgICAvLyAgIHRzLnZvY2FidWxhcnkgPSB0ZXJtLnZvY2FidWxhcnlfaWQ7XG4gICAgLy8gICB0cy5kYXRhWyd1cmwnXSA9IHRoaXMuaW5kZXhlc0Zvcm1Hcm91cC52YWx1ZVsndXJsXycgKyB0cy5pZF07XG4gICAgLy8gICB0cy5kYXRhWydpbml0aWFsX2NvdmVyJ10gPSB0aGlzLmluZGV4ZXNGb3JtR3JvdXAudmFsdWVbXG4gICAgLy8gICAgICdpbml0aWFsX2NvdmVyXycgKyB0cy5pZFxuICAgIC8vICAgXTtcbiAgICAvLyAgIHRzLmRhdGFbJ2VuZF9jb3ZlciddID0gdGhpcy5pbmRleGVzRm9ybUdyb3VwLnZhbHVlW1xuICAgIC8vICAgICAnZW5kX2NvdmVyXycgKyB0cy5pZFxuICAgIC8vICAgXTtcbiAgICAvLyAgIHRoaXMuam91cm5hbERhdGEuY2xhc3NpZmljYXRpb25zLnB1c2godHMpO1xuICAgIC8vIH0pO1xuXG4gICAgdGhpcy5qb3VybmFsRGF0YS5fc2F2ZV9pbmZvLmNvbW1lbnQgPSB0aGlzLmZpbmFsRm9ybUdyb3VwLnZhbHVlW1wiY29tbWVudFwiXTtcbiAgICB0aGlzLmpvdXJuYWxWZXJzaW9uLmNvbW1lbnQgPSB0aGlzLmZpbmFsRm9ybUdyb3VwLnZhbHVlW1wiY29tbWVudFwiXTtcbiAgICB0aGlzLmpvdXJuYWxWZXJzaW9uLmRhdGEuZGVlcGNvcHkodGhpcy5qb3VybmFsRGF0YSk7XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLmlkZW50aWZpZXJzRm9ybUdyb3VwKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmluZm9ybWF0aW9uRm9ybUdyb3VwKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLm9yZ2FuaXphdGlvbkZvcm1Hcm91cCk7XG4gICAgY29uc29sZS5sb2codGhpcy5pbmRleGVzRm9ybUdyb3VwKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmpvdXJuYWxEYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyBmaW5pc2hTdGVwcGVyKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuam91cm5hbERhdGEpO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuam91cm5hbFZlcnNpb24sIHRoaXMpXG4gICAgdGhpcy5maWxsSm91cm5hbEZpZWxkcygpO1xuXG4gICAgY29uc29sZS5sb2codGhpcy5qb3VybmFsRGF0YSk7XG4gICAgdGhpcy5qb3VybmFsRWRpdERvbmUuZW1pdCh0aGlzLmpvdXJuYWxWZXJzaW9uKTtcbiAgfVxuICBwdWJsaWMgY2FuY2VsU3RlcHBlcigpIHtcbiAgICB0aGlzLmVkaXRDYW5jZWxlZC5lbWl0KHRydWUpO1xuICB9XG59XG4iXX0=