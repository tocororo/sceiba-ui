/**
 * @fileoverview added by tsickle
 * Generated from: lib/forms/input/issn/issn-input.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { FormControl, Validators } from '@angular/forms';
import { ExtraValidators } from '../../../core/utils/validator';
import { IssnType_Abbreviation, IssnValue } from './issn-value';
import { InputControl } from '../input.control';
/**
 * Represents a control that allows the writing of an ISSN.
 * An ISSN (International Standard Serial Number) is an 8-digit code.
 * This control stores the code as a string of length 11, with the form 'XXXX – XXXX'.
 * It is used to identify newspapers, journals, magazines and periodicals
 * of all kinds and on all media–print and electronic. For more information
 * follow the link: https://www.issn.org/understanding-the-issn/what-is-an-issn/.
 * It uses the `IssnType_Abbreviation.ISSN` as a label if the `content.label` is not specified.
 * It uses the `IssnValue.issn_Placeholder` as a placeholder if the `content.placeholder` is not specified.
 */
export class InputIssnComponent extends InputControl {
    constructor() {
        super();
        this._codeOldValue = undefined;
    }
    /* Note: Before, this control worked well with a 'width' = '310px' or '285px'. */
    /**
     * Returns a `FormControl` by default.
     * It is used to initialized the `InputIssnComponent`'s `content.formControl` value by default.
     * In this case, the `validatorArguments` argument is always `undefined`.
     * @param {?=} validatorArguments
     * @return {?}
     */
    static getFormControlByDefault(validatorArguments = undefined) {
        /** @type {?} */
        let res = new FormControl('', [
            ExtraValidators.equalLength(IssnValue.codeLength),
            Validators.pattern(IssnValue.regExpIssnWithLength_11),
            ExtraValidators.issnConfirmCheckDigitOneField(IssnValue.codeLength)
        ]);
        return res;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /* Sets the default values. */
        this.init(IssnType_Abbreviation.ISSN, IssnValue.issn_Placeholder, true, true);
        if ((typeof this.content.value !== 'string') && (typeof this.content.value !== 'undefined')) {
            throw new Error(`For the '${this.content.name}' control, the 'content.value' value must be of string type.`);
        }
        /* The '_codeOldValue' must be set after the 'content.formControl.value' is set. */
        this.handleSpecificInput();
    }
    /**
     * Returns an error string if the control is in an error state; otherwise, empty string.
     * @return {?}
     */
    getErrorMessage() {
        /** @type {?} */
        let result = '';
        /** @type {?} */
        let result_alreadyHaveErrorInfo = false;
        /** @type {?} */
        let validationErrors = this.content.formControl.errors;
        /* Shows the code errors. */
        if (validationErrors) {
            if ((validationErrors[ExtraValidators.equalLength.name]) || (validationErrors[Validators.required.name])) {
                result = 'TOCO_NG_ERROR_MSG_ISSN_LONG_INVAL';
                result_alreadyHaveErrorInfo = true;
            }
            if (validationErrors[Validators.pattern.name]) {
                if (result_alreadyHaveErrorInfo) {
                    result = 'TOCO_NG_ERROR_MSG_ISSN_LONG_Y_DIG_INVAL';
                }
                else {
                    result = 'TOCO_NG_ERROR_MSG_ISSN_DIG_INVAL';
                }
                result_alreadyHaveErrorInfo = true;
            }
        }
        /* Only shows the `issnConfirmCheckDigitOneField` error if there isn't any previous error. */
        if (!result_alreadyHaveErrorInfo) {
            if (validationErrors) {
                if (validationErrors[ExtraValidators.issnConfirmCheckDigitOneField.name]) {
                    result = 'TOCO_NG_ERROR_MSG_ISSN_DIG_CHEQUEO_INVAL';
                    result_alreadyHaveErrorInfo = true;
                }
            }
        }
        return result;
    }
    /**
     * Handler method that is called by the internal logic when the control's value changes in the UI.
     * This method contains the specific handling of the input that the derived class wants to do.
     * @return {?}
     */
    handleSpecificInput() {
        /* Forma de entrada del código ISSN por parte del usuario:
         * El control ISSN permite copiar códigos ISSN con el separador de menos (-) o con
         * el separador de raya (–), y son copiados correctamente para un código ISSN
         * con el separador de raya (–); es decir, los siguientes ejemplos muestran
         * el resultado de copiar una forma de código en particular.
         *  - Si se copia 01234560, entonces se muestra 0123 – 4560
         *  - Si se copia 0123-4560, entonces se muestra 0123 – 4560
         *  - Si se copia 0123 - 4560, entonces se muestra 0123 – 4560
         *  - Si se copia 0123–4560, entonces se muestra 0123 – 4560
         *  - Si se copia 0123 – 4560, entonces se muestra 0123 – 4560
         *  - Si se copia 0123 – 45601, entonces se muestra 0123 – 4560
         *  - Si se copia un código ISSN con más de 8 dígitos en la forma que sea,
         *    entonces no se copia y se sigue mostrando el código anterior.
         * Recuerde que el caracter 'x' or 'X' puede aparecer solamente en la última
         * posición del código ISSN. Además, aunque los dos caracteres significan lo mismo,
         * siempre se trata de mostrar el caracter 'X' en mayúscula.
         */
        /* Forma de entrada del código ISSN por parte del usuario:
                 * El control ISSN permite copiar códigos ISSN con el separador de menos (-) o con
                 * el separador de raya (–), y son copiados correctamente para un código ISSN
                 * con el separador de raya (–); es decir, los siguientes ejemplos muestran
                 * el resultado de copiar una forma de código en particular.
                 *  - Si se copia 01234560, entonces se muestra 0123 – 4560
                 *  - Si se copia 0123-4560, entonces se muestra 0123 – 4560
                 *  - Si se copia 0123 - 4560, entonces se muestra 0123 – 4560
                 *  - Si se copia 0123–4560, entonces se muestra 0123 – 4560
                 *  - Si se copia 0123 – 4560, entonces se muestra 0123 – 4560
                 *  - Si se copia 0123 – 45601, entonces se muestra 0123 – 4560
                 *  - Si se copia un código ISSN con más de 8 dígitos en la forma que sea,
                 *    entonces no se copia y se sigue mostrando el código anterior.
                 * Recuerde que el caracter 'x' or 'X' puede aparecer solamente en la última
                 * posición del código ISSN. Además, aunque los dos caracteres significan lo mismo,
                 * siempre se trata de mostrar el caracter 'X' en mayúscula.
                 */
        /** @type {?} */
        let tempCode = this.content.formControl.value;
        /** @type {?} */
        let len = tempCode.length;
        /* Checks that the code length can not be longer than `IssnValue.codeLength`. */
        if (len > IssnValue.codeLength) /* This case is used for code with length 11. */ {
            /* Sets the old value. */
            this.content.formControl.setValue(this._codeOldValue);
            return;
        }
        /** @type {?} */
        let i;
        /** @type {?} */
        let newCode = '';
        /** @type {?} */
        let alreadyHasSpace = false;
        /** @type {?} */
        let count = 0;
        for (i = 0; i < len; i++) {
            switch (tempCode[i]) {
                case '0':
                case '1':
                case '2':
                case '3':
                case '4':
                case '5':
                case '6':
                case '7':
                case '8':
                case '9':
                    {
                        if (((++count) == 4) && (!alreadyHasSpace)) {
                            alreadyHasSpace = true;
                            newCode += tempCode[i] + IssnValue.codeGroupSeparatorWithSpace;
                        }
                        else {
                            newCode += tempCode[i];
                        }
                        break;
                    }
                case 'x':
                case 'X':
                    {
                        if ((i + 1) == len) /* The 'x' or 'X' character can only appear in the last position. */ {
                            count++;
                            newCode += 'X';
                        }
                        break;
                    }
                case ' ':
                    {
                        if (!alreadyHasSpace) {
                            alreadyHasSpace = true;
                            newCode += IssnValue.codeGroupSeparatorWithSpace;
                        }
                        break;
                    }
            }
        }
        /* Checks that the code length can not be longer than `IssnValue.codeLength`. */
        if (count > 8) /* This case is used for code with length 8 and 9. */ {
            /* Sets the old value. */
            this.content.formControl.setValue(this._codeOldValue);
        }
        else {
            /* Sets the new value, and updates the old value. */
            this.content.formControl.setValue((this._codeOldValue = newCode));
        }
    }
}
InputIssnComponent.decorators = [
    { type: Component, args: [{
                selector: 'input-issn',
                template: "\n<mat-form-field class=\"text-mat-form-field\" [appearance]=\"content.appearance\">\n<!-- <mat-form-field class=\"text-mat-form-field\" [appearance]=\"content.appearance\" [formGroup]=\"content.parentFormSection\"> -->\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]=\"content.formControl\" [required]=\"content.required\" [placeholder]=\"content.placeholder | translate\" [style.textAlign]=\"content.textAlign\" [attr.aria-label]=\"content.ariaLabel | translate\" (input)=\"handleInput()\" />\n    <!-- <input matInput id=\"inputId-{{ content.name }}\" class=\"input-text-element\" [formControl]=\"content.formControl\" [required]=\"content.required\" [placeholder]=\"content.placeholder | translate\" [style.textAlign]=\"content.textAlign\" [attr.aria-label]=\"content.ariaLabel | translate\" (input)=\"handleInput()\" [formControlName]=\"content.name\" /> -->\n\n    <!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. -->\n\n    <!-- Only renders one of these two `mat-icon` or nothing. -->\n    <mat-icon *ngIf=\"content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)\" class=\"text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate\" matPrefix [svgIcon]=\"content.prefixIcon.name\"></mat-icon>\n    <mat-icon *ngIf=\"content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)\" class=\"text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate\" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    <!-- Only renders one of these two `mat-icon` or nothing. -->\n    <mat-icon *ngIf=\"content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)\" class=\"text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate\" matSuffix [svgIcon]=\"content.suffixIcon.name\"></mat-icon>\n    <mat-icon *ngIf=\"content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)\" class=\"text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate\" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf=\"content.prefixText\" matPrefix><pre class=\"content.appearance\">{{ content.prefixText }}</pre></span>\n    <span *ngIf=\"content.suffixText\" matSuffix><pre class=\"content.appearance\">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf=\"hintState && content.startHint\" [align]=\"'start'\">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf=\"hintState && content.endHint\" [align]=\"'end'\">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf=\"errorState\">\n        <ng-container *ngIf=\"isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation\"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n",
                host: {
                    '[style.minWidth]': 'content.minWidth',
                    '[style.width]': 'content.width'
                },
                styles: [".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]
            }] }
];
/** @nocollapse */
InputIssnComponent.ctorParameters = () => [];
if (false) {
    /**
     * It is used by `handleSpecificInput` method.
     * @type {?}
     * @private
     */
    InputIssnComponent.prototype._codeOldValue;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNzbi1pbnB1dC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly90b2NvLWxpYi8iLCJzb3VyY2VzIjpbImxpYi9mb3Jtcy9pbnB1dC9pc3NuL2lzc24taW5wdXQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBb0IsTUFBTSxnQkFBZ0IsQ0FBQztBQUUzRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFaEUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNoRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7Ozs7Ozs7Ozs7O0FBc0JoRCxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsWUFBWTtJQXlCaEQ7UUFFSSxLQUFLLEVBQUUsQ0FBQztRQUVSLElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDO0lBQ25DLENBQUM7Ozs7Ozs7OztJQXJCTSxNQUFNLENBQUMsdUJBQXVCLENBQUMscUJBQXlDLFNBQVM7O1lBRWhGLEdBQUcsR0FBZ0IsSUFBSSxXQUFXLENBQUMsRUFBRSxFQUFFO1lBQ3ZDLGVBQWUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQztZQUNqRCxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyx1QkFBdUIsQ0FBQztZQUNyRCxlQUFlLENBQUMsNkJBQTZCLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQztTQUN0RSxDQUFDO1FBRUYsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDOzs7O0lBY00sUUFBUTtRQUVYLDhCQUE4QjtRQUU5QixJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FB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Qzs7YUFDSjs7Ozs7Ozs7OztJQXdCRywyQ0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQ29udHJvbCwgVmFsaWRhdG9ycywgVmFsaWRhdGlvbkVycm9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgRXh0cmFWYWxpZGF0b3JzIH0gZnJvbSAnLi4vLi4vLi4vY29yZS91dGlscy92YWxpZGF0b3InO1xuXG5pbXBvcnQgeyBJc3NuVHlwZV9BYmJyZXZpYXRpb24sIElzc25WYWx1ZSB9IGZyb20gJy4vaXNzbi12YWx1ZSc7XG5pbXBvcnQgeyBJbnB1dENvbnRyb2wgfSBmcm9tICcuLi9pbnB1dC5jb250cm9sJztcbmltcG9ydCB7IFZhbGlkYXRvckFyZ3VtZW50cyB9IGZyb20gJy4uLy4uL2Zvcm0tZmllbGQuY29udHJvbCc7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnRyb2wgdGhhdCBhbGxvd3MgdGhlIHdyaXRpbmcgb2YgYW4gSVNTTi4gXG4gKiBBbiBJU1NOIChJbnRlcm5hdGlvbmFsIFN0YW5kYXJkIFNlcmlhbCBOdW1iZXIpIGlzIGFuIDgtZGlnaXQgY29kZS4gXG4gKiBUaGlzIGNvbnRyb2wgc3RvcmVzIHRoZSBjb2RlIGFzIGEgc3RyaW5nIG9mIGxlbmd0aCAxMSwgd2l0aCB0aGUgZm9ybSAnWFhYWCDigJMgWFhYWCcuIFxuICogSXQgaXMgdXNlZCB0byBpZGVudGlmeSBuZXdzcGFwZXJzLCBqb3VybmFscywgbWFnYXppbmVzIGFuZCBwZXJpb2RpY2FscyBcbiAqIG9mIGFsbCBraW5kcyBhbmQgb24gYWxsIG1lZGlh4oCTcHJpbnQgYW5kIGVsZWN0cm9uaWMuIEZvciBtb3JlIGluZm9ybWF0aW9uIFxuICogZm9sbG93IHRoZSBsaW5rOiBodHRwczovL3d3dy5pc3NuLm9yZy91bmRlcnN0YW5kaW5nLXRoZS1pc3NuL3doYXQtaXMtYW4taXNzbi8uIFxuICogSXQgdXNlcyB0aGUgYElzc25UeXBlX0FiYnJldmlhdGlvbi5JU1NOYCBhcyBhIGxhYmVsIGlmIHRoZSBgY29udGVudC5sYWJlbGAgaXMgbm90IHNwZWNpZmllZC4gXG4gKiBJdCB1c2VzIHRoZSBgSXNzblZhbHVlLmlzc25fUGxhY2Vob2xkZXJgIGFzIGEgcGxhY2Vob2xkZXIgaWYgdGhlIGBjb250ZW50LnBsYWNlaG9sZGVyYCBpcyBub3Qgc3BlY2lmaWVkLiBcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdpbnB1dC1pc3NuJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4uL3RleHQvdGV4dC1pbnB1dC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4uL3RleHQvdGV4dC1pbnB1dC5jb21wb25lbnQuc2NzcyddLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgJ1tzdHlsZS5taW5XaWR0aF0nOiAnY29udGVudC5taW5XaWR0aCcsXG4gICAgICAgICdbc3R5bGUud2lkdGhdJzogJ2NvbnRlbnQud2lkdGgnXG4gICAgfVxufSlcbmV4cG9ydCBjbGFzcyBJbnB1dElzc25Db21wb25lbnQgZXh0ZW5kcyBJbnB1dENvbnRyb2wgaW1wbGVtZW50cyBPbkluaXRcbntcbiAgICAvKiBOb3RlOiBCZWZvcmUsIHRoaXMgY29udHJvbCB3b3JrZWQgd2VsbCB3aXRoIGEgJ3dpZHRoJyA9ICczMTBweCcgb3IgJzI4NXB4Jy4gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBgRm9ybUNvbnRyb2xgIGJ5IGRlZmF1bHQuIFxuICAgICAqIEl0IGlzIHVzZWQgdG8gaW5pdGlhbGl6ZWQgdGhlIGBJbnB1dElzc25Db21wb25lbnRgJ3MgYGNvbnRlbnQuZm9ybUNvbnRyb2xgIHZhbHVlIGJ5IGRlZmF1bHQuIFxuICAgICAqIEluIHRoaXMgY2FzZSwgdGhlIGB2YWxpZGF0b3JBcmd1bWVudHNgIGFyZ3VtZW50IGlzIGFsd2F5cyBgdW5kZWZpbmVkYC4gXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRGb3JtQ29udHJvbEJ5RGVmYXVsdCh2YWxpZGF0b3JBcmd1bWVudHM6IFZhbGlkYXRvckFyZ3VtZW50cyA9IHVuZGVmaW5lZCk6IEZvcm1Db250cm9sXG4gICAge1xuICAgICAgICBsZXQgcmVzOiBGb3JtQ29udHJvbCA9IG5ldyBGb3JtQ29udHJvbCgnJywgW1xuICAgICAgICAgICAgRXh0cmFWYWxpZGF0b3JzLmVxdWFsTGVuZ3RoKElzc25WYWx1ZS5jb2RlTGVuZ3RoKSxcbiAgICAgICAgICAgIFZhbGlkYXRvcnMucGF0dGVybihJc3NuVmFsdWUucmVnRXhwSXNzbldpdGhMZW5ndGhfMTEpLFxuICAgICAgICAgICAgRXh0cmFWYWxpZGF0b3JzLmlzc25Db25maXJtQ2hlY2tEaWdpdE9uZUZpZWxkKElzc25WYWx1ZS5jb2RlTGVuZ3RoKVxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuXHQvKipcblx0ICogSXQgaXMgdXNlZCBieSBgaGFuZGxlU3BlY2lmaWNJbnB1dGAgbWV0aG9kLiBcblx0ICovXG4gICAgcHJpdmF0ZSBfY29kZU9sZFZhbHVlOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9jb2RlT2xkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIG5nT25Jbml0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8qIFNldHMgdGhlIGRlZmF1bHQgdmFsdWVzLiAqL1xuXG4gICAgICAgIHRoaXMuaW5pdChJc3NuVHlwZV9BYmJyZXZpYXRpb24uSVNTTiwgSXNzblZhbHVlLmlzc25fUGxhY2Vob2xkZXIsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIGlmICgodHlwZW9mIHRoaXMuY29udGVudC52YWx1ZSAhPT0gJ3N0cmluZycpICYmICh0eXBlb2YgdGhpcy5jb250ZW50LnZhbHVlICE9PSAndW5kZWZpbmVkJykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm9yIHRoZSAnJHsgdGhpcy5jb250ZW50Lm5hbWUgfScgY29udHJvbCwgdGhlICdjb250ZW50LnZhbHVlJyB2YWx1ZSBtdXN0IGJlIG9mIHN0cmluZyB0eXBlLmApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVGhlICdfY29kZU9sZFZhbHVlJyBtdXN0IGJlIHNldCBhZnRlciB0aGUgJ2NvbnRlbnQuZm9ybUNvbnRyb2wudmFsdWUnIGlzIHNldC4gKi9cbiAgICAgICAgdGhpcy5oYW5kbGVTcGVjaWZpY0lucHV0KCk7XG4gICAgfVxuXG4gICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGVycm9yIHN0cmluZyBpZiB0aGUgY29udHJvbCBpcyBpbiBhbiBlcnJvciBzdGF0ZTsgb3RoZXJ3aXNlLCBlbXB0eSBzdHJpbmcuIFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFcnJvck1lc3NhZ2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IHJlc3VsdF9hbHJlYWR5SGF2ZUVycm9ySW5mbzogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yczogVmFsaWRhdGlvbkVycm9ycyA9IHRoaXMuY29udGVudC5mb3JtQ29udHJvbC5lcnJvcnM7XG5cbiAgICAgICAgLyogU2hvd3MgdGhlIGNvZGUgZXJyb3JzLiAqL1xuXG4gICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3JzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKHZhbGlkYXRpb25FcnJvcnNbRXh0cmFWYWxpZGF0b3JzLmVxdWFsTGVuZ3RoLm5hbWVdKSB8fCAodmFsaWRhdGlvbkVycm9yc1tWYWxpZGF0b3JzLnJlcXVpcmVkLm5hbWVdKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAnVE9DT19OR19FUlJPUl9NU0dfSVNTTl9MT05HX0lOVkFMJztcbiAgICAgICAgICAgICAgICByZXN1bHRfYWxyZWFkeUhhdmVFcnJvckluZm8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yc1tWYWxpZGF0b3JzLnBhdHRlcm4ubmFtZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF9hbHJlYWR5SGF2ZUVycm9ySW5mbylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICdUT0NPX05HX0VSUk9SX01TR19JU1NOX0xPTkdfWV9ESUdfSU5WQUwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAnVE9DT19OR19FUlJPUl9NU0dfSVNTTl9ESUdfSU5WQUwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3VsdF9hbHJlYWR5SGF2ZUVycm9ySW5mbyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXHRcdC8qIE9ubHkgc2hvd3MgdGhlIGBpc3NuQ29uZmlybUNoZWNrRGlnaXRPbmVGaWVsZGAgZXJyb3IgaWYgdGhlcmUgaXNuJ3QgYW55IHByZXZpb3VzIGVycm9yLiAqL1xuXHRcdGlmICghcmVzdWx0X2FscmVhZHlIYXZlRXJyb3JJbmZvKVxuXHRcdHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3JzKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAodmFsaWRhdGlvbkVycm9yc1tFeHRyYVZhbGlkYXRvcnMuaXNzbkNvbmZpcm1DaGVja0RpZ2l0T25lRmllbGQubmFtZV0pXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRyZXN1bHQgPSAnVE9DT19OR19FUlJPUl9NU0dfSVNTTl9ESUdfQ0hFUVVFT19JTlZBTCc7XG5cdFx0XHRcdFx0cmVzdWx0X2FscmVhZHlIYXZlRXJyb3JJbmZvID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuXHQvKipcblx0ICogSGFuZGxlciBtZXRob2QgdGhhdCBpcyBjYWxsZWQgYnkgdGhlIGludGVybmFsIGxvZ2ljIHdoZW4gdGhlIGNvbnRyb2wncyB2YWx1ZSBjaGFuZ2VzIGluIHRoZSBVSS4gXG4gICAgICogVGhpcyBtZXRob2QgY29udGFpbnMgdGhlIHNwZWNpZmljIGhhbmRsaW5nIG9mIHRoZSBpbnB1dCB0aGF0IHRoZSBkZXJpdmVkIGNsYXNzIHdhbnRzIHRvIGRvLiBcblx0ICovXG5cdHB1YmxpYyBoYW5kbGVTcGVjaWZpY0lucHV0KCk6IHZvaWRcblx0e1xuICAgICAgICAvKiBGb3JtYSBkZSBlbnRyYWRhIGRlbCBjw7NkaWdvIElTU04gcG9yIHBhcnRlIGRlbCB1c3VhcmlvOiBcbiAgICAgICAgICogRWwgY29udHJvbCBJU1NOIHBlcm1pdGUgY29waWFyIGPDs2RpZ29zIElTU04gY29uIGVsIHNlcGFyYWRvciBkZSBtZW5vcyAoLSkgbyBjb24gXG4gICAgICAgICAqIGVsIHNlcGFyYWRvciBkZSByYXlhICjigJMpLCB5IHNvbiBjb3BpYWRvcyBjb3JyZWN0YW1lbnRlIHBhcmEgdW4gY8OzZGlnbyBJU1NOIFxuICAgICAgICAgKiBjb24gZWwgc2VwYXJhZG9yIGRlIHJheWEgKOKAkyk7IGVzIGRlY2lyLCBsb3Mgc2lndWllbnRlcyBlamVtcGxvcyBtdWVzdHJhbiBcbiAgICAgICAgICogZWwgcmVzdWx0YWRvIGRlIGNvcGlhciB1bmEgZm9ybWEgZGUgY8OzZGlnbyBlbiBwYXJ0aWN1bGFyLiBcbiAgICAgICAgICogIC0gU2kgc2UgY29waWEgMDEyMzQ1NjAsIGVudG9uY2VzIHNlIG11ZXN0cmEgMDEyMyDigJMgNDU2MFxuICAgICAgICAgKiAgLSBTaSBzZSBjb3BpYSAwMTIzLTQ1NjAsIGVudG9uY2VzIHNlIG11ZXN0cmEgMDEyMyDigJMgNDU2MFxuICAgICAgICAgKiAgLSBTaSBzZSBjb3BpYSAwMTIzIC0gNDU2MCwgZW50b25jZXMgc2UgbXVlc3RyYSAwMTIzIOKAkyA0NTYwXG4gICAgICAgICAqICAtIFNpIHNlIGNvcGlhIDAxMjPigJM0NTYwLCBlbnRvbmNlcyBzZSBtdWVzdHJhIDAxMjMg4oCTIDQ1NjBcbiAgICAgICAgICogIC0gU2kgc2UgY29waWEgMDEyMyDigJMgNDU2MCwgZW50b25jZXMgc2UgbXVlc3RyYSAwMTIzIOKAkyA0NTYwXG4gICAgICAgICAqICAtIFNpIHNlIGNvcGlhIDAxMjMg4oCTIDQ1NjAxLCBlbnRvbmNlcyBzZSBtdWVzdHJhIDAxMjMg4oCTIDQ1NjBcbiAgICAgICAgICogIC0gU2kgc2UgY29waWEgdW4gY8OzZGlnbyBJU1NOIGNvbiBtw6FzIGRlIDggZMOtZ2l0b3MgZW4gbGEgZm9ybWEgcXVlIHNlYSwgXG4gICAgICAgICAqICAgIGVudG9uY2VzIG5vIHNlIGNvcGlhIHkgc2Ugc2lndWUgbW9zdHJhbmRvIGVsIGPDs2RpZ28gYW50ZXJpb3IuIFxuICAgICAgICAgKiBSZWN1ZXJkZSBxdWUgZWwgY2FyYWN0ZXIgJ3gnIG9yICdYJyBwdWVkZSBhcGFyZWNlciBzb2xhbWVudGUgZW4gbGEgw7psdGltYSBcbiAgICAgICAgICogcG9zaWNpw7NuIGRlbCBjw7NkaWdvIElTU04uIEFkZW3DoXMsIGF1bnF1ZSBsb3MgZG9zIGNhcmFjdGVyZXMgc2lnbmlmaWNhbiBsbyBtaXNtbywgXG4gICAgICAgICAqIHNpZW1wcmUgc2UgdHJhdGEgZGUgbW9zdHJhciBlbCBjYXJhY3RlciAnWCcgZW4gbWF5w7pzY3VsYS4gXG4gICAgICAgICAqL1xuXG4gICAgICAgIGxldCB0ZW1wQ29kZTogc3RyaW5nID0gdGhpcy5jb250ZW50LmZvcm1Db250cm9sLnZhbHVlO1xuICAgICAgICBsZXQgbGVuOiBudW1iZXIgPSB0ZW1wQ29kZS5sZW5ndGg7XG5cbiAgICAgICAgLyogQ2hlY2tzIHRoYXQgdGhlIGNvZGUgbGVuZ3RoIGNhbiBub3QgYmUgbG9uZ2VyIHRoYW4gYElzc25WYWx1ZS5jb2RlTGVuZ3RoYC4gKi9cblx0XHRpZiAobGVuID4gSXNzblZhbHVlLmNvZGVMZW5ndGgpICAvKiBUaGlzIGNhc2UgaXMgdXNlZCBmb3IgY29kZSB3aXRoIGxlbmd0aCAxMS4gKi9cblx0XHR7XG5cdFx0XHQvKiBTZXRzIHRoZSBvbGQgdmFsdWUuICovXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuZm9ybUNvbnRyb2wuc2V0VmFsdWUodGhpcy5fY29kZU9sZFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpOiBudW1iZXI7XG4gICAgICAgIGxldCBuZXdDb2RlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGFscmVhZHlIYXNTcGFjZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBsZXQgY291bnQ6IG51bWJlciA9IDA7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2godGVtcENvZGVbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSAnMCc6IGNhc2UgJzEnOiBjYXNlICcyJzogY2FzZSAnMyc6IGNhc2UgJzQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJzUnOiBjYXNlICc2JzogY2FzZSAnNyc6IGNhc2UgJzgnOiBjYXNlICc5JzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKCsrY291bnQpID09IDQpICYmICghYWxyZWFkeUhhc1NwYWNlKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxyZWFkeUhhc1NwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvZGUgKz0gdGVtcENvZGVbaV0gKyBJc3NuVmFsdWUuY29kZUdyb3VwU2VwYXJhdG9yV2l0aFNwYWNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29kZSArPSB0ZW1wQ29kZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlICd4JzogY2FzZSAnWCc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGkgKyAxKSA9PSBsZW4pICAvKiBUaGUgJ3gnIG9yICdYJyBjaGFyYWN0ZXIgY2FuIG9ubHkgYXBwZWFyIGluIHRoZSBsYXN0IHBvc2l0aW9uLiAqL1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29kZSArPSAnWCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlIYXNTcGFjZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxyZWFkeUhhc1NwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvZGUgKz0gSXNzblZhbHVlLmNvZGVHcm91cFNlcGFyYXRvcldpdGhTcGFjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiBDaGVja3MgdGhhdCB0aGUgY29kZSBsZW5ndGggY2FuIG5vdCBiZSBsb25nZXIgdGhhbiBgSXNzblZhbHVlLmNvZGVMZW5ndGhgLiAqL1xuICAgICAgICBpZiAoY291bnQgPiA4KSAgLyogVGhpcyBjYXNlIGlzIHVzZWQgZm9yIGNvZGUgd2l0aCBsZW5ndGggOCBhbmQgOS4gKi9cblx0XHR7XG5cdFx0XHQvKiBTZXRzIHRoZSBvbGQgdmFsdWUuICovXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuZm9ybUNvbnRyb2wuc2V0VmFsdWUodGhpcy5fY29kZU9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIFNldHMgdGhlIG5ldyB2YWx1ZSwgYW5kIHVwZGF0ZXMgdGhlIG9sZCB2YWx1ZS4gKi9cbiAgICAgICAgICAgIHRoaXMuY29udGVudC5mb3JtQ29udHJvbC5zZXRWYWx1ZSgodGhpcy5fY29kZU9sZFZhbHVlID0gbmV3Q29kZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl19