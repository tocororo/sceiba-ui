/**
 * @fileoverview added by tsickle
 * Generated from: lib/core/metadata.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { Router } from '@angular/router';
import { Title, Meta } from '@angular/platform-browser';
import { Environment } from './env';
import * as i0 from "@angular/core";
import * as i1 from "@angular/platform-browser";
import * as i2 from "@angular/router";
import * as i3 from "./env";
/**
 * A service that is used to set the title and metadata of a route.
 * This service is important for things like configuring a Content Security Policy,
 * defining browser compatibility and security settings, setting HTTP Headers,
 * defining rich content for social sharing, and Search Engine Optimization (SEO).
 */
export class MetadataService {
    /**
     * @param {?} bodyTitle
     * @param {?} meta
     * @param {?} _router
     * @param {?} env
     */
    constructor(bodyTitle, meta, _router, env) {
        this.bodyTitle = bodyTitle;
        this.meta = meta;
        this._router = _router;
        this.env = env;
    }
    /**
     * Sets the page metadata for SEO and standard social networks.
     * @param {?} title The title to set. Maximum length 60-70 characters.
     * @param {?} description The description to set. Maximum length 155 characters.
     * @param {?=} image The image to set. If the value is empty, then the image is not set.
     * The image must be at least 280px in width and 150px in height; and must be less than 1Mb in size.
     * @return {?}
     */
    setStandardMeta(title, description, image = "") {
        /* The canonical URL for your page. This should be the undecorated URL,
                without session variables, user identifying parameters, or counters. */
        /** @type {?} */
        let url = this.env.appHost + this._router.url;
        //console.log('The URL for metadata is: ', url);
        image = this.env.appHost + image;
        /* Primary metadata. */
        /* Maximum length 60-70 characters. */
        this.bodyTitle.setTitle(title + " | " + this.env.appName); /* Sets the title of the current HTML document. */
        /* Maximum length 155 characters. */
        this.meta.updateTag({ name: "description", content: description });
        /* Schema.org markup for Google+. */
        this.meta.updateTag({ itemprop: "name", title });
        this.meta.updateTag({ itemprop: "description", content: description });
        if (image)
            this.meta.updateTag({ itemprop: "image", content: image });
        /* Twitter Card data */
        this.meta.updateTag({ name: "twitter:card", content: "summary_large_image" });
        /* Non-Essential, but required for analytics tool. */
        this.meta.updateTag({ name: "twitter:site", content: this.env.websiteUsername_Twitter }); /* @website-username */
        this.meta.updateTag({ name: "twitter:title", content: title });
        this.meta.updateTag({ name: "twitter:description", content: description });
        /* Twitter summary card with large image must be at least 280px x 150px. */
        if (image)
            this.meta.updateTag({ name: "twitter:image:src", content: image });
        //        this.meta.updateTag({ name: "twitter:image:alt", content: "Alt text for image..." });
        /* Open Graph data, Twitter, Facebook, and Linkedin. */
        this.meta.updateTag({ property: "og:title", content: title });
        this.meta.updateTag({ property: "og:type", content: "website" });
        this.meta.updateTag({ property: "og:url", content: url });
        if (image)
            this.meta.updateTag({ property: "og:image", content: image });
        this.meta.updateTag({ property: "og:description", content: description });
        this.meta.updateTag({ property: "og:site_name", content: this.env.appName });
    }
}
MetadataService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
MetadataService.ctorParameters = () => [
    { type: Title },
    { type: Meta },
    { type: Router },
    { type: Environment }
];
/** @nocollapse */ MetadataService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function MetadataService_Factory() { return new MetadataService(i0.ɵɵinject(i1.Title), i0.ɵɵinject(i1.Meta), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.Environment)); }, token: MetadataService, providedIn: "root" });
if (false) {
    /** @type {?} */
    MetadataService.prototype.bodyTitle;
    /** @type {?} */
    MetadataService.prototype.meta;
    /**
     * @type {?}
     * @private
     */
    MetadataService.prototype._router;
    /** @type {?} */
    MetadataService.prototype.env;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3RvY28tbGliLyIsInNvdXJjZXMiOlsibGliL2NvcmUvbWV0YWRhdGEuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFeEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQTs7Ozs7Ozs7Ozs7QUFXbkMsTUFBTSxPQUFPLGVBQWU7Ozs7Ozs7SUFFeEIsWUFBMEIsU0FBZ0IsRUFBUyxJQUFVLEVBQVUsT0FBZSxFQUFTLEdBQWdCO1FBQXJGLGNBQVMsR0FBVCxTQUFTLENBQU87UUFBUyxTQUFJLEdBQUosSUFBSSxDQUFNO1FBQVUsWUFBTyxHQUFQLE9BQU8sQ0FBUTtRQUFTLFFBQUcsR0FBSCxHQUFHLENBQWE7SUFDN0csQ0FBQzs7Ozs7Ozs7O0lBU0ksZUFBZSxDQUFDLEtBQWEsRUFBRSxXQUFtQixFQUFFLFFBQWdCLEVBQUU7Ozs7WUFJckUsR0FBRyxHQUFXLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRztRQUNyRCxnREFBZ0Q7UUFDaEQsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUVqQyx1QkFBdUI7UUFFdkIsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFFLGtEQUFrRDtRQUM5RyxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBRW5FLG9DQUFvQztRQUVwQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDdkUsSUFBSSxLQUFLO1lBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRXRFLHVCQUF1QjtRQUV2QixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsT0FBTyxFQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQztRQUM3RSxxREFBcUQ7UUFDckQsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLENBQUMsQ0FBQyxDQUFFLHVCQUF1QjtRQUNsSCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLEVBQUUscUJBQXFCLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDM0UsMkVBQTJFO1FBQzNFLElBQUksS0FBSztZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ3RGLCtGQUErRjtRQUV2Rix1REFBdUQ7UUFFdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDMUQsSUFBSSxLQUFLO1lBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxFQUFFLGdCQUFnQixFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7OztZQXZESixVQUFVLFNBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7Ozs7WUFaUSxLQUFLO1lBQUUsSUFBSTtZQURYLE1BQU07WUFHTixXQUFXOzs7OztJQWFHLG9DQUF1Qjs7SUFBRSwrQkFBaUI7Ozs7O0lBQUUsa0NBQXVCOztJQUFFLDhCQUF1QiIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IFRpdGxlLCBNZXRhIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5cbmltcG9ydCB7IEVudmlyb25tZW50IH0gZnJvbSAnLi9lbnYnXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgaXMgdXNlZCB0byBzZXQgdGhlIHRpdGxlIGFuZCBtZXRhZGF0YSBvZiBhIHJvdXRlLiBcbiAqIFRoaXMgc2VydmljZSBpcyBpbXBvcnRhbnQgZm9yIHRoaW5ncyBsaWtlIGNvbmZpZ3VyaW5nIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3ksIFxuICogZGVmaW5pbmcgYnJvd3NlciBjb21wYXRpYmlsaXR5IGFuZCBzZWN1cml0eSBzZXR0aW5ncywgc2V0dGluZyBIVFRQIEhlYWRlcnMsIFxuICogZGVmaW5pbmcgcmljaCBjb250ZW50IGZvciBzb2NpYWwgc2hhcmluZywgYW5kIFNlYXJjaCBFbmdpbmUgT3B0aW1pemF0aW9uIChTRU8pLiBcbiAqL1xuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBNZXRhZGF0YVNlcnZpY2VcbntcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGJvZHlUaXRsZTogVGl0bGUsIHB1YmxpYyBtZXRhOiBNZXRhLCBwcml2YXRlIF9yb3V0ZXI6IFJvdXRlciwgcHVibGljIGVudjogRW52aXJvbm1lbnQpXG4gICAgeyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwYWdlIG1ldGFkYXRhIGZvciBTRU8gYW5kIHN0YW5kYXJkIHNvY2lhbCBuZXR3b3Jrcy4gXG4gICAgICogQHBhcmFtIHRpdGxlIFRoZSB0aXRsZSB0byBzZXQuIE1heGltdW0gbGVuZ3RoIDYwLTcwIGNoYXJhY3RlcnMuIFxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBUaGUgZGVzY3JpcHRpb24gdG8gc2V0LiBNYXhpbXVtIGxlbmd0aCAxNTUgY2hhcmFjdGVycy4gXG4gICAgICogQHBhcmFtIGltYWdlIFRoZSBpbWFnZSB0byBzZXQuIElmIHRoZSB2YWx1ZSBpcyBlbXB0eSwgdGhlbiB0aGUgaW1hZ2UgaXMgbm90IHNldC4gXG4gICAgICogVGhlIGltYWdlIG11c3QgYmUgYXQgbGVhc3QgMjgwcHggaW4gd2lkdGggYW5kIDE1MHB4IGluIGhlaWdodDsgYW5kIG11c3QgYmUgbGVzcyB0aGFuIDFNYiBpbiBzaXplLiBcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0U3RhbmRhcmRNZXRhKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGltYWdlOiBzdHJpbmcgPSBcIlwiKTogdm9pZFxuICAgIHtcbiAgICAgICAgLyogVGhlIGNhbm9uaWNhbCBVUkwgZm9yIHlvdXIgcGFnZS4gVGhpcyBzaG91bGQgYmUgdGhlIHVuZGVjb3JhdGVkIFVSTCwgXG4gICAgICAgIHdpdGhvdXQgc2Vzc2lvbiB2YXJpYWJsZXMsIHVzZXIgaWRlbnRpZnlpbmcgcGFyYW1ldGVycywgb3IgY291bnRlcnMuICovXG4gICAgICAgIGxldCB1cmw6IHN0cmluZyA9IHRoaXMuZW52LmFwcEhvc3QgKyB0aGlzLl9yb3V0ZXIudXJsO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdUaGUgVVJMIGZvciBtZXRhZGF0YSBpczogJywgdXJsKTtcbiAgICAgICAgaW1hZ2UgPSB0aGlzLmVudi5hcHBIb3N0ICsgaW1hZ2U7XG5cbiAgICAgICAgLyogUHJpbWFyeSBtZXRhZGF0YS4gKi9cblxuICAgICAgICAvKiBNYXhpbXVtIGxlbmd0aCA2MC03MCBjaGFyYWN0ZXJzLiAqL1xuICAgICAgICB0aGlzLmJvZHlUaXRsZS5zZXRUaXRsZSh0aXRsZSArIFwiIHwgXCIgKyB0aGlzLmVudi5hcHBOYW1lKTsgIC8qIFNldHMgdGhlIHRpdGxlIG9mIHRoZSBjdXJyZW50IEhUTUwgZG9jdW1lbnQuICovXG4gICAgICAgIC8qIE1heGltdW0gbGVuZ3RoIDE1NSBjaGFyYWN0ZXJzLiAqL1xuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogXCJkZXNjcmlwdGlvblwiLCBjb250ZW50OiBkZXNjcmlwdGlvbiB9KTtcblxuICAgICAgICAvKiBTY2hlbWEub3JnIG1hcmt1cCBmb3IgR29vZ2xlKy4gKi9cblxuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgaXRlbXByb3A6IFwibmFtZVwiLCB0aXRsZSB9KTtcbiAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyh7IGl0ZW1wcm9wOiBcImRlc2NyaXB0aW9uXCIsIGNvbnRlbnQ6IGRlc2NyaXB0aW9uIH0pO1xuICAgICAgICBpZiAoaW1hZ2UpIHRoaXMubWV0YS51cGRhdGVUYWcoeyBpdGVtcHJvcDogXCJpbWFnZVwiLCBjb250ZW50OiBpbWFnZSB9KTtcblxuICAgICAgICAvKiBUd2l0dGVyIENhcmQgZGF0YSAqL1xuXG4gICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoeyBuYW1lOiBcInR3aXR0ZXI6Y2FyZFwiLCBjb250ZW50Olwic3VtbWFyeV9sYXJnZV9pbWFnZVwiIH0pO1xuICAgICAgICAvKiBOb24tRXNzZW50aWFsLCBidXQgcmVxdWlyZWQgZm9yIGFuYWx5dGljcyB0b29sLiAqL1xuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogXCJ0d2l0dGVyOnNpdGVcIiwgY29udGVudDogdGhpcy5lbnYud2Vic2l0ZVVzZXJuYW1lX1R3aXR0ZXIgfSk7ICAvKiBAd2Vic2l0ZS11c2VybmFtZSAqL1xuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogXCJ0d2l0dGVyOnRpdGxlXCIsIGNvbnRlbnQ6IHRpdGxlIH0pO1xuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogXCJ0d2l0dGVyOmRlc2NyaXB0aW9uXCIsIGNvbnRlbnQ6IGRlc2NyaXB0aW9uIH0pO1xuICAgICAgICAvKiBUd2l0dGVyIHN1bW1hcnkgY2FyZCB3aXRoIGxhcmdlIGltYWdlIG11c3QgYmUgYXQgbGVhc3QgMjgwcHggeCAxNTBweC4gKi9cbiAgICAgICAgaWYgKGltYWdlKSB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogXCJ0d2l0dGVyOmltYWdlOnNyY1wiLCBjb250ZW50OiBpbWFnZSB9KTtcbi8vICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgbmFtZTogXCJ0d2l0dGVyOmltYWdlOmFsdFwiLCBjb250ZW50OiBcIkFsdCB0ZXh0IGZvciBpbWFnZS4uLlwiIH0pO1xuXG4gICAgICAgIC8qIE9wZW4gR3JhcGggZGF0YSwgVHdpdHRlciwgRmFjZWJvb2ssIGFuZCBMaW5rZWRpbi4gKi9cblxuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgcHJvcGVydHk6IFwib2c6dGl0bGVcIiwgY29udGVudDogdGl0bGUgfSk7XG4gICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoeyBwcm9wZXJ0eTogXCJvZzp0eXBlXCIsIGNvbnRlbnQ6IFwid2Vic2l0ZVwiIH0pO1xuICAgICAgICB0aGlzLm1ldGEudXBkYXRlVGFnKHsgcHJvcGVydHk6IFwib2c6dXJsXCIsIGNvbnRlbnQ6IHVybCB9KTtcbiAgICAgICAgaWYgKGltYWdlKSB0aGlzLm1ldGEudXBkYXRlVGFnKHsgcHJvcGVydHk6IFwib2c6aW1hZ2VcIiwgY29udGVudDogaW1hZ2UgfSk7XG4gICAgICAgIHRoaXMubWV0YS51cGRhdGVUYWcoeyBwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBkZXNjcmlwdGlvbiB9KTtcbiAgICAgICAgdGhpcy5tZXRhLnVwZGF0ZVRhZyh7IHByb3BlcnR5OiBcIm9nOnNpdGVfbmFtZVwiLCBjb250ZW50OiB0aGlzLmVudi5hcHBOYW1lIH0pO1xuICAgIH1cbn1cbiJdfQ==