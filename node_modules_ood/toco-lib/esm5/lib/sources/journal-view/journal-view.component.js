/**
 * @fileoverview added by tsickle
 * Generated from: lib/sources/journal-view/journal-view.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 *   Copyright (c) 2020 Universidad de Pinar del Río "Hermanos Saíz Montes de Oca"
 *   All rights reserved.
 */
import { Component, Input } from '@angular/core';
import { MatSnackBar, MatDialog } from '@angular/material';
import { MetadataService, MessageHandler, StatusCode, Environment } from '../../core/public-api';
import { Organization, VocabulariesInmutableNames, JournalVersion } from '../../entities/public-api';
/** @enum {number} */
var JournalDataType = {
    /** is used by default, `Journal` have not that type of data. */
    default: 0,
    title: 1,
    subtitle: 2,
    shortname: 3,
    issnP: 4,
    issnE: 5,
    issnL: 6,
    rnpsP: 7,
    rnpsE: 21,
    url: 8,
    email: 9,
    logo: 10,
    purpose: 11,
    start_year: 12,
    end_year: 13,
    frequency: 14,
    seriadas_cubanas: 15,
    facebook: 16,
    twitter: 17,
    linkedin: 18,
    description: 19,
    term: 20,
    oaiurl: 22,
};
export { JournalDataType };
JournalDataType[JournalDataType.default] = 'default';
JournalDataType[JournalDataType.title] = 'title';
JournalDataType[JournalDataType.subtitle] = 'subtitle';
JournalDataType[JournalDataType.shortname] = 'shortname';
JournalDataType[JournalDataType.issnP] = 'issnP';
JournalDataType[JournalDataType.issnE] = 'issnE';
JournalDataType[JournalDataType.issnL] = 'issnL';
JournalDataType[JournalDataType.rnpsP] = 'rnpsP';
JournalDataType[JournalDataType.rnpsE] = 'rnpsE';
JournalDataType[JournalDataType.url] = 'url';
JournalDataType[JournalDataType.email] = 'email';
JournalDataType[JournalDataType.logo] = 'logo';
JournalDataType[JournalDataType.purpose] = 'purpose';
JournalDataType[JournalDataType.start_year] = 'start_year';
JournalDataType[JournalDataType.end_year] = 'end_year';
JournalDataType[JournalDataType.frequency] = 'frequency';
JournalDataType[JournalDataType.seriadas_cubanas] = 'seriadas_cubanas';
JournalDataType[JournalDataType.facebook] = 'facebook';
JournalDataType[JournalDataType.twitter] = 'twitter';
JournalDataType[JournalDataType.linkedin] = 'linkedin';
JournalDataType[JournalDataType.description] = 'description';
JournalDataType[JournalDataType.term] = 'term';
JournalDataType[JournalDataType.oaiurl] = 'oaiurl';
var JournalViewComponent = /** @class */ (function () {
    function JournalViewComponent(metadata, env, _snackBar, dialog) {
        this.metadata = metadata;
        this.env = env;
        this._snackBar = _snackBar;
        this.dialog = dialog;
        this.topMainOrganization = null;
        /**
         * ************* auxiliary variables ******************
         */
        this.panelOpenState = false;
        this.defaultLogo = this.env.sceibaHost + 'static/favicon.ico';
        /**
         * Inmutables data types of Journal
         */
        this.journalDataType = JournalDataType;
        /**
         * version.is_current = true
         */
        // public currentJournal: JournalVersion;
        this.showVersions = false;
        this.editVersion = false;
    }
    /**
     * @return {?}
     */
    JournalViewComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.isDisabledNavigatePrevious = true;
        this.isDisabledNavigateNext = false;
        this.vocabularies = VocabulariesInmutableNames;
        // guardar la cantidad total de versiones
        this.lengthVersion = this.versions.length;
        // guardar la posicion de la version donde este la actual
        this.selectedVersion = this.getSelectedJournalPosition();
        this.SelectJournalVersion();
        this.metadata.setStandardMeta("Revista Científica " + this.editingJournal.data.title, this.editingJournal.data.description, "");
        // if (this.versions){
        //   this.versions.forEach((journalVersion: JournalVersion, index: number) => {
        //     // check if has versions to view and return that position
        //     if (journalVersion.is_current) {
        //         this.currentJournal = new JournalVersion();
        //         this.currentJournal.deepcopy(journalVersion);
        //     }
        //   });
        // }
    };
    /**
     * Changes the selected position to the next one if possible
     */
    /**
     * Changes the selected position to the next one if possible
     * @return {?}
     */
    JournalViewComponent.prototype.nextVersion = /**
     * Changes the selected position to the next one if possible
     * @return {?}
     */
    function () {
        if (this.selectedVersion < this.lengthVersion - 1) {
            this.isDisabledNavigateNext = false;
            this.isDisabledNavigatePrevious = false;
            this.selectedVersion++;
            this.SelectJournalVersion();
        }
        else {
            this.isDisabledNavigateNext = true;
            /** @type {?} */
            var m = new MessageHandler(this._snackBar);
            m.showMessage(StatusCode.OK, 'No hay más versiones para mostrar');
        }
        if (this.selectedVersion == this.lengthVersion - 1) {
            this.isDisabledNavigateNext = true;
        }
    };
    /**
     * Changes the selected position to the before one if possible
     */
    /**
     * Changes the selected position to the before one if possible
     * @return {?}
     */
    JournalViewComponent.prototype.previousVersion = /**
     * Changes the selected position to the before one if possible
     * @return {?}
     */
    function () {
        if (this.selectedVersion > 0) {
            this.isDisabledNavigatePrevious = false;
            this.isDisabledNavigateNext = false;
            this.selectedVersion--;
            this.SelectJournalVersion();
        }
        else {
            this.isDisabledNavigatePrevious = true;
            /** @type {?} */
            var m = new MessageHandler(this._snackBar);
            m.showMessage(StatusCode.OK, 'No hay más versiones para mostrar');
        }
        if (this.selectedVersion == 0) {
            this.isDisabledNavigatePrevious = true;
        }
    };
    /**
     * Selects the selected journal as a JournalVersion
     */
    /**
     * Selects the selected journal as a JournalVersion
     * @return {?}
     */
    JournalViewComponent.prototype.SelectJournalVersion = /**
     * Selects the selected journal as a JournalVersion
     * @return {?}
     */
    function () {
        if (this.versions.length >= 0 &&
            this.selectedVersion >= 0 &&
            this.selectedVersion < this.versions.length) {
            // load the selected journal
            /** @type {?} */
            var version = new JournalVersion();
            version.deepcopy(this.versions[this.selectedVersion]);
            this.selectedJournal = version;
            // load if was viewed
            // this.selectedJournalChecked = this.selectedJournal.reviewed;
        }
    };
    /**
     * Returns the position of the unseen version of the journal as JournalVersion
     */
    /**
     * Returns the position of the unseen version of the journal as JournalVersion
     * @private
     * @return {?}
     */
    JournalViewComponent.prototype.getSelectedJournalPosition = /**
     * Returns the position of the unseen version of the journal as JournalVersion
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var count = 0;
        this.versions.forEach((/**
         * @param {?} journalVersion
         * @param {?} index
         * @return {?}
         */
        function (journalVersion, index) {
            // check if has versions to view and return that position
            if (journalVersion.reviewed != null && journalVersion.reviewed) {
                count = index;
                return count;
            }
        }));
        return count;
    };
    /**
     * @param {?} version
     * @return {?}
     */
    JournalViewComponent.prototype.sourceEditDone = /**
     * @param {?} version
     * @return {?}
     */
    function (version) {
        this.editVersion = false;
        console.log('AAaAAAAAAAAAAAAAAAAAA');
    };
    /**
     * @return {?}
     */
    JournalViewComponent.prototype.toogleShowVersions = /**
     * @return {?}
     */
    function () {
        this.showVersions = !this.showVersions;
        this.editVersion = false;
    };
    JournalViewComponent.decorators = [
        { type: Component, args: [{
                    selector: 'toco-journal-view',
                    template: "<div *ngIf=\"editingJournal != undefined\" fxLayout=\"row wrap\" style=\"margin: 1em\">\n  <!-- navigate buttons -->\n  <mat-toolbar>\n    <mat-toolbar-row fxLayoutGap=\"1em\" fxLayoutAlign=\"end center\">\n      <!-- <mat-slide-toggle\n        (change)=\"editVersion = !editVersion\"\n        color=\"primary\"\n        matTooltip=\"Vista Edicion\"\n    >\n    </mat-slide-toggle>\n\n      <mat-slide-toggle\n        *ngIf=\"!editVersion\"\n        (change)=\"showVersions = !showVersions\"\n        color=\"accent\"\n        matTooltip=\"Ver Revisiones\"\n      >\n      </mat-slide-toggle> -->\n\n      <button\n        *ngIf=\"!editVersion\"\n        mat-icon-button\n        aria-label=\"Editar la Revisi\u00F3n actual\"\n        matTooltip=\"Editar la Revisi\u00F3n actual\"\n        (click)=\"editVersion = !editVersion\"\n      >\n        <mat-icon>edit</mat-icon>\n      </button>\n\n      <button\n        *ngIf=\"editVersion\"\n        mat-icon-button\n        aria-label=\"Vista Revisiones\"\n        matTooltip=\"Vista Revisiones\"\n        (click)=\"editVersion = !editVersion\"\n      >\n        <mat-icon>visibility</mat-icon>\n      </button>\n\n      <button\n        *ngIf=\"!editVersion && !showVersions\"\n        mat-icon-button\n        aria-label=\"Ver Revisiones\"\n        matTooltip=\"Ver Revisiones\"\n        (click)=\"showVersions = !showVersions\"\n      >\n        <mat-icon>history</mat-icon>\n      </button>\n\n      <button\n        *ngIf=\"!editVersion && showVersions\"\n        mat-icon-button\n        aria-label=\"Ocultar Revisiones\"\n        matTooltip=\"Ocultar Revisiones\"\n        (click)=\"showVersions = !showVersions\"\n      >\n        <mat-icon>history</mat-icon>\n      </button>\n\n      <div *ngIf=\"!editVersion && showVersions\">\n        <button\n          mat-icon-button\n          aria-label=\"Previous version\"\n          [disabled]=\"isDisabledNavigatePrevious\"\n          matTooltip=\"Revisi\u00F3n Anterior\"\n          (click)=\"previousVersion()\"\n        >\n          <mat-icon>navigate_before</mat-icon>\n        </button>\n        <button\n          mat-icon-button\n          aria-label=\"Next version\"\n          [disabled]=\"isDisabledNavigateNext\"\n          matTooltip=\"Revisi\u00F3n Siguiente\"\n          (click)=\"nextVersion()\"\n        >\n          <mat-icon>navigate_next</mat-icon>\n        </button>\n      </div>\n    </mat-toolbar-row>\n  </mat-toolbar>\n\n  <ng-container *ngIf=\"versions != undefined\">\n    <toco-journal-edit\n      *ngIf=\"editVersion\"\n      [journalVersion]=\"editingJournal\"\n      (journalEditDone)=\"sourceEditDone($event)\"\n      [showEditHeader]=\"false\"\n      [showFinalStep]=\"false\"\n      [topMainOrganization]=\"topMainOrganization\"\n    >\n    </toco-journal-edit>\n    <toco-journal-view-info\n      *ngIf=\"!editVersion && !showVersions\"\n      [journalVersion]=\"editingJournal\"\n      fxFlex=\"1 2 calc(15em + 20px)\"\n      style=\"margin: 0.5em\"\n    >\n    </toco-journal-view-info>\n    <ng-container *ngIf=\"!editVersion && showVersions\">\n      <toco-journal-view-info\n        #journalViewInfo\n        [journalVersion]=\"editingJournal\"\n        fxFlex=\"1 2 calc(15em + 20px)\"\n        style=\"margin: 0.5em\"\n      >\n      </toco-journal-view-info>\n\n      <toco-journal-view-version\n        #versionsPanel\n        [editingJournal]=\"editingJournal\"\n        [currentJournal]=\"selectedJournal\"\n        (editingJournalChange)=\"\n          journalViewInfo.editingJournalChange(editingJournal)\n        \"\n        fxFlex=\"1 2 calc(15em + 20px)\"\n        style=\"margin: 0.5em\"\n      ></toco-journal-view-version>\n    </ng-container>\n  </ng-container>\n\n  <mat-card *ngIf=\"versions == undefined\" style=\"margin: 1em\">\n    <mat-card-content>\n      <h1>Este componente necesita las revisiones de la revista.</h1>\n    </mat-card-content>\n  </mat-card>\n</div>\n\n<mat-card *ngIf=\"editingJournal == undefined\" style=\"margin: 1em\">\n  <mat-card-content>\n    <h1>No se encontr\u00F3 la informaci\u00F3n solicitada</h1>\n  </mat-card-content>\n</mat-card>\n",
                    styles: [".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]
                }] }
    ];
    /** @nocollapse */
    JournalViewComponent.ctorParameters = function () { return [
        { type: MetadataService },
        { type: Environment },
        { type: MatSnackBar },
        { type: MatDialog }
    ]; };
    JournalViewComponent.propDecorators = {
        topMainOrganization: [{ type: Input }],
        editingJournal: [{ type: Input }],
        versions: [{ type: Input }]
    };
    return JournalViewComponent;
}());
export { JournalViewComponent };
if (false) {
    /** @type {?} */
    JournalViewComponent.prototype.topMainOrganization;
    /**
     * ************* auxiliary variables ******************
     * @type {?}
     */
    JournalViewComponent.prototype.panelOpenState;
    /** @type {?} */
    JournalViewComponent.prototype.defaultLogo;
    /**
     * Button roperty, is to enable or disable if there are not more versions
     * @type {?}
     */
    JournalViewComponent.prototype.isDisabledNavigatePrevious;
    /** @type {?} */
    JournalViewComponent.prototype.isDisabledNavigateNext;
    /** @type {?} */
    JournalViewComponent.prototype.vocabularies;
    /**
     * Represents a Journal Object, it is a type of Source.
     * Need the source.version array filled
     * @type {?}
     */
    JournalViewComponent.prototype.editingJournal;
    /** @type {?} */
    JournalViewComponent.prototype.versions;
    /**
     * the current version of a Journal, (a type of Source)
     * it is to compare and show changes between Journal and last version of journal
     * iteration over journal.versions
     * @type {?}
     */
    JournalViewComponent.prototype.selectedJournal;
    /**
     * Properties to move between versions
     * @type {?}
     * @private
     */
    JournalViewComponent.prototype.selectedVersion;
    /**
     * @type {?}
     * @private
     */
    JournalViewComponent.prototype.lengthVersion;
    /**
     * Inmutables data types of Journal
     * @type {?}
     */
    JournalViewComponent.prototype.journalDataType;
    /**
     * version.is_current = true
     * @type {?}
     */
    JournalViewComponent.prototype.showVersions;
    /** @type {?} */
    JournalViewComponent.prototype.editVersion;
    /**
     * @type {?}
     * @private
     */
    JournalViewComponent.prototype.metadata;
    /**
     * @type {?}
     * @private
     */
    JournalViewComponent.prototype.env;
    /**
     * @type {?}
     * @private
     */
    JournalViewComponent.prototype._snackBar;
    /** @type {?} */
    JournalViewComponent.prototype.dialog;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiam91cm5hbC12aWV3LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3RvY28tbGliLyIsInNvdXJjZXMiOlsibGliL3NvdXJjZXMvam91cm5hbC12aWV3L2pvdXJuYWwtdmlldy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBS0EsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakcsT0FBTyxFQUFFLFlBQVksRUFBRSwwQkFBMEIsRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQzs7QUFHckcsSUFBWSxlQUFlO0lBQ3ZCLGdFQUFnRTtJQUNoRSxPQUFPLEdBQUk7SUFDWCxLQUFLLEdBQUk7SUFDVCxRQUFRLEdBQUk7SUFDWixTQUFTLEdBQUk7SUFDYixLQUFLLEdBQUk7SUFDVCxLQUFLLEdBQUk7SUFDVCxLQUFLLEdBQUk7SUFDVCxLQUFLLEdBQUk7SUFDVCxLQUFLLElBQUs7SUFDVixHQUFHLEdBQUk7SUFDUCxLQUFLLEdBQUk7SUFDVCxJQUFJLElBQUs7SUFDVCxPQUFPLElBQUs7SUFDWixVQUFVLElBQUs7SUFDZixRQUFRLElBQUs7SUFDYixTQUFTLElBQUs7SUFDZCxnQkFBZ0IsSUFBSztJQUNyQixRQUFRLElBQUs7SUFDYixPQUFPLElBQUs7SUFDWixRQUFRLElBQUs7SUFDYixXQUFXLElBQUs7SUFDaEIsSUFBSSxJQUFLO0lBQ1QsTUFBTSxJQUFLO0VBQ2Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRDtJQXNGSSw4QkFDWSxRQUF5QixFQUN6QixHQUFnQixFQUNoQixTQUFzQixFQUN2QixNQUFpQjtRQUhoQixhQUFRLEdBQVIs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LElBQUksQ0FBQyxZQUFZLENBQUE7UUFDdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQzs7Z0JBeE5KLFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUsbUJBQW1CO29CQUM3Qiw4aUlBQTRDOztpQkFFL0M7Ozs7Z0JBbkNRLGVBQWU7Z0JBQThCLFdBQVc7Z0JBRHhELFdBQVc7Z0JBQUUsU0FBUzs7O3NDQXdDMUIsS0FBSztpQ0E2QkwsS0FBSzsyQkFHTCxLQUFLOztJQW9MViwyQkFBQztDQUFBLEFBNU5ELElBNE5DO1NBdk5ZLG9CQUFvQjs7O0lBRzdCLG1EQUNnRDs7Ozs7SUFLaEQsOENBQThCOztJQUc5QiwyQ0FBK0Q7Ozs7O0lBSy9ELDBEQUFvQzs7SUFDcEMsc0RBQWdDOztJQUVoQyw0Q0FBdUQ7Ozs7OztJQVl2RCw4Q0FDc0M7O0lBRXRDLHdDQUN1Qzs7Ozs7OztJQVV2QywrQ0FBdUM7Ozs7OztJQWF2QywrQ0FBZ0M7Ozs7O0lBQ2hDLDZDQUE4Qjs7Ozs7SUFLOUIsK0NBQXlDOzs7OztJQVd6Qyw0Q0FBNEI7O0lBQzVCLDJDQUEyQjs7Ozs7SUFLdkIsd0NBQWlDOzs7OztJQUNqQyxtQ0FBd0I7Ozs7O0lBQ3hCLHlDQUE4Qjs7SUFDOUIsc0NBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFVuaXZlcnNpZGFkIGRlIFBpbmFyIGRlbCBSw61vIFwiSGVybWFub3MgU2HDrXogTW9udGVzIGRlIE9jYVwiXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRTbmFja0JhciwgTWF0RGlhbG9nIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgTWV0YWRhdGFTZXJ2aWNlLCBNZXNzYWdlSGFuZGxlciwgU3RhdHVzQ29kZSwgRW52aXJvbm1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL3B1YmxpYy1hcGknO1xuaW1wb3J0IHsgT3JnYW5pemF0aW9uLCBWb2NhYnVsYXJpZXNJbm11dGFibGVOYW1lcywgSm91cm5hbFZlcnNpb24gfSBmcm9tICcuLi8uLi9lbnRpdGllcy9wdWJsaWMtYXBpJztcblxuXG5leHBvcnQgZW51bSBKb3VybmFsRGF0YVR5cGUge1xuICAgIC8qKiBpcyB1c2VkIGJ5IGRlZmF1bHQsIGBKb3VybmFsYCBoYXZlIG5vdCB0aGF0IHR5cGUgb2YgZGF0YS4gKi9cbiAgICBkZWZhdWx0ID0gMCxcbiAgICB0aXRsZSA9IDEsXG4gICAgc3VidGl0bGUgPSAyLFxuICAgIHNob3J0bmFtZSA9IDMsXG4gICAgaXNzblAgPSA0LFxuICAgIGlzc25FID0gNSxcbiAgICBpc3NuTCA9IDYsXG4gICAgcm5wc1AgPSA3LFxuICAgIHJucHNFID0gMjEsXG4gICAgdXJsID0gOCxcbiAgICBlbWFpbCA9IDksXG4gICAgbG9nbyA9IDEwLFxuICAgIHB1cnBvc2UgPSAxMSxcbiAgICBzdGFydF95ZWFyID0gMTIsXG4gICAgZW5kX3llYXIgPSAxMyxcbiAgICBmcmVxdWVuY3kgPSAxNCxcbiAgICBzZXJpYWRhc19jdWJhbmFzID0gMTUsXG4gICAgZmFjZWJvb2sgPSAxNixcbiAgICB0d2l0dGVyID0gMTcsXG4gICAgbGlua2VkaW4gPSAxOCxcbiAgICBkZXNjcmlwdGlvbiA9IDE5LFxuICAgIHRlcm0gPSAyMCxcbiAgICBvYWl1cmwgPSAyMixcbn1cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0b2NvLWpvdXJuYWwtdmlldycsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2pvdXJuYWwtdmlldy5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vam91cm5hbC12aWV3LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgSm91cm5hbFZpZXdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyB0b3BNYWluT3JnYW5pemF0aW9uOiBPcmdhbml6YXRpb24gPSBudWxsO1xuXG5cbiAgICAvKioqKioqKioqKioqKioqKiBhdXhpbGlhcnkgdmFyaWFibGVzICoqKioqKioqKioqKioqKioqKiovXG5cbiAgICBwdWJsaWMgcGFuZWxPcGVuU3RhdGUgPSBmYWxzZTtcblxuXG4gICAgcHVibGljIGRlZmF1bHRMb2dvID0gdGhpcy5lbnYuc2NlaWJhSG9zdCArICdzdGF0aWMvZmF2aWNvbi5pY28nXG5cbiAgICAvKipcbiAgICAgKiBCdXR0b24gcm9wZXJ0eSwgaXMgdG8gZW5hYmxlIG9yIGRpc2FibGUgaWYgdGhlcmUgYXJlIG5vdCBtb3JlIHZlcnNpb25zXG4gICAgICovXG4gICAgaXNEaXNhYmxlZE5hdmlnYXRlUHJldmlvdXM6IGJvb2xlYW47XG4gICAgaXNEaXNhYmxlZE5hdmlnYXRlTmV4dDogYm9vbGVhbjtcblxuICAgIHB1YmxpYyB2b2NhYnVsYXJpZXM6IHR5cGVvZiBWb2NhYnVsYXJpZXNJbm11dGFibGVOYW1lcztcblxuXG4gICAgLyoqKioqKioqKioqKioqKiogam91cm5hbCB2YXJpYWJsZXMgKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBKb3VybmFsIE9iamVjdCwgaXQgaXMgYSB0eXBlIG9mIFNvdXJjZS5cbiAgICAgKiBOZWVkIHRoZSBzb3VyY2UudmVyc2lvbiBhcnJheSBmaWxsZWRcbiAgICAgKi9cbiAgICAvLyBASW5wdXQoKVxuICAgIC8vIHB1YmxpYyBqb3VybmFsOiBKb3VybmFsRGF0YTtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIGVkaXRpbmdKb3VybmFsOiBKb3VybmFsVmVyc2lvbjtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIHZlcnNpb25zOiBBcnJheTxKb3VybmFsVmVyc2lvbj47XG5cblxuICAgIC8qKioqKioqKioqKioqKioqIHNlbGVjdCBqb3VybmFsIHZlcnNpb24gdmFyaWFibGVzICoqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvKipcbiAgICAgKiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIGEgSm91cm5hbCwgKGEgdHlwZSBvZiBTb3VyY2UpXG4gICAgICogaXQgaXMgdG8gY29tcGFyZSBhbmQgc2hvdyBjaGFuZ2VzIGJldHdlZW4gSm91cm5hbCBhbmQgbGFzdCB2ZXJzaW9uIG9mIGpvdXJuYWxcbiAgICAgKiBpdGVyYXRpb24gb3ZlciBqb3VybmFsLnZlcnNpb25zXG4gICAgICovXG4gICAgcHVibGljIHNlbGVjdGVkSm91cm5hbDogSm91cm5hbFZlcnNpb247XG5cblxuICAgIC8qKiBUT0RPOiBJbiB0aGUgZnV0dXJlIGRhdGFiYXNlVGVybXMgYW5kIHN1YmplY3RUZXJtcyB3aWxsIGJlIGNoYW5nZXMgYnlcbiAgICAgKiAgbWlhclRlcm1zIGFuZCBzdWJqZWN0c1VuZXNjb1Rlcm1zXG4gICAgICogIHB1YmxpYyBtaWFyVGVybXM6IEFycmF5PFNvdXJjZUNsYXNpZmljYXRpb24+O1xuICAgICAqICBwdWJsaWMgc3ViamVjdHNVbmVzY29UZXJtczogQXJyYXk8U291cmNlQ2xhc2lmaWNhdGlvbj47XG4gICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyB0byBtb3ZlIGJldHdlZW4gdmVyc2lvbnNcbiAgICAgKi9cbiAgICBwcml2YXRlIHNlbGVjdGVkVmVyc2lvbjogbnVtYmVyO1xuICAgIHByaXZhdGUgbGVuZ3RoVmVyc2lvbjogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogSW5tdXRhYmxlcyBkYXRhIHR5cGVzIG9mIEpvdXJuYWxcbiAgICAgKi9cbiAgICBwdWJsaWMgam91cm5hbERhdGFUeXBlID0gSm91cm5hbERhdGFUeXBlO1xuXG5cblxuICAgIC8qKlxuICAgICAqIHZlcnNpb24uaXNfY3VycmVudCA9IHRydWVcbiAgICAgKi9cbiAgICAvLyBwdWJsaWMgY3VycmVudEpvdXJuYWw6IEpvdXJuYWxWZXJzaW9uO1xuXG5cblxuICAgIHB1YmxpYyBzaG93VmVyc2lvbnMgPSBmYWxzZTtcbiAgICBwdWJsaWMgZWRpdFZlcnNpb24gPSBmYWxzZTtcblxuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBtZXRhZGF0YTogTWV0YWRhdGFTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGVudjogRW52aXJvbm1lbnQsXG4gICAgICAgIHByaXZhdGUgX3NuYWNrQmFyOiBNYXRTbmFja0JhcixcbiAgICAgICAgcHVibGljIGRpYWxvZzogTWF0RGlhbG9nXG4gICAgKSB7IH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZE5hdmlnYXRlUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzRGlzYWJsZWROYXZpZ2F0ZU5leHQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnZvY2FidWxhcmllcyA9IFZvY2FidWxhcmllc0lubXV0YWJsZU5hbWVzO1xuXG4gICAgICAgIC8vIGd1YXJkYXIgbGEgY2FudGlkYWQgdG90YWwgZGUgdmVyc2lvbmVzXG4gICAgICAgIHRoaXMubGVuZ3RoVmVyc2lvbiA9IHRoaXMudmVyc2lvbnMubGVuZ3RoO1xuICAgICAgICAvLyBndWFyZGFyIGxhIHBvc2ljaW9uIGRlIGxhIHZlcnNpb24gZG9uZGUgZXN0ZSBsYSBhY3R1YWxcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZlcnNpb24gPSB0aGlzLmdldFNlbGVjdGVkSm91cm5hbFBvc2l0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5TZWxlY3RKb3VybmFsVmVyc2lvbigpO1xuXG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0U3RhbmRhcmRNZXRhKFwiUmV2aXN0YSBDaWVudMOtZmljYSBcIiArIHRoaXMuZWRpdGluZ0pvdXJuYWwuZGF0YS50aXRsZSwgdGhpcy5lZGl0aW5nSm91cm5hbC5kYXRhLmRlc2NyaXB0aW9uLCBcIlwiKTtcblxuICAgICAgICAvLyBpZiAodGhpcy52ZXJzaW9ucyl7XG4gICAgICAgIC8vICAgdGhpcy52ZXJzaW9ucy5mb3JFYWNoKChqb3VybmFsVmVyc2lvbjogSm91cm5hbFZlcnNpb24sIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgLy8gICAgIC8vIGNoZWNrIGlmIGhhcyB2ZXJzaW9ucyB0byB2aWV3IGFuZCByZXR1cm4gdGhhdCBwb3NpdGlvblxuICAgICAgICAvLyAgICAgaWYgKGpvdXJuYWxWZXJzaW9uLmlzX2N1cnJlbnQpIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmN1cnJlbnRKb3VybmFsID0gbmV3IEpvdXJuYWxWZXJzaW9uKCk7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5jdXJyZW50Sm91cm5hbC5kZWVwY29weShqb3VybmFsVmVyc2lvbik7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgfSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgc2VsZWN0ZWQgcG9zaXRpb24gdG8gdGhlIG5leHQgb25lIGlmIHBvc3NpYmxlXG4gICAgICovXG4gICAgcHVibGljIG5leHRWZXJzaW9uKCk6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVmVyc2lvbiA8IHRoaXMubGVuZ3RoVmVyc2lvbiAtIDEpIHtcblxuICAgICAgICAgICAgdGhpcy5pc0Rpc2FibGVkTmF2aWdhdGVOZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzRGlzYWJsZWROYXZpZ2F0ZVByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmVyc2lvbisrO1xuICAgICAgICAgICAgdGhpcy5TZWxlY3RKb3VybmFsVmVyc2lvbigpO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNEaXNhYmxlZE5hdmlnYXRlTmV4dCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBtID0gbmV3IE1lc3NhZ2VIYW5kbGVyKHRoaXMuX3NuYWNrQmFyKTtcbiAgICAgICAgICAgIG0uc2hvd01lc3NhZ2UoU3RhdHVzQ29kZS5PSywgJ05vIGhheSBtw6FzIHZlcnNpb25lcyBwYXJhIG1vc3RyYXInKVxuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRWZXJzaW9uID09IHRoaXMubGVuZ3RoVmVyc2lvbiAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEaXNhYmxlZE5hdmlnYXRlTmV4dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBzZWxlY3RlZCBwb3NpdGlvbiB0byB0aGUgYmVmb3JlIG9uZSBpZiBwb3NzaWJsZVxuICAgICAqL1xuICAgIHB1YmxpYyBwcmV2aW91c1ZlcnNpb24oKTogdm9pZCB7XG5cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRWZXJzaW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0Rpc2FibGVkTmF2aWdhdGVQcmV2aW91cyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0Rpc2FibGVkTmF2aWdhdGVOZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmVyc2lvbi0tO1xuICAgICAgICAgICAgdGhpcy5TZWxlY3RKb3VybmFsVmVyc2lvbigpO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNEaXNhYmxlZE5hdmlnYXRlUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbSA9IG5ldyBNZXNzYWdlSGFuZGxlcih0aGlzLl9zbmFja0Jhcik7XG4gICAgICAgICAgICBtLnNob3dNZXNzYWdlKFN0YXR1c0NvZGUuT0ssICdObyBoYXkgbcOhcyB2ZXJzaW9uZXMgcGFyYSBtb3N0cmFyJylcblxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVmVyc2lvbiA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzRGlzYWJsZWROYXZpZ2F0ZVByZXZpb3VzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIHNlbGVjdGVkIGpvdXJuYWwgYXMgYSBKb3VybmFsVmVyc2lvblxuICAgICAqL1xuICAgIHB1YmxpYyBTZWxlY3RKb3VybmFsVmVyc2lvbigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbnMubGVuZ3RoID49IDAgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWZXJzaW9uID49IDAgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWZXJzaW9uIDwgdGhpcy52ZXJzaW9ucy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgLy8gbG9hZCB0aGUgc2VsZWN0ZWQgam91cm5hbFxuICAgICAgICAgICAgbGV0IHZlcnNpb24gPSBuZXcgSm91cm5hbFZlcnNpb24oKTtcbiAgICAgICAgICAgIHZlcnNpb24uZGVlcGNvcHkodGhpcy52ZXJzaW9uc1t0aGlzLnNlbGVjdGVkVmVyc2lvbl0pO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEpvdXJuYWwgPSB2ZXJzaW9uO1xuXG4gICAgICAgICAgICAvLyBsb2FkIGlmIHdhcyB2aWV3ZWRcbiAgICAgICAgICAgIC8vIHRoaXMuc2VsZWN0ZWRKb3VybmFsQ2hlY2tlZCA9IHRoaXMuc2VsZWN0ZWRKb3VybmFsLnJldmlld2VkO1xuXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSB1bnNlZW4gdmVyc2lvbiBvZiB0aGUgam91cm5hbCBhcyBKb3VybmFsVmVyc2lvblxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U2VsZWN0ZWRKb3VybmFsUG9zaXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgdGhpcy52ZXJzaW9ucy5mb3JFYWNoKChqb3VybmFsVmVyc2lvbjogSm91cm5hbFZlcnNpb24sIGluZGV4OiBudW1iZXIpID0+IHtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaGFzIHZlcnNpb25zIHRvIHZpZXcgYW5kIHJldHVybiB0aGF0IHBvc2l0aW9uXG4gICAgICAgICAgICBpZiAoam91cm5hbFZlcnNpb24ucmV2aWV3ZWQgIT0gbnVsbCAmJiBqb3VybmFsVmVyc2lvbi5yZXZpZXdlZCkge1xuICAgICAgICAgICAgICAgIGNvdW50ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cblxuICAgIHNvdXJjZUVkaXREb25lKHZlcnNpb246IEpvdXJuYWxWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuZWRpdFZlcnNpb24gPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coJ0FBYUFBQUFBQUFBQUFBQUFBQUFBQScpO1xuXG4gICAgfVxuXG4gICAgdG9vZ2xlU2hvd1ZlcnNpb25zKCl7XG4gICAgICAgIHRoaXMuc2hvd1ZlcnNpb25zID0gIXRoaXMuc2hvd1ZlcnNpb25zXG4gICAgICAgIHRoaXMuZWRpdFZlcnNpb24gPSBmYWxzZTtcbiAgICB9XG5cblxuXG59XG5cbiJdfQ==