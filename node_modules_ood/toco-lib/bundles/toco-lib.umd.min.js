!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/layout"),require("@angular/material/autocomplete"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/core"),require("@angular/material/dialog"),require("@angular/material/form-field"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/menu"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/table"),require("@angular/material"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/expansion"),require("@angular/material/datepicker"),require("@angular/material/list"),require("@angular/material/tree"),require("@angular/material/badge"),require("@angular/material/stepper"),require("@angular/material/divider"),require("@angular/common"),require("@angular/common/http"),require("@angular/forms"),require("@angular/flex-layout"),require("@ngx-translate/core"),require("angular-oauth2-oidc"),require("@angular/router"),require("rxjs"),require("@swimlane/ngx-charts"),require("@angular/platform-browser"),require("util"),require("@angular/cdk/coercion"),require("rxjs/operators"),require("@angular/cdk/tree"),require("@angular/cdk/collections"),require("@angular/material-moment-adapter"),require("moment"),require("@angular/animations"),require("@angular/cdk/stepper")):"function"==typeof define&&define.amd?define("toco-lib",["exports","@angular/core","@angular/cdk/layout","@angular/material/autocomplete","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/core","@angular/material/dialog","@angular/material/form-field","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/menu","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/select","@angular/material/sidenav","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/table","@angular/material","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/expansion","@angular/material/datepicker","@angular/material/list","@angular/material/tree","@angular/material/badge","@angular/material/stepper","@angular/material/divider","@angular/common","@angular/common/http","@angular/forms","@angular/flex-layout","@ngx-translate/core","angular-oauth2-oidc","@angular/router","rxjs","@swimlane/ngx-charts","@angular/platform-browser","util","@angular/cdk/coercion","rxjs/operators","@angular/cdk/tree","@angular/cdk/collections","@angular/material-moment-adapter","moment","@angular/animations","@angular/cdk/stepper"],e):e((t=t||self)["toco-lib"]={},t.ng.core,t.ng.cdk.layout,t.ng.material.autocomplete,t.ng.material.button,t.ng.material["button-toggle"],t.ng.material.card,t.ng.material.checkbox,t.ng.material.chips,t.ng.material.core,t.ng.material.dialog,t.ng.material["form-field"],t.ng.material["grid-list"],t.ng.material.icon,t.ng.material.input,t.ng.material.menu,t.ng.material.paginator,t.ng.material["progress-bar"],t.ng.material["progress-spinner"],t.ng.material.select,t.ng.material.sidenav,t.ng.material["slide-toggle"],t.ng.material["snack-bar"],t.ng.material.table,t.ng.material,t.ng.material.tabs,t.ng.material.toolbar,t.ng.material.tooltip,t.ng.material.expansion,t.ng.material.datepicker,t.ng.material.list,t.ng.material.tree,t.ng.material.badge,t.ng.material.stepper,t.ng.material.divider,t.ng.common,t.ng.common.http,t.ng.forms,t.ng["flex-layout"],t.core$2,t.angularOauth2Oidc,t.ng.router,t.rxjs,t.ngxCharts,t.ng.platformBrowser,t.util,t.ng.cdk.coercion,t.rxjs.operators,t.ng.cdk.tree,t.ng.cdk.collections,t.ng["material-moment-adapter"],t.moment,t.ng.animations,t.ng.cdk.stepper)}(this,(function(t,e,n,o,a,r,i,s,l,c,u,p,d,m,h,f,g,y,b,v,x,_,C,w,I,S,T,A,O,P,D,L,k,F,E,N,R,V,j,M,J,B,z,q,H,G,U,W,X,Y,$,K,Q,Z){"use strict";K=K&&K.hasOwnProperty("default")?K.default:K;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function et(t,e){function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var nt=function(){return(nt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function ot(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,a,r=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(t){a={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function rt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(at(arguments[e]));return t}var it=function(){function t(){}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),st=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"lib-toco-lib",template:"\n    <p>\n      toco-lib works!\n    </p>\n  "}]}],t.ctorParameters=function(){return[]},t}(),lt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[st],imports:[],exports:[st]}]}],t}(),ct=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.LayoutModule,a.MatButtonModule,r.MatButtonToggleModule,f.MatMenuModule,T.MatToolbarModule,A.MatTooltipModule,m.MatIconModule,i.MatCardModule,h.MatInputModule,s.MatCheckboxModule,p.MatFormFieldModule,u.MatDialogModule,d.MatGridListModule,C.MatSnackBarModule,y.MatProgressBarModule,b.MatProgressSpinnerModule,x.MatSidenavModule,S.MatTabsModule,l.MatChipsModule,w.MatTableModule,I.MatSortModule,g.MatPaginatorModule,_.MatSlideToggleModule,v.MatSelectModule,c.MatOptionModule,o.MatAutocompleteModule,O.MatExpansionModule,P.MatDatepickerModule,c.MatNativeDateModule,D.MatListModule,L.MatTreeModule,k.MatBadgeModule,F.MatStepperModule,c.MatRippleModule,E.MatDividerModule],exports:[n.LayoutModule,a.MatButtonModule,r.MatButtonToggleModule,f.MatMenuModule,T.MatToolbarModule,A.MatTooltipModule,m.MatIconModule,i.MatCardModule,h.MatInputModule,s.MatCheckboxModule,p.MatFormFieldModule,u.MatDialogModule,d.MatGridListModule,C.MatSnackBarModule,b.MatProgressSpinnerModule,y.MatProgressBarModule,x.MatSidenavModule,S.MatTabsModule,l.MatChipsModule,w.MatTableModule,I.MatSortModule,g.MatPaginatorModule,_.MatSlideToggleModule,v.MatSelectModule,c.MatOptionModule,o.MatAutocompleteModule,O.MatExpansionModule,P.MatDatepickerModule,c.MatNativeDateModule,D.MatListModule,L.MatTreeModule,k.MatBadgeModule,F.MatStepperModule,c.MatRippleModule,E.MatDividerModule]}]}],t}(),ut=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[N.CommonModule,R.HttpClientModule,V.FormsModule,j.FlexLayoutModule,ct],exports:[N.CommonModule,R.HttpClientModule,V.FormsModule,j.FlexLayoutModule,ct],schemas:[e.CUSTOM_ELEMENTS_SCHEMA]}]}],t}(),pt=function(){};var dt=function(){function t(){}return t.prototype.ngOnChanges=function(){this.doReplace()},t.prototype.ngOnInit=function(){this.body&&this.doReplace()},t.prototype.doReplace=function(){var t=this.body.replace("/public/inline-images/","/public/inline-images/");this.processed=t},t.decorators=[{type:e.Component,args:[{selector:"toco-body",template:'\n<div class="container mat-body">\n  <div class="e2e-inner-html-bound  text-align-justify" [innerHTML]="body"> </div>\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={body:[{type:e.Input}]},t}();var mt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-error404",template:"<p>\n  error404 works!\n</p>\n",styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),ht=function(){function t(){}return t.prototype.ngOnInit=function(){null==this.sites&&(this.sites=new Array),null==this.information&&(this.information=new Array)},t.decorators=[{type:e.Component,args:[{selector:"toco-footer",template:'<div class="alternate-theme-footer">\n\n    <mat-toolbar class="footer-height" fxLayout=\'row wrap\' fxLayout.mx="column" fxLayoutAlign="center center" color="primary">\n        <ng-container *ngIf="image">\n            <a href="/">\n                <img src="{{ image }}" alt="Sceiba" width="150"\n                    style="padding-top: .9em; padding-bottom: .9em;">\n            </a>\n        </ng-container>\n\n        <mat-toolbar-row \n            fxLayout=\'row wrap\'\n            fxLayout.mx="column"\n            fxLayoutAlign="center start"\n            fxLayoutGap="20px"\n        >\n            <div fxFlex="30%" fxFlex.xs="100%">\n                \n                <div fxLayout=\'column wrap\' fxLayoutAlign="center center" fxLayoutGap="1em">\n\n                    <img src="/assets/images/tocororo.png" alt="Tocororo" width="90" height="90">\n                    <span class="text-initial" style="max-width: 30em; text-align: center;">Proyecto Nacional Tocororo, un esfuerzo por la comunicación científica en Cuba. </span>\n\n                    <a mat-raised-button href="/sources/new/journal" color="warn">Inclúyete</a>\n                </div>\n            </div>\n            <div fxLayout=\'column wrap\' fxFlex="30%" fxFlex.xs="100%">\n                <span class="text-large">Sitios de Interés</span>\n                <ng-container *ngFor="let item of sites">\n                    <a mat-button\n                        class="aling-left"\n                        color="warn"\n                        *ngIf="item.useRouterLink"\n                        [routerLink]="[item.url]"\n                        [ngStyle]="{\'line-height\': \'initial\', \'padding\': \'10px 16px\'}"\n                    >\n                        {{ item.name }}\n                    </a>\n                    <a mat-button\n                        class="aling-left"\n                        color="warn"\n                        *ngIf=" ! item.useRouterLink"\n                        href="{{ item.url }}"\n                        target="_blank"\n                        [ngStyle]="{\'line-height\': \'initial\', \'padding\': \'10px 16px\'}"\n                    >\n                        {{ item.name }}\n                    </a>\n                </ng-container>\n            </div>\n            <div fxLayout=\'column wrap\' fxFlex="30%" fxFlex.xs="100%">\n                <span class="text-large">Información General</span>\n                <ng-container *ngFor="let item of information">\n                    <a mat-button\n                        class="aling-left"\n                        color="warn"\n                        [routerLink]="[item.url]"\n                        *ngIf="item.useRouterLink"\n                        [ngStyle]="{\'line-height\': \'initial\', \'padding\': \'10px 16px\'}"\n                    >\n                        {{ item.name }}\n                    </a>\n                    <a mat-button\n                        class="aling-left"\n                        color="warn"\n                        *ngIf=" ! item.useRouterLink"\n                        href="{{ item.url }}"\n                        target="_blank"\n                        [ngStyle]="{\'line-height\': \'initial\', \'padding\': \'10px 16px\'}"\n                    >\n                        {{ item.name }}\n                    </a>\n                </ng-container>\n            </div>\n        </mat-toolbar-row>\n\n        \x3c!-- <mat-toolbar-row fxLayout=\'row wrap\' fxLayout.mx="column" fxLayoutAlign="center center" fxLayoutGap="15px" style="padding-bottom: 15px;">\n            <a mat-mini-fab matTooltip="Facebook" href="https://facebook.com" color="accent"\n                style="font-size: x-large; margin-bottom: 15px !important;">\n                f\n            </a>\n            <a mat-mini-fab matTooltip="Twitter" href="https://twitter.com" color="accent" \n                style="font-size: x-large; margin-bottom: 15px !important;">\n                t\n            </a>\n        </mat-toolbar-row> --\x3e\n\n    </mat-toolbar>\n\n    <mat-toolbar fxLayout=\'column wrap\' fxLayoutAlign="center center" style="padding: 1em;">\n        <a href="https://sceiba-lab.upr.edu.cu" target="_blank" style="color: rgb(0, 0, 0, 0.87); text-decoration: none;">\n            <img src="/assets/images/sceiba-logo.png" alt="Sceiba" width="120" height="50">\n        </a>\n        <a href="https://sceiba-lab.upr.edu.cu" target="_blank" style="color: rgb(0, 0, 0, 0.87); text-decoration: none;">\n            Portal de publicaciones cientificas cubanas\n        </a>\n    </mat-toolbar>\n</div>',styles:["mat-toolbar.footer-height{height:auto!important;padding-top:20px;padding-bottom:20px}.mat-toolbar-row,.mat-toolbar-single-row{white-space:normal!important;height:auto!important}.text-small{font-size:small}.text-initial{font-size:initial;line-height:initial}.text-large{font-size:x-large}.aling-left{text-align:left;white-space:normal!important}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={sites:[{type:e.Input}],information:[{type:e.Input}],image:[{type:e.Input}]},t}();var ft=function(){function t(t,e,n,o){this.bodyTitle=t,this.meta=e,this._router=n,this.env=o}return t.prototype.setStandardMeta=function(t,e,n){void 0===n&&(n="");var o=this.env.appHost+this._router.url;n=this.env.appHost+n,this.bodyTitle.setTitle(t+" | "+this.env.appName),this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({itemprop:"name",title:t}),this.meta.updateTag({itemprop:"description",content:e}),n&&this.meta.updateTag({itemprop:"image",content:n}),this.meta.updateTag({name:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({name:"twitter:site",content:this.env.websiteUsername_Twitter}),this.meta.updateTag({name:"twitter:title",content:t}),this.meta.updateTag({name:"twitter:description",content:e}),n&&this.meta.updateTag({name:"twitter:image:src",content:n}),this.meta.updateTag({property:"og:title",content:t}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:o}),n&&this.meta.updateTag({property:"og:image",content:n}),this.meta.updateTag({property:"og:description",content:e}),this.meta.updateTag({property:"og:site_name",content:this.env.appName})},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:H.Title},{type:H.Meta},{type:B.Router},{type:pt}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(H.Title),e.ɵɵinject(H.Meta),e.ɵɵinject(B.Router),e.ɵɵinject(pt))},token:t,providedIn:"root"}),t}();var gt=function(){function t(t){this.metadata=t}return t.prototype.ngOnInit=function(){this.metadata.setStandardMeta("Inicio","","")},t.decorators=[{type:e.Component,args:[{selector:"toco-home",template:"<p>\n  home works!\n</p>\n",styles:[""]}]}],t.ctorParameters=function(){return[{type:ft}]},t}();var yt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{}]}],t}(),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e.prototype.deepcopy=function(t,n){var o,a;void 0===n&&(n=[]);var r=Object.keys(this);try{for(var i=ot(r),s=i.next();!s.done;s=i.next()){var l=s.value;t[l]&&!n.includes(l)&&(this[l]instanceof e?(console.log("RECUSIVE CALL ON EntityBase",this[l]),this[l].deepcopy(t[l],n)):this[l]=t[l])}}catch(t){o={error:t}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}},e.prototype.toBoolean=function(t){return("string"==typeof t||t instanceof String)&&(console.log("DEEPCOPY ----------  TO BOOLEAN ------------ VAL=",t),console.log("true"===t.toLowerCase()||"false"===t.toLowerCase()),"true"===t.toLowerCase()||"false"===t.toLowerCase())},e}(Object),vt=function(t){function e(){var e=t.call(this)||this;return e.id="",e.isNew=!1,e.identifiers=new Array,e}return et(e,t),e.prototype.getIdentifierValue=function(t){var e=this.identifiers.find((function(e){return e.idtype==t}));return null!=e?e.value:""},e.prototype.setIdentifierValue=function(t,e){if(""!=e){for(var n=!1,o=0;o<this.identifiers.length;o++)this.identifiers[o].idtype==t&&(this.identifiers[o].value=e,n=!0);if(!n){var a=new xt;a.idtype=t,a.value=e,this.identifiers.push(a)}}},e.prototype.entitystringify=function(){return JSON.stringify(this,(function(t,e){if("isNew"!==t&&"entityType"!==t&&null!=e&&""!=e&&null!=e&&e!=[])return e}))},e}(bt);var xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value="",e}return et(e,t),e}(bt);var _t={ark:"ark",arxiv:"arxiv",doi:"doi",bibcode:"bibcode",ean8:"ean8",ean13:"ean13",handle:"handle",isbn:"isbn",issn_p:"issn_p",issn_l:"issn_l",issn_e:"issn_e",issn_c:"issn_c",issn_o:"issn_o",istc:"istc",lsid:"lsid",pmid:"pmid",pmcid:"pmcid",purl:"purl",upc:"upc",url:"url",urn:"urn",orcid:"orcid",gnd:"gnd",ads:"ads",oai:"oai",prnps:"prnps",ernps:"ernps",oaiurl:"oaiurl",grid:"grid",wkdata:"wkdata",ror:"ror",isni:"isni",fudref:"fudref",orgref:"orgref",reup:"reup"},Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.self="",e.next="",e.prev="",e}return et(e,t),e}(bt);var wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doc_count=0,e.key="",e}return et(e,t),e}(bt);var It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.order=0,e.title="",e}return et(e,t),e}(bt);var St=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buckets=new Array,e.meta=new It,e.doc_count_error_upper_bound=0,e.sum_other_doc_count=0,e}return et(e,t),e}(bt);var Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.created="",e.updated="",e.links=new Ct,e.revision=0,e}return et(e,t),e}(bt);var At=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hits=new Array,e}return et(e,t),e}(bt);var Ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggregations={},e.hits=new At,e.links=new Ct,e}return et(e,t),e}(bt);var Pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inputContent=void 0,e}return et(e,t),e}(bt);var Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(bt);var Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(bt);var kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(bt);var Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(bt);var Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var Vt={name:"",identifiers:[{idtype:"",value:""}]},jt={id:"",name:"",mainInst:Vt,url:"",url_oai:""},Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var Jt=function(){};var Bt={PARENT:{label:"Padre",value:"parent"},CHILD:{label:"Hija",value:"child"},RELATED:{label:"Relacionada",value:"related"}},zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label="",e.iso639="",e}return et(e,t),e}(bt);var qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idtype="",e.value="",e}return et(e,t),e}(bt);var Ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.identifiers=new Array,e.type="",e.label="",e}return et(e,t),e}(vt);var Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.name="",e.ascii_name="",e}return et(e,t),e}(bt);var Ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=0,e.city="",e.geonames_admin1=void 0,e.geonames_admin2=void 0,e.nuts_level1=void 0,e.nuts_level2=void 0,e.nuts_level3=void 0,e}return et(e,t),e}(bt);var Wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.city="",e.country="",e.country_code="",e.lat=0,e.lng=0,e.line_1="",e.line_2="",e.line_3="",e.postcode="",e.primary=!1,e.state="",e.state_code="",e.municipality="",e.municipality_dpa="",e.geonames_city=void 0,e}return et(e,t),e}(bt);var Xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.description="",e.type="",e.enum=new Array,e}return et(e,t),e}(bt);var Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idtype=void 0,e.value=void 0,e}return et(e,t),e}(bt);var $t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="",e.additionalProperties=!1,e.properties=void 0,e}return et(e,t),e}(bt);var Kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.identifiers=new Array,e.name="",e.status="",e.aliases=new Array,e.acronyms=new Array,e.types=new Array,e.wikipedia_url="",e.email_address="",e.ip_addresses=new Array,e.established=-1,e.onei_registry=-1,e.exportable=!1,e.links=new Array,e.labels=new Array,e.relationships=new Array,e.addresses=new Array,e.redirect=void 0,e}return et(e,t),e}(vt);var Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var Zt=function(){this.id="",this.name="",this.description=""};var te=function(){this.id="",this.email="",this.confirmed_at="",this.last_login_at="",this.roles=new Array};var ee=function(){this.source_uuid="",this.role=""};var ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biography="",e.email="",e.full_name="",e.id="",e.institution="",e.institution_id=-1,e.institution_rol="",e.username="",e.avatar="",e.sources=new Array,e.user=new te,e}return et(e,t),e.prototype.identify=function(){return this.full_name+"<"+this.user.email+">"},e}(vt);var oe={OJS:{label:"Open Journal System",value:"OJS"},CMS:{label:"Content Management System (Wordpress, Joomla, Drupal, etc)",value:"CMS"},DSPACE:{label:"Dspace",value:"DSPACE"},OTHER:{label:"Otro",value:"OTHER"}},ae={JOURNAL:{label:"Revista Científica",value:"JOURNAL"},SERIAL:{label:"Publicación Seriada",value:"SERIAL"},STUDENT:{label:"Revista Científico Estudiantil",value:"STUDENT"},POPULARIZATION:{label:"Revista de Divulgación",value:"POPULARIZATION"},REPOSITORY:{label:"Repositorio Institucional",value:"REPOSITORY"},WEBSITE:{label:"Sitio Web",value:"WEBSITE"},OTHER:{label:"Otro",value:"OTHER"}},re={MAIN:{label:"Principal",value:"MAIN"},COLABORATOR:{label:"Colaborador",value:"COLABORATOR"}},ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.role="",e}return et(e,t),e}(Kt);var se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.description="",e.vocabulary="",e.data=new Object,e}return et(e,t),e}(bt);var le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.user_id="",e.comment="",e}return et(e,t),e}(bt);var ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e.title="",e.description="",e.oaiurl="",e.source_system="",e.source_type="",e.source_status="",e.organizations=new Array,e.classifications=new Array,e._save_info=new le,e.reviewed=!1,e}return et(e,t),e}(vt);var ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.user_id="",e.source_uuid="",e.comment="",e.created_at=new Date,e.is_current=!1,e.reviewed=!1,e.data=new ce,e.userprofile=new ne,e}return et(e,t),e}(vt);var pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uuid="",e.name="",e.clasifications=new Array(0),e.organizations=new Array,e.aliases=new Array,e.source_type="",e.source_status="",e.version_to_review=!1,e.versions=new Array,e.data=new ce,e}return et(e,t),e}(vt);var de=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.facebook="",e.twitter="",e.linkedin="",e}return et(e,t),e}(bt);var me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(bt);var he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.p="",e.e="",e.l="",e.issn_org=new me,e}return et(e,t),e}(bt);var fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.p="",e.e="",e}return et(e,t),e}(bt);var ge=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subtitle="",e.shortname="",e.issn=new he,e.rnps=new fe,e.url="",e.email="",e.logo="",e.purpose="",e.start_year="",e.end_year="",e.frequency="",e.seriadas_cubanas="",e.socialNetworks=new de,e}return et(e,t),e}(ce);var ye=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=new ge,e.versions=new Array,e}return et(e,t),e}(pe);var be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=new ge,e}return et(e,t),e}(ue);var ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.identifiers=new Array,e.source_repo=new pe,e.spec=new Object,e.title="",e.creators=new Array,e.keywords=new Array,e.description="",e.publisher="",e.sources=new Array,e.rights=new Array,e.types=new Array,e.formats=new Array,e.language="",e.publication_date="",e.contributors=new Array,e.references=new Object,e.iroko_terms=new Array,e.status="",e}return et(e,t),e}(bt);var xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var _e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e}(vt);var we={CUBAN_INTITUTIONS:"CUBAN_INTITUTIONS",SUBJECTS:"SUBJECTS",CUBAN_PROVINCES:"CUBAN_PROVINCES",LICENCES:"LICENCES",INDEXES_CLASIFICATION:"INDEXES_CLASIFICATION",INDEXES:"INDEXES",UNESCO_VOCAB:"UNESCO_VOCAB",RECOD_SETS:"RECOD_SETS",RECORD_TYPES:"RECORD_TYPES",EXTRA_INSTITUTIONS:"EXTRA_INSTITUTIONS",SUBJECT_COVER:"SUBJECT_COVER",COUNTRIES:"COUNTRIES"},Ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uuid="",e.identifier="",e.description="",e.data=new bt,e.vocabulary_id="",e.parent_id="",e.clasified_ids=[],e.class_ids=[],e}return et(e,t),e}(vt);var Se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid="",e.email="",e.website="",e.address="",e}return et(e,t),e}(bt);var Te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="",e.abrev="",e.initial_cover="",e.end_cover="",e}return et(e,t),e}(bt);var Ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e.description="",e.human_name="",e.identifier="",e}return et(e,t),e}(vt);var Oe=function(){function t(){this.is_avatar_card=!1,this.is_title_card=!1,this.is_subtitle_card=!1,this.is_content_card=!1,this.is_img_card=!1,this.is_actions_card=!1}return t.prototype.ngOnInit=function(){void 0!==this.avatar_card&&(this.is_avatar_card=!0)," "!=this.content_card&&(this.is_content_card=!0)," "!=this.title_card&&(this.is_title_card=!0)," "!=this.subtitle_card&&(this.is_subtitle_card=!0),void 0!==this.img_card&&(this.is_img_card=!0)},t.decorators=[{type:e.Component,args:[{selector:"toco-info-card",template:'<mat-card>\n  <img mat-card-image src={{img_card}} *ngIf="is_img_card">\n  <mat-card-header>\n\n      <img mat-card-avatar src={{avatar_card}} *ngIf="is_avatar_card" >\n\n\n      <mat-card-title *ngIf="is_title_card">\n        <strong>\n          {{title_card}}\n        </strong>\n      </mat-card-title>\n\n    <mat-card-subtitle *ngIf="is_subtitle_card">\n      {{subtitle_card}}\n    </mat-card-subtitle>\n  </mat-card-header>\n\n\n\n  <mat-card-content *ngIf="is_content_card">\n     <div class="e2e-inner-html-bound  text-align-justify" [innerHTML]="content_card"></div>\n    \n  </mat-card-content>\n\n  <mat-card-actions *ngIf="is_actions_card">\n    <a mat-button color="primary"   routerLink="{{router}}/{{entity.id}}">VER MÁS</a>\n    \x3c!--(click)="show_people()"--\x3e\n  </mat-card-actions>\n\n</mat-card>',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={avatar_card:[{type:e.Input}],title_card:[{type:e.Input}],subtitle_card:[{type:e.Input}],content_card:[{type:e.Input}],img_card:[{type:e.Input}],router:[{type:e.Input}],entity:[{type:e.Input}],is_actions_card:[{type:e.Input}]},t}();var Pe=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-card",template:"<p>\n  journal-card works!\n</p>\n",styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),De=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-nav",template:'<header>\n\n  <nav>\n      \n    <div class="nav-heder shadows-for-head always-on-top nav-menu-items w-100" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-around">\n\n      \x3c!-- <div class="nav-menu-items" > --\x3e\n        <button mat-flat-button color="primary" *ngFor="let item of menuItems" [routerLink]="[item.link]" routerLinkActive="active">\n          {{item.label}}\n        </button>\n        \n      \x3c!-- </div> --\x3e\n\n\n      \x3c!-- <div class="nav-tools">\n          <div class="input-style-for-search">\n             <mat-icon style="margin-left: -45px;z-index: 1;">pageview</mat-icon> \n          </div>\n          <input type="search" coloaria-label="Buscar" placeholder="Buscar" class="input-style">\n\n        <span class="spacer"></span>\n        <div>\n          <button mat-icon-button [matMenuTriggerFor]="menu" matTooltip="Edel Abreu Hernández" matTooltipPosition="left">\n            <mat-icon matPrefix>person_pin</mat-icon>\n            pin\n          </button>\n          <mat-menu #menu="matMenu">\n            <button mat-menu-item routerLink="/people/show">\n              <mat-icon>person</mat-icon>\n              <span>Mi Perfil</span>\n            </button>\n            <button mat-menu-item>\n              <mat-icon>lock_open</mat-icon>\n              <span>Salir</span>\n            </button>\n          </mat-menu>\n        </div>\n\n      </div> --\x3e\n\n    </div>\n  </nav>\n</header>',styles:[".menu-items{display:flex;display:-webkit-box;list-style:none;flex-direction:row;justify-content:flex-start}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={menuItems:[{type:e.Input}]},t}();var Le=function(){function t(){this.info=[],this.is_show_icon=!1}return t.prototype.ngOnInit=function(){},t.prototype.function=function(){this.drawer.toggle()},t.prototype.change_icon_show=function(){this.is_show_icon=!1,console.log(this.is_show_icon)},t.decorators=[{type:e.Component,args:[{selector:"toco-page-header",template:'<mat-toolbar color="primary">\n\n  <mat-toolbar-row *ngFor="let item of info; index as i" >\n    \x3c!--\n      la condicion especifica q-> si quiero mostrar el icono y es la primera iteracion entonces se muestra\n      esto evita que se repita el icono por cada row del componente\n    --\x3e\n    <div *ngIf="is_show_icon && i ==0; then block"></div>\n    \x3c!--\n      en la sintaxis del "if" donde dice "then block" quiere decir q cuando se pumpla la condicion ira a ese blocque\n       q esta en otra etiqueta y q se tiene q llamar "<ng-template #block >"\n    --\x3e\n    <ng-template #block >\n      <mat-icon class="icon-position change-cursor" (click)="function()">menu</mat-icon>\n    </ng-template>\n\n    <h1><strong>{{item}}</strong></h1>\n\n  </mat-toolbar-row>\n\n</mat-toolbar>',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={drawer:[{type:e.Input}],info:[{type:e.Input}]},t}();var ke=function(){function t(){this.routerLink=void 0,this.imgSource=void 0}return t.prototype.ngOnInit=function(){null==this.routerLink&&(this.routerLink=["/"])},t.decorators=[{type:e.Component,args:[{selector:"toco-page-not-found",template:'\n<h1 class="mat-display-1 toco-pnf-h1-apology-text">{{ \'TOCO_NG_PAGINA_NO_ENCONT_DISCULPA\' | translate }}</h1>\n<a class="toco-pnf-a-redirect" [routerLink]="routerLink">\n    <h2 class="mat-h2 toco-pnf-h2-redirect-text">{{ \'TOCO_NG_PAGINA_NO_ENCONT_REDIRECCION\' | translate }}</h2>\n    <img class="toco-pnf-img-redirect"\n        [src]="imgSource"\n        [alt]="\'TOCO_NG_PAGINA_NO_ENCONT_IMG_ALT_TEXT\' | translate"\n        style="height: 50px;"\n    />\n</a>\n',styles:[":host{display:block;margin:2em;text-align:center}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={routerLink:[{type:e.Input}],imgSource:[{type:e.Input}]},t}();var Fe=[{path:"home",component:gt,data:{title:"Inicio"}}],Ee=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[B.RouterModule.forChild(Fe)],exports:[B.RouterModule]}]}],t}();var Ne=function(){function t(){this.removeChart_PosFlag=-1,this.withoutProductText="¡No hay ningún producto!",this._isChartVertical=!0,this.tabLabel_CW="Trabajos Actuales",this.tabLabel_FW="Trabajos Futuros o Pendientes",this._selectedTabPos=0,this.chartTitle_P="Lista de productos",this._isUsingTrick_RepaintChart=!1,this._products=this._currentProducts=[],this._futureProducts=[],this._products_Internal=this._currentProducts_Internal=[],this._futureProducts_Internal=[],this._featuresTotal_Internal=this._currentFeaturesTotal_Internal=[],this._futureFeaturesTotal_Internal=[],this._features_Internal=this._currentFeatures_Internal=[],this._futureFeatures_Internal=[],this._activeEntries_P_CW=[],this._activeEntries_P_FW=[],this.view=[900,350],this.colorScheme_CW={domain:["#6EE9B5","#E96E70"]},this.colorScheme_FW={domain:["#6F6EE9","#6EBBE9"]},this.gradient=!1,this.barPadding=12,this.showXAxis=!0,this.showXAxisLabel=!0,this.xAxisLabel_P="Producto",this.maxAxisTickLength=16,this.showYAxis=!0,this.showYAxisLabel=!0,this.yAxisLabel_P="Realizado / Pendiente En Por Ciento",this.showLegend=!0,this.legendTitle="Leyenda",this.legendPosition="right",this._selectedProductPos=this._selectedProductPos_CW=this._selectedProductPos_FW=this.removeChart_PosFlag,this._chartTitle_F=this._chartTitle_F_CW=this._chartTitle_F_FW="Lista de características del producto seleccionado",this.xAxisLabel_F="Característica",this.yAxisLabel_F="Realizado / Pendiente En Por Ciento"}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"isChartVertical",{get:function(){return this._isChartVertical},set:function(t){if(this._isChartVertical!=t){var e=this.xAxisLabel_P;this.xAxisLabel_P=this.yAxisLabel_P,this.yAxisLabel_P=e,e=this.xAxisLabel_F,this.xAxisLabel_F=this.yAxisLabel_F,this.yAxisLabel_F=e,this._isChartVertical=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridHeight",{get:function(){return this._gridHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentProducts",{get:function(){return this._currentProducts},set:function(t){this._currentProducts=t||[],this._isUsingTrick_RepaintChart?(this._isUsingTrick_RepaintChart=!1,this._currentProducts_Internal=this._currentProducts_Internal.map((function(t){return t})),this._currentFeaturesTotal_Internal=this._currentFeaturesTotal_Internal.map((function(t){return t.map((function(t){return t}))}))):(this._currentProducts_Internal=[],this._currentFeaturesTotal_Internal=[],this._createsInternalArrays(this._currentProducts,this._currentProducts_Internal,this._currentFeaturesTotal_Internal)),this._currentFeatures_Internal=[],this._selectedProductPos_CW!=this.removeChart_PosFlag&&(this._selectedProductPos_CW<this._currentProducts.length?(this._currentFeatures_Internal=this._currentFeaturesTotal_Internal[this._selectedProductPos_CW],this._set_activeEntries_P_CW(!1),this._chartTitle_F_CW=this._chartTitle_F+(0==this._chartTitle_F.length?"":" ")+"“"+this._currentProducts_Internal[this._selectedProductPos_CW].name+"”"):(this._selectedProductPos_CW=this.removeChart_PosFlag,this._set_activeEntries_P_CW(!0),this._chartTitle_F_CW=this._chartTitle_F)),0==this._selectedTabPos&&this._setData_CW()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentProducts_Internal",{get:function(){return this._currentProducts_Internal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentFeatures_Internal",{get:function(){return this._currentFeatures_Internal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureProducts",{get:function(){return this._futureProducts},set:function(t){this._futureProducts=t||[],this._isUsingTrick_RepaintChart?(this._isUsingTrick_RepaintChart=!1,this._futureProducts_Internal=this._futureProducts_Internal.map((function(t){return t})),this._futureFeaturesTotal_Internal=this._futureFeaturesTotal_Internal.map((function(t){return t.map((function(t){return t}))}))):(this._futureProducts_Internal=[],this._futureFeaturesTotal_Internal=[],this._createsInternalArrays(this._futureProducts,this._futureProducts_Internal,this._futureFeaturesTotal_Internal)),this._futureFeatures_Internal=[],this._selectedProductPos_FW!=this.removeChart_PosFlag&&(this._selectedProductPos_FW<this._futureProducts.length?(this._futureFeatures_Internal=this._futureFeaturesTotal_Internal[this._selectedProductPos_FW],this._set_activeEntries_P_FW(!1),this._chartTitle_F_FW=this._chartTitle_F+(0==this._chartTitle_F.length?"":" ")+"“"+this._futureProducts_Internal[this._selectedProductPos_FW].name+"”"):(this._selectedProductPos_FW=this.removeChart_PosFlag,this._set_activeEntries_P_FW(!0),this._chartTitle_F_FW=this._chartTitle_F)),1==this._selectedTabPos&&this._setData_FW()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureProducts_Internal",{get:function(){return this._futureProducts_Internal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureFeatures_Internal",{get:function(){return this._futureFeatures_Internal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEntries_P_CW",{get:function(){return this._activeEntries_P_CW},enumerable:!0,configurable:!0}),t.prototype._set_activeEntries_P_CW=function(t){if(t)this._activeEntries_P_CW=[];else{var e=this._currentProducts_Internal[this._selectedProductPos_CW];this._activeEntries_P_CW=[{name:e.series[0].name,value:e.series[0].value,label:e.series[0].name,series:e.name},{name:e.series[1].name,value:e.series[1].value,label:e.series[1].name,series:e.name}]}},Object.defineProperty(t.prototype,"activeEntries_P_FW",{get:function(){return this._activeEntries_P_FW},enumerable:!0,configurable:!0}),t.prototype._set_activeEntries_P_FW=function(t){if(t)this._activeEntries_P_FW=[];else{var e=this._futureProducts_Internal[this._selectedProductPos_FW];this._activeEntries_P_FW=[{name:e.series[0].name,value:e.series[0].value,label:e.series[0].name,series:e.name},{name:e.series[1].name,value:e.series[1].value,label:e.series[1].name,series:e.name}]}},Object.defineProperty(t.prototype,"legendPosition",{get:function(){return this._legendPosition},set:function(t){"below"==(this._legendPosition=t)?this._gridHeight=this.view[1]+60:this._gridHeight=this.view[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLegendRight",{get:function(){return"right"==this.legendPosition},set:function(t){this.legendPosition=t?"right":"below"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedProductPos_CW",{get:function(){return this._selectedProductPos_CW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedProductPos_FW",{get:function(){return this._selectedProductPos_FW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartTitle_F",{get:function(){return this._chartTitle_F},set:function(t){this._chartTitle_F=t||"Lista de características del producto seleccionado",this._chartTitle_F_CW=this._selectedProductPos_CW==this.removeChart_PosFlag?this._chartTitle_F:this._chartTitle_F+(0==this._chartTitle_F.length?"":" ")+"“"+this._currentProducts_Internal[this._selectedProductPos_CW].name+"”",this._chartTitle_F_FW=this._selectedProductPos_FW==this.removeChart_PosFlag?this._chartTitle_F:this._chartTitle_F+(0==this._chartTitle_F.length?"":" ")+"“"+this._futureProducts_Internal[this._selectedProductPos_FW].name+"”"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartTitle_F_CW",{get:function(){return this._chartTitle_F_CW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartTitle_F_FW",{get:function(){return this._chartTitle_F_FW},enumerable:!0,configurable:!0}),t.prototype.onSelectTab=function(t){this._isUsingTrick_RepaintChart=!0,0==(this._selectedTabPos=t)?this.currentProducts=this.currentProducts.map((function(t){return t})):this.futureProducts=this.futureProducts.map((function(t){return t}))},t.prototype.onSelect=function(t){if(G.isObject(t)){var e=void 0,n=this._products_Internal.length,o=t.series;for(e=0;e<n&&this._products_Internal[e].name!=o;e++);this._updateProductPos(e)}},t.prototype.onActivate=function(t){},t.prototype.onDeactivate=function(t){this._isFeaturesChartShowed&&(0==this._selectedTabPos?this._activeEntries_P_CW=this._activeEntries_P_CW.map((function(t){return t})):this._activeEntries_P_FW=this._activeEntries_P_FW.map((function(t){return t})))},t.prototype._setData_CW=function(){this._products=this._currentProducts,this._products_Internal=this._currentProducts_Internal,this._featuresTotal_Internal=this._currentFeaturesTotal_Internal,this._features_Internal=this._currentFeatures_Internal,this._selectedProductPos=this._selectedProductPos_CW},t.prototype._setData_FW=function(){this._products=this._futureProducts,this._products_Internal=this._futureProducts_Internal,this._featuresTotal_Internal=this._futureFeaturesTotal_Internal,this._features_Internal=this._futureFeatures_Internal,this._selectedProductPos=this._selectedProductPos_FW},Object.defineProperty(t.prototype,"_isFeaturesChartShowed",{get:function(){return this._selectedProductPos!=this.removeChart_PosFlag},enumerable:!0,configurable:!0}),t.prototype._updateProductPos=function(t){t==this._selectedProductPos?0==this._selectedTabPos?(this._selectedProductPos=this._selectedProductPos_CW=this.removeChart_PosFlag,this._features_Internal=this._currentFeatures_Internal=[],this._set_activeEntries_P_CW(!0),this._chartTitle_F_CW=this._chartTitle_F):(this._selectedProductPos=this._selectedProductPos_FW=this.removeChart_PosFlag,this._features_Internal=this._futureFeatures_Internal=[],this._set_activeEntries_P_FW(!0),this._chartTitle_F_FW=this._chartTitle_F):0==this._selectedTabPos?(this._selectedProductPos=this._selectedProductPos_CW=t,this._features_Internal=this._currentFeatures_Internal=this._featuresTotal_Internal[t],this._set_activeEntries_P_CW(!1),this._chartTitle_F_CW=this._chartTitle_F+(0==this._chartTitle_F.length?"":" ")+"“"+this._products_Internal[t].name+"”"):(this._selectedProductPos=this._selectedProductPos_FW=t,this._features_Internal=this._futureFeatures_Internal=this._featuresTotal_Internal[t],this._set_activeEntries_P_FW(!1),this._chartTitle_F_FW=this._chartTitle_F+(0==this._chartTitle_F.length?"":" ")+"“"+this._products_Internal[t].name+"”")},t.prototype._createsInternalArrays=function(t,e,n){var o,a,r,i,s,l,c,u,p,d=t.length;for(o=0;o<d;o++){for(i=[],u=100*(r=(s=t[o].features)?s.length:0),p=0,a=0;a<r;a++)p+=l=s[a].achieved,i.push({name:s[a].name,series:[{name:"realizado",value:l},{name:"pendiente",value:100-l}]});c=100*p/u,e.push({name:t[o].name,series:[{name:"realizado",value:c},{name:"pendiente",value:100-c}]}),n.push(i)}},t.prototype.click_RemoveChart=function(){this._updateProductPos(this._selectedProductPos)},t.decorators=[{type:e.Component,args:[{selector:"toco-road-map",template:'\n<ng-container *ngIf="currentProducts_Internal.length; then thenTemplate_Products; else elseTemplate_WithoutProducts"></ng-container>\n\n<ng-template #thenTemplate_Products>\n\n    <mat-checkbox [(ngModel)]="isChartVertical" [color]="\'primary\'" [matTooltip]="\'Visualizar el gráfico vertical / horizontal\'" [matTooltipPosition]="\'left\'">Gráfico vertical</mat-checkbox>\n    <mat-checkbox class="checkbox-not-first" [(ngModel)]="isLegendRight" [color]="\'primary\'" [matTooltip]="\'Visualizar la leyenda a la derecha / abajo\'" [matTooltipPosition]="\'right\'">Leyenda a la derecha</mat-checkbox>\n\n    <mat-divider class="mat-divider-chart"></mat-divider>\n\n    <mat-tab-group mat-align-tabs="center" [animationDuration]="\'1500ms\'" (selectedIndexChange)="onSelectTab($event)">\n        <mat-tab [label]="tabLabel_CW">\n\n            \x3c!----------------------------------------------------------------------------\x3e\n            \x3c!-- Displays the current products list. --\x3e\n            \x3c!----------------------------------------------------------------------------\x3e\n\n            <h3>{{ chartTitle_P }}</h3>\n\n            <mat-grid-list [cols]="\'1\'" [rowHeight]="gridHeight">\n                <mat-grid-tile>\n                    <ng-container *ngIf="isChartVertical; then thenTempl_Ver_NormBarChart_CurProducts; else elseTempl_Hor_NormBarChart_CurProducts"></ng-container>\n                    <button mat-icon-button\n                        class="button-close-product"\n                        color="primary"\n                        [attr.aria-label]="\'Cerrar el chart\'"\n                        [matTooltip]="\'Cerrar el chart\'"        \n                        [matTooltipPosition]="\'above\'"\n                    >\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </mat-grid-tile>\n            </mat-grid-list>\n\n            <ng-template #thenTempl_Ver_NormBarChart_CurProducts>\n                <ngx-charts-bar-vertical-normalized style="display: inline-block"\n                    [results]="currentProducts_Internal"\n                    [activeEntries]="activeEntries_P_CW"\n                    [view]="view"\n                    [scheme]="colorScheme_CW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_P"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_P"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n\n                    (select)="onSelect($event)"\n                    (activate)="onActivate($event)"\n                    (deactivate)="onDeactivate($event)"\n                >\n                </ngx-charts-bar-vertical-normalized>\n            </ng-template>\n\n            <ng-template #elseTempl_Hor_NormBarChart_CurProducts>\n                <ngx-charts-bar-horizontal-normalized style="display: inline-block"\n                    [results]="currentProducts_Internal"\n                    [activeEntries]="activeEntries_P_CW"\n                    [view]="view"\n                    [scheme]="colorScheme_CW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_P"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_P"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n\n                    (select)="onSelect($event)"\n                    (activate)="onActivate($event)"\n                    (deactivate)="onDeactivate($event)"\n                >\n                </ngx-charts-bar-horizontal-normalized>\n            </ng-template>\n\n\n            \x3c!----------------------------------------------------------------------------\x3e\n            \x3c!-- Displays the current features list of a selected product. --\x3e\n            \x3c!----------------------------------------------------------------------------\x3e\n\n            <ng-container *ngIf="selectedProductPos_CW != removeChart_PosFlag">\n\n                <mat-divider class="mat-divider-chart"></mat-divider>\n\n                <h3>{{ chartTitle_F_CW }}</h3>\n\n                <mat-grid-list [cols]="\'1\'" [rowHeight]="gridHeight">\n                    <mat-grid-tile>\n                        <ng-container *ngIf="isChartVertical; then thenTempl_Ver_NormBarChart_CurFeatures; else elseTempl_Hor_NormBarChart_CurFeatures"></ng-container>\n                        <button mat-icon-button\n                            class="button-close-feature"\n                            color="primary"\n                            [attr.aria-label]="\'Cerrar el chart\'"\n                            [matTooltip]="\'Cerrar el chart\'"        \n                            [matTooltipPosition]="\'above\'"\n                            (click)="click_RemoveChart()"\n                        >\n                            <mat-icon>close</mat-icon>\n                        </button>\n                    </mat-grid-tile>\n                </mat-grid-list>\n\n            </ng-container>\n\n            <ng-template #thenTempl_Ver_NormBarChart_CurFeatures>\n                <ngx-charts-bar-vertical-normalized style="display: inline-block"\n                    [results]="currentFeatures_Internal"\n                    [view]="view"\n                    [scheme]="colorScheme_CW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_F"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_F"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n                >\n                </ngx-charts-bar-vertical-normalized>\n            </ng-template>\n\n            <ng-template #elseTempl_Hor_NormBarChart_CurFeatures>\n                <ngx-charts-bar-horizontal-normalized style="display: inline-block"\n                    [results]="currentFeatures_Internal"\n                    [view]="view"\n                    [scheme]="colorScheme_CW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_F"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_F"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n                >\n                </ngx-charts-bar-horizontal-normalized>\n            </ng-template>\n\n            <mat-divider class="mat-divider-chart"></mat-divider>\n\n        </mat-tab>\n\n        <mat-tab [label]="tabLabel_FW">\n\n            \x3c!----------------------------------------------------------------------------\x3e\n            \x3c!-- Displays the future products list. --\x3e\n            \x3c!----------------------------------------------------------------------------\x3e\n\n            <h3>{{ chartTitle_P }}</h3>\n\n            <mat-grid-list [cols]="\'1\'" [rowHeight]="gridHeight">\n                <mat-grid-tile>\n                    <ng-container *ngIf="isChartVertical; then thenTempl_Ver_NormBarChart_FutProducts; else elseTempl_Hor_NormBarChart_FutProducts"></ng-container>\n                    <button mat-icon-button\n                        class="button-close-product"\n                        color="primary"\n                        [attr.aria-label]="\'Cerrar el chart\'"\n                        [matTooltip]="\'Cerrar el chart\'"        \n                        [matTooltipPosition]="\'above\'"\n                    >\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </mat-grid-tile>\n            </mat-grid-list>\n\n            <ng-template #thenTempl_Ver_NormBarChart_FutProducts>\n                <ngx-charts-bar-vertical-normalized style="display: inline-block"\n                    [results]="futureProducts_Internal"\n                    [activeEntries]="activeEntries_P_FW"\n                    [view]="view"\n                    [scheme]="colorScheme_FW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_P"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_P"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n\n                    (select)="onSelect($event)"\n                    (activate)="onActivate($event)"\n                    (deactivate)="onDeactivate($event)"\n                >\n                </ngx-charts-bar-vertical-normalized>\n            </ng-template>\n\n            <ng-template #elseTempl_Hor_NormBarChart_FutProducts>\n                <ngx-charts-bar-horizontal-normalized style="display: inline-block"\n                    [results]="futureProducts_Internal"\n                    [activeEntries]="activeEntries_P_FW"\n                    [view]="view"\n                    [scheme]="colorScheme_FW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_P"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_P"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n\n                    (select)="onSelect($event)"\n                    (activate)="onActivate($event)"\n                    (deactivate)="onDeactivate($event)"\n                >\n                </ngx-charts-bar-horizontal-normalized>\n            </ng-template>\n\n\n            \x3c!----------------------------------------------------------------------------\x3e\n            \x3c!-- Displays the future features list of a selected product. --\x3e\n            \x3c!----------------------------------------------------------------------------\x3e\n\n            <ng-container *ngIf="selectedProductPos_FW != removeChart_PosFlag">\n\n                <mat-divider class="mat-divider-chart"></mat-divider>\n\n                <h3>{{ chartTitle_F_FW }}</h3>\n\n                <mat-grid-list [cols]="\'1\'" [rowHeight]="gridHeight">\n                    <mat-grid-tile>\n                        <ng-container *ngIf="isChartVertical; then thenTempl_Ver_NormBarChart_FutFeatures; else elseTempl_Hor_NormBarChart_FutFeatures"></ng-container>\n                        <button mat-icon-button\n                            class="button-close-feature"\n                            color="primary"\n                            [attr.aria-label]="\'Cerrar el chart\'"\n                            [matTooltip]="\'Cerrar el chart\'"        \n                            [matTooltipPosition]="\'above\'"\n                            (click)="click_RemoveChart()"\n                        >\n                            <mat-icon>close</mat-icon>\n                        </button>\n                    </mat-grid-tile>\n                </mat-grid-list>\n\n            </ng-container>\n\n            <ng-template #thenTempl_Ver_NormBarChart_FutFeatures>\n                <ngx-charts-bar-vertical-normalized style="display: inline-block"\n                    [results]="futureFeatures_Internal"\n                    [view]="view"\n                    [scheme]="colorScheme_FW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_F"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_F"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n                >\n                </ngx-charts-bar-vertical-normalized>\n            </ng-template>\n\n            <ng-template #elseTempl_Hor_NormBarChart_FutFeatures>\n                <ngx-charts-bar-horizontal-normalized style="display: inline-block"\n                    [results]="futureFeatures_Internal"\n                    [view]="view"\n                    [scheme]="colorScheme_FW"\n                    [gradient]="gradient"\n                    [barPadding]="barPadding"\n\n                    [xAxis]="showXAxis"\n                    [showXAxisLabel]="showXAxisLabel"\n                    [xAxisLabel]="xAxisLabel_F"\n                    [maxXAxisTickLength]="maxAxisTickLength"\n\n                    [yAxis]="showYAxis"\n                    [showYAxisLabel]="showYAxisLabel"\n                    [yAxisLabel]="yAxisLabel_F"\n                    [maxYAxisTickLength]="maxAxisTickLength"\n\n                    [legend]="showLegend"\n                    [legendTitle]="legendTitle"\n                    [legendPosition]="legendPosition"\n                >\n                </ngx-charts-bar-horizontal-normalized>\n            </ng-template>\n\n            <mat-divider class="mat-divider-chart"></mat-divider>\n\n        </mat-tab>\n    </mat-tab-group>\n\n    <br />\n\n</ng-template>\n\n\n<ng-template #elseTemplate_WithoutProducts>\n\n    <div class="without-product">{{ withoutProductText }}</div>\n\n</ng-template>\n',styles:[".mat-divider-chart{margin:1em 2em 0}.checkbox-not-first{margin-left:20px}:host ::ng-deep .mat-grid-tile .mat-figure{align-items:start}.button-close-product{visibility:hidden;margin-top:.2em}.button-close-feature{visibility:visible;margin-top:.2em}:host ::ng-deep header.legend-title{text-align:left;font-weight:400}.without-product{margin:6em 0;text-align:center;cursor:default;color:#444;font-size:1.5em;font-weight:lighter}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={withoutProductText:[{type:e.Input}],tabLabel_CW:[{type:e.Input}],tabLabel_FW:[{type:e.Input}],chartTitle_P:[{type:e.Input}],view:[{type:e.Input}],colorScheme_CW:[{type:e.Input}],colorScheme_FW:[{type:e.Input}],gradient:[{type:e.Input}],barPadding:[{type:e.Input}],xAxisLabel_P:[{type:e.Input}],maxAxisTickLength:[{type:e.Input}],yAxisLabel_P:[{type:e.Input}],legendTitle:[{type:e.Input}],xAxisLabel_F:[{type:e.Input}],yAxisLabel_F:[{type:e.Input}],isChartVertical:[{type:e.Input}],currentProducts:[{type:e.Input}],futureProducts:[{type:e.Input}],legendPosition:[{type:e.Input}],chartTitle_F:[{type:e.Input}]},t}();var Re=function(){function t(){this.title="Visualización del roadmap del proyecto Sceiba",this.currentProducts=[],this.futureProducts=[]}return t.prototype.ngOnInit=function(){this.currentProducts=[{name:"Producto-1",features:[{name:"Característica-1",achieved:20},{name:"Característica-2",achieved:50},{name:"Característica-3",achieved:30}]},{name:"Producto-2",features:[{name:"Característica-1",achieved:5},{name:"Característica-2",achieved:50},{name:"Característica-3",achieved:75},{name:"Característica-4",achieved:30},{name:"Característica-5",achieved:95}]},{name:"Producto-3",features:[{name:"Característica-1",achieved:100}]},{name:"Producto-4",features:[{name:"Característica-1",achieved:0}]},{name:"Producto-5",features:[{name:"Característica-1",achieved:80},{name:"Característica-2",achieved:25},{name:"Característica-3",achieved:95},{name:"Característica-4",achieved:40},{name:"Característica-5",achieved:10},{name:"Característica-6",achieved:15},{name:"Característica-7",achieved:15},{name:"Característica-8",achieved:100}]},{name:"Producto-6",features:[]}],this.futureProducts=[{name:"Fut-Producto-1",features:[{name:"Fut-Característica-1",achieved:80},{name:"Fut-Característica-2",achieved:50}]},{name:"Fut-Producto-2",features:[{name:"Fut-Característica-1",achieved:0},{name:"Fut-Característica-2",achieved:5},{name:"Fut-Característica-3",achieved:0},{name:"Fut-Característica-4",achieved:0},{name:"Fut-Característica-5",achieved:0}]},{name:"Fut-Producto-3",features:[{name:"Fut-Característica-1",achieved:100}]},{name:"Fut-Producto-4",features:[{name:"Fut-Característica-1",achieved:0}]},{name:"Fut-Producto-5",features:[{name:"Fut-Característica-1",achieved:0},{name:"Fut-Característica-2",achieved:100},{name:"Fut-Característica-3",achieved:50},{name:"Fut-Característica-4",achieved:20},{name:"Fut-Característica-5",achieved:80},{name:"Fut-Característica-6",achieved:0},{name:"Fut-Característica-7",achieved:0},{name:"Fut-Característica-8",achieved:0}]},{name:"Fut-Producto-6",features:[]}]},t.decorators=[{type:e.Component,args:[{selector:"toco-road-map-sceiba",template:'\n<h2 style="text-align: center">{{ title }}</h2>\n\n<div style="text-align: center">\n    \x3c!-- <toco-road-map></toco-road-map> --\x3e\n    <toco-road-map [currentProducts]="currentProducts" [futureProducts]="futureProducts"></toco-road-map>\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t}();var Ve=function(){function t(t,e){this._viewContainerRef=t,this._componentFactoryResolver=e}return Object.defineProperty(t.prototype,"viewContainerRef",{get:function(){return this._viewContainerRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this._componentFactoryResolver},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Directive,args:[{selector:"[get-view-container]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.ComponentFactoryResolver}]},t}();var je=function(){function t(){}return t.equalLength=function(t){return function(e){var n=e.value?e.value.length:0;return 0!=n&&n!=t?{equalLength:{requiredLength:t,actualLength:n}}:null}},t.minLength=function(t){return function(e){var n=e.controls.length;return n<t?{minLength:{requiredLength:t,actualLength:n}}:null}},t.requiredAndNotEmpty=function(t,e){return function(n){var o=0,a=e.length;if(t.required){for(;o<a&&e[o].value;o++);return o==a?null:{requiredAndNotEmpty:{required:!0,pos:o}}}for(var r=!1,i=-1;o<a;o++)if(e[o].value){if(-1!=i)break;r=!0}else if(-1==i&&(i=o),r)break;return o==a?null:{requiredAndNotEmpty:{required:!0,pos:i}}}},t.issnConfirmCheckDigitOneField=function(t){return function(e){if(e.value.length==t){var n=e.value,o=8*(n.charCodeAt(0)-48);return o+=7*(n.charCodeAt(1)-48),o+=6*(n.charCodeAt(2)-48),o+=5*(n.charCodeAt(3)-48),o+=4*(n.charCodeAt(7)-48),o+=3*(n.charCodeAt(8)-48),o+=2*(n.charCodeAt(9)-48),(o+="x"==n[10]||"X"==n[10]?10:n.charCodeAt(10)-48)%11?{issnConfirmCheckDigitOneField:!0}:null}return null}},t.issnConfirmCheckDigitTwoField=function(t,e,n){return function(o){if(t.value.length==n&&e.value.length==n){var a=t.value,r=8*(a.charCodeAt(0)-48);return r+=7*(a.charCodeAt(1)-48),r+=6*(a.charCodeAt(2)-48),r+=5*(a.charCodeAt(3)-48),r+=4*((a=e.value).charCodeAt(0)-48),r+=3*(a.charCodeAt(1)-48),r+=2*(a.charCodeAt(2)-48),(r+="x"==a[3]||"X"==a[3]?10:a.charCodeAt(3)-48)%11?{issnConfirmCheckDigitTwoField:!0}:null}return null}},t.issnValidator=function(t){return function(e){return t.valid?null:{issnValidator:{requiredValid:t.valid}}}},t}(),Me=function(){function t(){}return t.prototype.ngOnChanges=function(t){"equalLength"in t&&(this._validator=je.equalLength(parseInt(this.equalLength,10)),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this.equalLength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.decorators=[{type:e.Directive,args:[{selector:"[equalLength]",providers:[{provide:V.NG_VALIDATORS,useExisting:t,multi:!0}]}]}],t.propDecorators={equalLength:[{type:e.Input}]},t}();var Je={snackBar:"snackBar",dialog:"dialog"},Be={OK:200,serverError:500,notFound:400};Be[Be.OK]="OK",Be[Be.serverError]="serverError",Be[Be.notFound]="notFound";var ze=function(){};var qe=function(){};var He=function(){function t(t){this.data=t}return t.decorators=[{type:e.Component,args:[{selector:"toco-dialog-message",template:'\n\t\t<h1 mat-dialog-title>\n\t\t\t{{ data.title }}\n\t\t</h1>\n\t\t<mat-dialog-content> {{ data.content }} </mat-dialog-content>\n\t\t<mat-dialog-actions align="end">\n\t\t\t<button mat-stroked-button mat-dialog-close>OK</button>\n\t\t</mat-dialog-actions>\n\t'}]}],t.ctorParameters=function(){return[{type:ze,decorators:[{type:e.Inject,args:[u.MAT_DIALOG_DATA]}]}]},t}();var Ge=function(){function t(t){this.data=t}return t.decorators=[{type:e.Component,args:[{selector:"toco-dialog-delete-confirm",template:'\n\t\t<h1 mat-dialog-title>\n\t\t\t¿Está usted seguro que desea eliminar {{ data.delTypeArt }} <strong>{{ data.delType }}</strong>?\n\t\t</h1>\n\t\t<mat-dialog-content>\n\t\t\tSu valor es: <em>{{ data.delValue }}</em>\n\t\t</mat-dialog-content>\n\t\t<mat-dialog-actions align="end">\n\t\t\t<button mat-stroked-button mat-dialog-close color="warning">Cancelar</button>\n\t\t\t<button mat-stroked-button [mat-dialog-close]="true" color="warning" cdkFocusInitial>Eliminar</button>\n\t\t</mat-dialog-actions>\n\t'}]}],t.ctorParameters=function(){return[{type:qe,decorators:[{type:e.Inject,args:[u.MAT_DIALOG_DATA]}]}]},t}();var Ue=function(){function t(t,e){this._snackBar=t,this.dialog=e}return t.prototype.showMessage=function(t,e,n,o,a){switch(t){case Be.serverError:this.componentHandler(e||"No se pudo conectar al servidor.",n,o,a);break;case Be.notFound:this.componentHandler(e||"Operación extraviada, no se pudo realizar.",n,o,a);break;default:this.componentHandler(e||"Operación realizada con éxito.",n,o,a)}},t.prototype.componentHandler=function(t,e,n,o){switch(void 0===o&&(o="300px"),e){case Je.dialog:this.dialog.open(He,{width:o,data:{title:n,content:t}});break;default:this._snackBar.open(t,null,{duration:5e3,verticalPosition:"bottom"})}},t}();var We=function(){function t(){this.loading=!1,this.position="fixed"}return t.decorators=[{type:e.Component,args:[{selector:"toco-progress",template:'\n    <div class="spinner" *ngIf="loading">\n      <div class="bounce1"></div>\n      <div class="bounce2"></div>\n      <div class="bounce3"></div>\n    </div>\n ',styles:["\n.overlay-fixed {\n      opacity:    0.4;\n      background: #000;\n      width:      100%;\n      height:     100%;\n      z-index:    1000;\n      top:        0;\n      left:       0;\n      position:   fixed;\n    }\n    .overlay-absolute {\n      opacity:    0.4;\n      background: #000;\n      width:      100%;\n      height:     100%;\n      z-index:    1000;\n      top:        0;\n      left:       0;\n      position:   absolute;\n    }\n\n.spinner {\nmargin: 5px auto 0;\nwidth: 70px;\ntext-align: center;\n}\n\n.spinner > div {\nwidth: 14px;\nheight: 14px;\n\n\nborder-radius: 100%;\ndisplay: inline-block;\n-webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\nanimation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n\n.spinner .bounce1 {\nbackground-color:#007e3e;\n-webkit-animation-delay: -0.60s;\nanimation-delay: -0.60s;\n}\n\n.spinner .bounce2 {\nbackground-color: #018d79;\n-webkit-animation-delay: -0.30s;\nanimation-delay: -0.30s;\n}\n\n.spinner .bounce3 {\nbackground-color: #0f6684;\n}\n\n@-webkit-keyframes sk-bouncedelay {\n0%, 80%, 100% { -webkit-transform: scale(0) }\n40% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bouncedelay {\n0%, 80%, 100% {\n  -webkit-transform: scale(0);\n  transform: scale(0);\n} 40% {\n  -webkit-transform: scale(1.0);\n  transform: scale(1.0);\n}\n}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={loading:[{type:e.Input}],position:[{type:e.Input}]},t}();var Xe=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-sceiba-apps",template:'<div fxLayout="row wrap" fxLayoutAlign="space-around center">\n  <a href="https://sceiba.cu" target="_blank" class="apps" matTooltip="Sceiba">\n      <img src="icons/sceiba.svg" alt="Sceiba">\n  </a>\n  <a href="https://orgs.sceiba.cu" target="_blank" class="apps" matTooltip="Organizaciones">\n      <img src="icons/organizacion.svg" alt="Organizaciones">\n  </a>\n  <a href="https://sceiba.cu" target="_blank" class="apps" matTooltip="Vocabularios">\n      <img src="icons/vocabs.png" alt="Vocabularios">\n  </a>\n  <a href="https://catalogo.sceiba.cu" target="_blank" class="apps" matTooltip="Catálogo">\n      <img src="icons/catalog.svg" alt="Catálogo">\n  </a>\n  <mat-divider class="w-90"></mat-divider>\n  <a href="https://sceiba.cu" target="_blank" class="apps">\n      <img class="MES" src="icons/mes.svg" alt="Registro de Revistas Científicas del MES" matTooltip="Registro de Revistas Científicas del MES">\n  </a>\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),Ye=function(){function t(t){}return t.decorators=[{type:e.NgModule,args:[{declarations:[dt,mt,ht,gt,Oe,Pe,De,Le,ke,Ne,Re,Ve,Me,He,Ge,We,Xe],imports:[ut,V.ReactiveFormsModule,M.TranslateModule,q.NgxChartsModule,Ee],exports:[dt,mt,ht,gt,Oe,Pe,De,Le,ke,Ne,Re,Ve,Me,He,Ge,We,Xe],entryComponents:[He,Ge],providers:[ft]}]}],t.ctorParameters=function(){return[{type:t,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]},t}(),$e={"Español":"Español",English:"English"},Ke={es:"es",en:"en"},Qe=[$e.Español,$e.English],Ze=[Ke.es,Ke.en];function tn(t,e){var n;for(var o in t)n=t[o],G.isArray(n)?e[o]=tn(n,[]):G.isRegExp(n)?e[o]=n:G.isDate(n)?e[o]=new Date(n):G.isError(n)?e[o]=n:G.isObject(n)?e[o]=tn(n,{}):e[o]=n;return e}function en(t,e){var n;for(var o in t)n=t[o],G.isArray(n)?e[o]=en(n,[]):G.isRegExp(t)?e[o]=void 0:G.isDate(t)?e[o]=void 0:G.isError(t)?e[o]=void 0:G.isObject(n)?e[o]=en(n,{}):e[o]=void 0;return e}var nn={asc:"asc",desc:"desc",orig:""};function on(t,e){var n=t[e];if(U._isNumberValue(n)){var o=Number(n);return o<9007199254740991?o:n}return n}function an(t,e){var n=e.active,o=e.direction;return n&&o!=nn.orig?t.sort((function(t,e){var a=on(t,n),r=on(e,n),i=0;return null!=a&&null!=r?a>r?i=1:a<r&&(i=-1):null!=a?i=1:null!=r&&(i=-1),i*(o==nn.asc?1:-1)})):t}var rn=function(){};var sn=function(){};var ln=function(){function t(t,e){this._cachable=t,this._cache=e}return t.prototype.intercept=function(t,e){var n;if(!(n=this._cachable.isCachable(t)))return e.handle(t);if(t.headers.get("refresh-x-cache"))return this._sendRequest(t,n,!0,e);var o=this._cache.get(t);return o?z.of(o):this._sendRequest(t,n,!1,e)},t.prototype._sendRequest=function(t,e,n,o){var a=this,r=n?t.clone({headers:t.headers.delete("refresh-x-cache")}):t;return console.log("Req-2: ",r.headers),o.handle(r).pipe(W.tap((function(n){n instanceof R.HttpResponse&&a._cache.set(t,e,n)})))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:rn},{type:sn}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(rn),e.ɵɵinject(sn))},token:t,providedIn:"root"}),t}();var cn=function(){function t(t){this.http=t}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:R.HttpClient}]},t}();var un=function(){function t(t,e){this._matIconRegistry=t,this._domSanitizer=e}return t.prototype.registerIcons=function(t,e){var n=this;t.forEach((function(t){n._matIconRegistry.addSvgIcon(t,n._domSanitizer.bypassSecurityTrustResourceUrl(e+"/"+t+".svg"))}))},t.defaultIconName="outlined-blank-24px",t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:I.MatIconRegistry},{type:H.DomSanitizer}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(m.MatIconRegistry),e.ɵɵinject(H.DomSanitizer))},token:t,providedIn:"root"}),t}();var pn=function(){function t(){this.messages=[]}return t.prototype.add=function(t){console.log(t),this.messages.push(t)},t.prototype.clear=function(){this.messages=[]},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var dn=function(){function t(t){this._env=t}return t.prototype.isCachable=function(t){var e=this;return"GET"!=t.method?0:(Object.keys(this._env.cachableUrls).forEach((function(n){if(t.url.indexOf(n)>-1)return e._env.cachableUrls[n]})),0)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:pt}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(pt))},token:t,providedIn:"root"}),t}();var mn=function(){function t(t){this._messageService=t,this._cache=new Map}return t.prototype.get=function(t){var e=this._cache.get(t.urlWithParams);if(e)return e.lastRead+e.maxAgeInCache<Date.now()?void this._messageService.add("Found expired cached response for '"+t.urlWithParams+"'."):(this._messageService.add("Found cached response for '"+t.urlWithParams+"'."),e.response)},t.prototype.set=function(t,e,n){var o=this,a=t.urlWithParams;this._messageService.add("Caching response from '"+a+"'."),this._cache.set(a,{url:a,response:n,maxAgeInCache:e,lastRead:Date.now()}),this._cache.forEach((function(t){t.lastRead<Date.now()-t.maxAgeInCache&&o._cache.delete(t.url)})),this._messageService.add("Request cache size: "+this._cache.size+".")},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:pn}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(pn))},token:t,providedIn:"root"}),t}();var hn=[{provide:rn,useClass:dn,multi:!1}],fn=[{provide:sn,useClass:mn,multi:!1}];var gn=function(){function t(){this.users=[{id:1,name:"Leanne Graham",registrationDate:new Date(1565575044121),username:"Bret",email:"Sincere@april.biz",address:{street:"Kulas Light",suite:"Apt. 556",city:"Gwenborough",zipcode:"92998-3874",geo:{lat:"-37.3159",lng:"81.1496"}},phone:"1-770-736-8031 x56442",website:"hildegard.org",company:{name:"Romaguera-Crona",catchPhrase:"Multi-layered client-server neural-net",bs:"harness real-time e-markets"}},{id:2,name:"Ervin Howell",registrationDate:new Date(1565575044121),username:"Antonette",email:"Shanna@melissa.tv",address:{street:"Victor Plains",suite:"Suite 879",city:"Wisokyburgh",zipcode:"90566-7771",geo:{lat:"-43.9509",lng:"-34.4618"}},phone:"010-692-6593 x09125",website:"anastasia.net",company:{name:"Deckow-Crist",catchPhrase:"Proactive didactic contingency",bs:"synergize scalable supply-chains"}},{id:3,name:"Clementine Bauch",registrationDate:new Date(1565575044121),username:"Samantha",email:"Nathan@yesenia.net",address:{street:"Douglas Extension",suite:"Suite 847",city:"McKenziehaven",zipcode:"59590-4157",geo:{lat:"-68.6102",lng:"-47.0653"}},phone:"1-463-123-4447",website:"ramiro.info",company:{name:"Romaguera-Jacobson",catchPhrase:"Face to face bifurcated interface",bs:"e-enable strategic applications"}},{id:4,name:"Patricia Lebsack",registrationDate:new Date(1565575044121),username:"Karianne",email:"Julianne.OConner@kory.org",address:{street:"Hoeger Mall",suite:"Apt. 692",city:"South Elvis",zipcode:"53919-4257",geo:{lat:"29.4572",lng:"-164.2990"}},phone:"493-170-9623 x156",website:"kale.biz",company:{name:"Robel-Corkery",catchPhrase:"Multi-tiered zero tolerance productivity",bs:"transition cutting-edge web services"}},{id:5,name:"Chelsey Dietrich",registrationDate:new Date(1550478139234),username:"Kamren",email:"Lucio_Hettinger@annie.ca",address:{street:"Skiles Walks",suite:"Suite 351",city:"Roscoeview",zipcode:"33263",geo:{lat:"-31.8129",lng:"62.5342"}},phone:"(254)954-1289",website:"demarco.info",company:{name:"Keebler LLC",catchPhrase:"User-centric fault-tolerant solution",bs:"revolutionize end-to-end systems"}},{id:6,name:"Mrs. Dennis Schulist",registrationDate:new Date(1550478139234),username:"Leopoldo_Corkery",email:"Karley_Dach@jasper.info",address:{street:"Norberto Crossing",suite:"Apt. 950",city:"South Christy",zipcode:"23505-1337",geo:{lat:"-71.4197",lng:"71.7478"}},phone:"1-477-935-8478 x6430",website:"ola.org",company:{name:"Considine-Lockman",catchPhrase:"Synchronised bottom-line interface",bs:"e-enable innovative applications"}},{id:7,name:"Kurtis Weissnat",registrationDate:new Date(1550478139234),username:"Elwyn.Skiles",email:"Telly.Hoeger@billy.biz",address:{street:"Rex Trail",suite:"Suite 280",city:"Howemouth",zipcode:"58804-1099",geo:{lat:"24.8918",lng:"21.8984"}},phone:"210.067.6132",website:"elvis.io",company:{name:"Johns Group",catchPhrase:"Configurable multimedia task-force",bs:"generate enterprise e-tailers"}},{id:8,name:"Nicholas Runolfsdottir V",registrationDate:new Date(1550478139234),username:"Maxime_Nienow",email:"Sherwood@rosamond.me",address:{street:"Ellsworth Summit",suite:"Suite 729",city:"Aliyaview",zipcode:"45169",geo:{lat:"-14.3990",lng:"-120.7677"}},phone:"586.493.6943 x140",website:"jacynthe.com",company:{name:"Abernathy Group",catchPhrase:"Implemented secondary concept",bs:"e-enable extensible e-tailers"}},{id:9,name:"Glenna Reichert",registrationDate:new Date(1550478139234),username:"Delphine",email:"Chaim_McDermott@dana.io",address:{street:"Dayna Park",suite:"Suite 449",city:"Bartholomebury",zipcode:"76495-3109",geo:{lat:"24.6463",lng:"-168.8889"}},phone:"(775)976-6794 x41206",website:"conrad.com",company:{name:"Yost and Sons",catchPhrase:"Switchable contextually-based project",bs:"aggregate real-time technologies"}},{id:10,name:"Clementina DuBuque",registrationDate:new Date(1550478139234),username:"Moriah.Stanton",email:"Rey.Padberg@karina.biz",address:{street:"Kattie Turnpike",suite:"Suite 198",city:"Lebsackbury",zipcode:"31428-2261",geo:{lat:"-38.2386",lng:"57.2232"}},phone:"024-648-3804",website:"ambrose.net",company:{name:"Hoeger LLC",catchPhrase:"Centralized empowering task-force",bs:"target end-to-end models"}}]}return t.prototype.page=function(t){var e=this.users.slice(),n=t.filter,o=n.search,a=n.registration;o&&(o=o.toLowerCase(),e=e.filter((function(t){var e=t.id,n=t.name;t.registrationDate;return e.toString(10).includes(o)||n.toLowerCase().includes(o)}))),a&&(e=e.filter((function(t){var e=t.registrationDate;return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()}))),t.sort&&(e=an(e,t.sort));var r=t.paginator.pageIndex,i=t.paginator.pageSize,s=0;if(0!=e.length)for(;(s=r*i)>=e.length;)r--;else r=0;var l=s+i,c={data:e.slice(s,l),totalData:e.length,pageIndex:r,pageSize:i};return z.of(c).pipe(W.delay(2e3))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var yn=function(){function t(t,e){this.env=t,this.http=e}return t.prototype.getUserInfo=function(){return this.http.get(this.env.sceibaApi+"me")},t.prototype.getUsers=function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=1),void 0===n&&(n="");var o=new R.HttpParams,a={params:o=(o=(o=o.set("size",t.toString(10))).set("page",e.toString(10))).set("query",n)};return this.http.get(this.env.sceibaApi+"users/search",a)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpClient}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(pt),e.ɵɵinject(R.HttpClient))},token:t,providedIn:"root"}),t}();var bn={sceiba:"sceiba",cuor:"cuor"},vn=function(){function t(t,e,n,o,a,r){this.oauthStorage=t,this.http=e,this._router=n,this.oauthService=o,this.errorHandler=a,this.moduleConfig=r,this.authenticationSubject=new z.Subject,this.authenticationSubjectObservable=this.authenticationSubject.asObservable()}return t.prototype.login=function(t){console.log("autentication service user:",t),this.authenticationSubject.next(t)},t.prototype.logout=function(){this.authenticationSubject.next(null)},t.prototype.getUserInfo=function(){return this.http.get(this.userInfoEndpoint)},t.prototype.canActivate=function(t,e){return!!this.oauthStorage.getItem("user")||(this._router.navigate(["/"]),!1)},t.prototype.intercept=function(t,e){var n=this,o=this.oauthStorage.getItem("access_token");if(o){var a=t.headers.set("Authorization","Bearer "+o);"GET"!=t.method&&(a=(a=a.set("Content-Type","application/json")).set("Access-Control-Allow-Origin","*")),t=t.clone({headers:a})}return e.handle(t).pipe(W.catchError((function(t){return 401===t.status&&n.oauthService.initImplicitFlow(),z.throwError(t)})))},t.prototype.configure=function(t){this.oauthService.configure(t),this.oauthService.tokenValidationHandler=new J.JwksValidationHandler,this.oauthService.loadDiscoveryDocumentAndTryLogin()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:J.OAuthStorage},{type:R.HttpClient},{type:B.Router},{type:J.OAuthService},{type:J.OAuthResourceServerErrorHandler},{type:J.OAuthModuleConfig,decorators:[{type:e.Optional}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(J.OAuthStorage),e.ɵɵinject(R.HttpClient),e.ɵɵinject(B.Router),e.ɵɵinject(J.OAuthService),e.ɵɵinject(J.OAuthResourceServerErrorHandler),e.ɵɵinject(J.OAuthModuleConfig,8))},token:t,providedIn:"root"}),t}();var xn=function(){function t(t,e,n){this.env=t,this.http=e,this._router=n,this.authBackend=bn.sceiba,this.authenticationSubject=new z.Subject,this.authenticationSubjectObservable=this.authenticationSubject.asObservable()}return t.prototype.logguedChange=function(t){this.authenticationSubject.next(t)},t.prototype.getUserInfo=function(){return this.authBackend==bn.sceiba?this.http.get(this.env.sceibaApi+"me"):this.authBackend==bn.cuor?this.http.get(this.env.cuorApi+"me"):void 0},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpClient},{type:B.Router}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(pt),e.ɵɵinject(R.HttpClient),e.ɵɵinject(B.Router))},token:t,providedIn:"root"}),t}();var _n=function(){function t(t,e,n,o,a,r,i){var s=this;this.userProfileService=t,this.env=e,this.router=n,this.oauthService=o,this.oauthStorage=a,this.authenticationService=r,this._transServ=i,this.timerAuthenticateSuscription=null,this.timerAuthenticateObserver={next:function(t){s.oauthStorage.getItem("access_token")&&s.authenticationService.getUserInfo().subscribe((function(t){s.oauthStorage.setItem("user",JSON.stringify(t)),s.authenticationService.login(t)}),(function(t){return console.log(t)}),(function(){}))},error:function(t){console.log("The observable got an error notification: "+t+".")},complete:function(){console.log("The observable got a complete notification.")}}}return t.prototype.ngOnInit=function(){var t=this;null==this.isButtonLogin&&(this.isButtonLogin=!1),null==this.isButtonLoginIcon&&(this.isButtonLoginIcon=!1),null==this.isButtonLoginText&&this._transServ.get("TOCO_AUTHENTICATION.AUTENTICARSE").subscribe((function(e){t.isButtonLoginText=e})),null!=this.oauthInfo.loginUrl&&""!=this.oauthInfo.loginUrl||(this.oauthInfo.loginUrl=this.oauthInfo.serverHost+"oauth/authorize"),null!=this.oauthInfo.tokenEndpoint&&""!=this.oauthInfo.tokenEndpoint||(this.oauthInfo.tokenEndpoint=this.oauthInfo.serverHost+"oauth/token"),this.configure()},t.prototype.ngOnDestroy=function(){this.timerAuthenticateSuscription&&this.timerAuthenticateSuscription.unsubscribe()},t.prototype.ngAfterViewInit=function(){this.timerAuthenticateSuscription=z.timer(0).subscribe(this.timerAuthenticateObserver)},t.prototype.configure=function(){var t=this,e={loginUrl:this.oauthInfo.loginUrl,tokenEndpoint:this.oauthInfo.tokenEndpoint,redirectUri:this.oauthInfo.oauthRedirectUri,clientId:this.oauthInfo.oauthClientId,oidc:!1,sessionChecksEnabled:!0,scope:this.oauthInfo.oauthScope};this.oauthService.configure(e),this.oauthService.tokenValidationHandler=new J.JwksValidationHandler,this.oauthService.tryLogin({onTokenReceived:function(e){t.authenticationService.userInfoEndpoint=t.oauthInfo.userInfoEndpoint,t.authenticationService.getUserInfo().subscribe((function(e){console.log(e),t.oauthStorage.setItem("user",JSON.stringify(e)),t.authenticationService.login(e)}),(function(t){return console.log(t)}),(function(){}))},onLoginError:function(t){console.log("error in login",t)}})},t.prototype.login=function(){var t=this;this.oauthService.initImplicitFlow(),this.user=new ne,this.userProfileService.getUserInfo().subscribe({next:function(e){e&&e.data&&e.data.userprofile&&(t.user.deepcopy(e.data.userprofile),t.oauthStorage.setItem("user",t.user.entitystringify()))},error:function(t){console.log(t)},complete:function(){}})},t.prototype.logoff=function(){this.oauthService.logOut(),this.authenticationService.logout()},Object.defineProperty(t.prototype,"name",{get:function(){return this.oauthStorage.getItem("access_token")?this.oauthStorage.getItem("email"):null},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"toco-authentication",template:'\n<div *ngIf="!isButtonLogin;else template_buttonLogin" fxLayoutAlign="center center" fxLayout="row">\n    <mat-card fxLayoutAlign="center center" fxLayout="column">\n\n        <mat-card-header>\n            <mat-card-title *ngIf="!userName">{{ \'TOCO_AUTHENTICATION.MAT_CARD_TITLE_AUTH\' | translate }}</mat-card-title>\n        </mat-card-header>\n\n        <mat-card-content fxLayoutAlign="center center" fxLayout="column">\n            <button *ngIf="!userName;else templateName" mat-raised-button color="primary" style="width: 12em" (click)="login()">\n                <img src="https://sceiba-lab.upr.edu.cu/static/images/sceiba-logo-white.png" alt="Sceiba" width="100" style="padding-top: .9em; padding-bottom: .9em">\n            </button>\n\n            <ng-template #templateName>\n                <h1>{{ \'TOCO_AUTHENTICATION.H1_HOLA\' | translate }} {{ userName }}</h1>\n                <button mat-raised-button color="primary" style="width: 12em" (click)="logoff()">\n                    {{ \'TOCO_AUTHENTICATION.BUTTON_SALIR\' | translate }}\n                </button>\n            </ng-template>\n\n        </mat-card-content>\n    </mat-card>\n</div>\n\n<ng-template #template_buttonLogin>\n    <button *ngIf="isButtonLoginIcon" mat-icon-button (click)="login()" matTooltip="{{ isButtonLoginText }}">\n        <mat-icon>lock_open</mat-icon>\n    </button>\n    <button *ngIf="!isButtonLoginIcon" mat-raised-button color="primary" (click)="login()">\n        {{ isButtonLoginText }}\n        <mat-icon class="mat-18">lock_open</mat-icon>\n    </button>\n</ng-template>\n',styles:[".card-width{width:25%;min-width:15em}"]}]}],t.ctorParameters=function(){return[{type:yn},{type:pt},{type:B.Router},{type:J.OAuthService},{type:J.OAuthStorage},{type:vn},{type:M.TranslateService}]},t.propDecorators={isButtonLogin:[{type:e.Input}],isButtonLoginIcon:[{type:e.Input}],isButtonLoginText:[{type:e.Input}],oauthInfo:[{type:e.Input}]},t}();function Cn(){return localStorage}var wn=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[_n],imports:[ut,R.HttpClientModule,M.TranslateModule,J.OAuthModule.forRoot()],exports:[_n],providers:[{provide:J.OAuthStorage,useFactory:Cn},vn,xn,{provide:R.HTTP_INTERCEPTORS,useClass:vn,multi:!0}]}]}],t}(),In=function(){function t(t,e,n){this.env=t,this.http=e,this.oauthStorage=n,this.prefix="vocabularies",this.httpOptions={headers:new R.HttpHeaders({"Content-Type":"application/json"})},this.token="",this.token=this.oauthStorage.getItem("access_token")}return t.prototype.getVocabulary=function(t){var e=this.env.sceibaApi+this.prefix+"/vocabulary/"+t;return this.http.get(e)},t.prototype.getTermListByIDs=function(t){var e="";t.forEach((function(t){return e=e+t.toString(10)+","})),e=e.substring(0,e.length-1);var n={params:(new R.HttpParams).set("ids",e)},o=this.env.sceibaApi+this.prefix+"/term/inlist";return this.http.get(o,n)},t.prototype.getTermByID=function(t,e){void 0===e&&(e=10);var n={params:(new R.HttpParams).set("level",e.toString(10))},o=this.env.sceibaApi+this.prefix+"/term/id/"+t;return this.http.get(o,n)},t.prototype.getTermByUUID=function(t,e){void 0===e&&(e=10);var n={params:(new R.HttpParams).set("level",e.toString(10))},o=this.env.sceibaApi+this.prefix+"/term/"+t;return this.http.get(o,n)},t.prototype.getTermsTreeByVocab=function(t,e){void 0===e&&(e=10);var n={params:(new R.HttpParams).set("level",e.toString(10))},o=this.env.sceibaApi+this.prefix+"/term/tree/"+t;return this.http.get(o,n)},t.prototype.newVocabulary=function(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+this.token),this.http.post(this.env.sceibaApi+this.prefix+"/vocabulary/new",t.entitystringify(),this.httpOptions)},t.prototype.editVocabulary=function(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+this.token),this.http.post(this.env.sceibaApi+this.prefix+"/vocabulary/edit/"+t.id,t.entitystringify(),this.httpOptions)},t.prototype.getVocabularies=function(){return this.http.get(this.env.sceibaApi+this.prefix+"/vocabulary/list")},t.prototype.newTerm=function(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+this.token),this.http.post(this.env.sceibaApi+this.prefix+"/term/new",t.entitystringify(),this.httpOptions)},t.prototype.editTerm=function(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+this.token),this.http.post(this.env.sceibaApi+this.prefix+"/term/edit/"+t.uuid,t.entitystringify(),this.httpOptions)},t.prototype.getCurrentUserPermissions=function(){var t=this.env.sceibaApi+this.prefix+"/user/permissions";return this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+this.token),this.http.get(t,this.httpOptions)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpClient},{type:J.OAuthStorage}]},t}();var Sn=function(t){function n(e,n){var o=t.call(this,n)||this;return o.env=e,o.http=n,o}return et(n,t),n.prototype.getJournalsPage=function(t,e,n){try{var o=new R.HttpParams;if(n)for(var a=0;a<n.length;a++)o=o.set(n[a].field,n[a].value);var r={params:o.set("size",t.toString(10)).set("page",e.toString(10))};return this.http.get(this.env.sceibaApi+"source/journals",r)}catch(t){}},n.prototype.getJournalsCount=function(){try{return this.http.get(this.env.sceibaApi+"source/count")}catch(t){}},n.prototype.getJournalsVocab=function(){return this.http.get(this.env.sceibaApi+"taxonomy/vocabulary/list")},n.prototype.getTerminosByVocab=function(t){try{return this.http.get(this.env.sceibaApi+"taxonomy/term/list/"+t)}catch(t){}},n.prototype.getSourceByUUID=function(t){var e=this.env.sceibaApi+"source/"+t;return this.http.get(e)},n.prototype.getSourcesOrgAggregation=function(t){var e=this.env.sceibaApi+"source/aggs/org/"+t;return this.http.get(e)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:pt},{type:R.HttpClient}]},n}(cn);var Tn=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[In,Sn]}]}],t}(),An=function(t){function n(e,n){var o=t.call(this,n)||this;return o.env=e,o.http=n,o}return et(n,t),n.prototype.getNotificationsList=function(t,e){return this.http.get(this.env.sceibaApi+"notification/list")},n.prototype.setNotificationViewed=function(t){return this.http.get(this.env.sceibaApi+"notification/viewed/"+t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:pt},{type:R.HttpClient}]},n}(cn);var On={organizations:"api/organizations"},Pn=function(){function t(t,e){this._http=t,this._messageService=e,this._httpOptions={headers:new R.HttpHeaders({"Content-Type":"application/json",Authorization:"my-auth-token"})}}return t.prototype.get=function(t,e){var n=this;return this._http.get(t).pipe(W.tap((function(e){return n.log("fetched data from '"+t+"'")})))},t.prototype.search=function(t,e,n){var o=this;return this._http.get(t+"/?"+e).pipe(W.tap((function(n){return o.log("searched '"+e+"' in '"+t+"'")})))},t.prototype.add=function(t,e,n){var o=this;return this._http.post(t,e,this._httpOptions).pipe(W.tap((function(n){return o.log("added "+e+" to '"+t+"'")})))},t.prototype.update=function(t,e,n){var o=this;return this._http.put(t,e,this._httpOptions).pipe(W.tap((function(n){return o.log("updated "+e+" to '"+t+"'")})))},t.prototype.delete=function(t,e,n){var o=this;return this._http.delete(t+"/"+e,this._httpOptions).pipe(W.tap((function(n){return o.log("deleted data with id = "+e+" from '"+t+"'")})))},t.prototype.log=function(e){this._messageService.add(t.name+": "+e+".")},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:R.HttpClient},{type:pn}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(R.HttpClient),e.ɵɵinject(pn))},token:t,providedIn:"root"}),t}();var Dn=function(){function t(t,e){this.env=t,this.handler=e,this.path="organizations",this.http=new R.HttpClient(e)}return t.prototype.getOrganizationByUUID=function(t){var e=this.env.sceibaApi+"/pid/organization/"+t;return this.http.get(e)},t.prototype.getOrganizationRelationships=function(t,e){void 0===e&&(e=null);var n=this.env.sceibaApi+this.path+"/"+t+"/relationships";if(null!=e){var o=new R.HttpParams,a={params:o=o.set("type",e)};return this.http.get(n,a)}return this.http.get(n)},t.prototype.getOrganizationByPID=function(t){var e=new R.HttpParams,n={params:e=e.set("value",t)},o=this.env.sceibaApi+this.path+"/pid";return this.http.get(o,n)},t.prototype.getOrganizations=function(t){var e={params:t};console.log(t);var n=this.env.sceibaApi+"search/"+this.path;return console.log(n),this.http.get(n,e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpBackend}]},t}();var Ln=function(){function t(t,e){this.env=t,this.handler=e,this.prefix="search",this.http=new R.HttpClient(e)}return t.prototype.getAggregation=function(t,e){void 0===e&&(e=10);var n={params:(new R.HttpParams).set("size",e.toString(10))},o=this.env.sceibaApi+this.prefix+"/aggs/"+t;return this.http.get(o,n)},t.prototype.getRecords=function(t){var e={params:t};console.log(t);var n=this.env.sceibaApi+this.prefix+"/records/";return this.http.get(n,e)},t.prototype.getSources=function(t){var e={params:t};console.log(t);var n=this.env.sceibaApi+this.prefix+"/sources";return this.http.get(n,e)},t.prototype.getOrganizations=function(t){var e={params:t},n=this.env.sceibaApi+this.prefix+"/organizations/";return this.http.get(n,e)},t.prototype.getOrganizationById=function(t){var e=this.env.cuorApi+"organizations/"+t+"/";return this.http.get(e)},t.prototype.updateOrganizations=function(t){return z.of(null)},t.prototype.getSourcesOrgAggregation=function(t){var e=this.env.sceibaApi+"source/aggs/org/"+t;return this.http.get(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpBackend}]},t}();var kn=function(){function t(t,e,n,o){this.env=t,this.http=e,this.handler=n,this.oauthStorage=o,this.prefix="source",this.httpOptions={headers:new R.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "})},this.token="",this.token=this.oauthStorage.getItem("access_token"),this.httpSearch=new R.HttpClient(n)}return t.prototype.getMySources=function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=1),void 0===n&&(n="manager");var o=new R.HttpParams,a={params:o=(o=o.set("size",t.toString(10))).set("page",e.toString(10))},r=this.env.sceibaApi+this.prefix+"/me/"+n+"/ALL";return this.http.get(r,a)},t.prototype.getMySourcesAllRoles=function(){var t=this.env.sceibaApi+this.prefix+"/me/ALL";return this.http.get(t)},t.prototype.adhocstringgify=function(t){var e=JSON.stringify(t.data.organizations);console.log("-------------------",e);var n=t.entitystringify();console.log("-------------------",n);var o=n.search('"organizations"')+16,a=n.substr(0,o);console.log(a);var r=n.substr(o);console.log(r);var i=this.count_to_len(r);console.log(i);var s=n.substr(o+i);return console.log(s),a+e+s},t.prototype.count_to_len=function(t){if("["==t[0])for(var e=1,n=1,o=1;o<t.length;o++){t[o];if(e++,"["===t[o]&&n++,"]"===t[o]&&n--,0===n)return e}},t.prototype.editSource=function(t,e){var n=this.env.sceibaApi+this.prefix+"/"+e+"/edit";return this.http.post(n,this.adhocstringgify(t),this.httpOptions)},t.prototype.makeSourceAsApproved=function(t,e){var n=this.env.sceibaApi+this.prefix+"/"+e+"/publish";return this.http.post(n,this.adhocstringgify(t),this.httpOptions)},t.prototype.makeSourceAsUnApproved=function(t,e){var n=this.env.sceibaApi+this.prefix+"/"+e+"/unpublish";return this.http.post(n,this.adhocstringgify(t),this.httpOptions)},t.prototype.newSource=function(t,e,n){var o=new R.HttpParams,a={params:o=(o=o.set("pid",e.toString())).set("role",n.toString())},r=this.env.sceibaApi+this.prefix+"/new";return this.http.post(r,this.adhocstringgify(t),a)},t.prototype.getIssnInfo=function(t){var e=this.env.sceibaApi+this.prefix+"/journal/issn/"+t;return this.http.get(e)},t.prototype.getSourcesByTermUUID=function(t){var e=this.env.sceibaApi+this.prefix+"/relations/"+t;return this.http.get(e)},t.prototype.getSourceVersions=function(t){this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+this.token);var e=this.env.sceibaApi+this.prefix+"/"+t+"/versions";return this.http.get(e,this.httpOptions)},t.prototype.countSourcesByTerm=function(t,e){void 0===e&&(e=0);var n={params:(new R.HttpParams).set("level",e.toString(10))},o=this.env.sceibaApi+this.prefix+"/relations/"+t+"/count";return this.http.get(o,n)},t.prototype.getSourceByUUID=function(t){var e=this.env.sceibaApi+this.prefix+"/"+t;return this.http.get(e)},t.prototype.permissionGetSourceEditors=function(t){var e=this.env.sceibaApi+this.prefix+"/permission/editor/"+t+"/users";return this.http.get(e)},t.prototype.permissionSetSourceEditor=function(t,e,n){void 0===n&&(n=!1);var o=this.env.sceibaApi+this.prefix+"/permission/"+e+"/editor/"+t+(n?"/allow":"/deny");return this.http.post(o,null,this.httpOptions)},t.prototype.permissionGetSourceManagers=function(t){var e=this.env.sceibaApi+this.prefix+"/permission/manager/"+t+"/users";return this.http.get(e)},t.prototype.permissionSetSourceManager=function(t,e,n){void 0===n&&(n=!1);var o=this.env.sceibaApi+this.prefix+"/permission/"+e+"/manager/"+t+(n?"/allow":"/deny");return this.http.post(o,null,this.httpOptions)},t.prototype.permissionGetOrganizationManagers=function(t){var e=this.env.sceibaApi+this.prefix+"/permission/organization/"+t+"/users";return this.http.get(e)},t.prototype.permissionSetOrganizationManager=function(t,e,n){void 0===n&&(n=!1);var o=this.env.sceibaApi+this.prefix+"/permission/"+e+"/organization/"+t+(n?"/allow":"/deny");return this.http.post(o,null,this.httpOptions)},t.prototype.permissionGetTermManagers=function(t){var e=this.env.sceibaApi+this.prefix+"/permission/term/"+t+"/users";return this.http.get(e)},t.prototype.permissionSetTermManager=function(t,e,n){void 0===n&&(n=!1);var o=this.env.sceibaApi+this.prefix+"/permission/"+e+"/term/"+t+(n?"/allow":"/deny");return this.http.post(o,null,this.httpOptions)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpClient},{type:R.HttpBackend},{type:J.OAuthStorage}]},t}();var Fn=function(){function t(t,e){this.env=t,this.handler=e,this.http=new R.HttpClient(e)}return t.prototype.getSourceByUUID=function(t){var e=this.env.sceibaApi+"/pid/source/"+t;return this.http.get(e)},t.prototype.getSourceByISSN=function(t){var e=this.env.sceibaApi+"source/byissn/"+t;return this.http.get(e)},t.prototype.getSourceByPID=function(t){var e=new R.HttpParams,n={params:e=e.set("value",t)},o=this.env.sceibaApi+"source/pid";return this.http.get(o,n)},t.prototype.getSources=function(t){var e={params:t};console.log(t);var n=this.env.sceibaApi+"search/sources";return this.http.get(n,e)},t.prototype.getSourcesStats=function(t){var e=new R.HttpParams,n={params:e=e.set("org",t)},o=this.env.sceibaApi+"source/stats";return this.http.get(o,n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pt},{type:R.HttpBackend}]},t}();var En=function(t,e){this.component=t,this.data=e};var Nn=function(t,e){this.field=t,this.value=e};var Rn=function(){function t(){this.params=new Array,this.autocompleteFilter=new Array,this.paramsChanged=new e.EventEmitter}return t.prototype.changeFilter=function(t,e,n){void 0===n&&(n=!0),this.params.find((function(e){return e.field==t}))?this.params.find((function(e){return e.field==t})).value=e:t&&e&&this.params.push(new Nn(t,e)),n&&this.paramsChanged.emit(this.params)},t.prototype.deleteParameter=function(t){this.params.find((function(e){return e.field==t}))&&(this.params.splice(this.params.indexOf(this.params.find((function(e){return e.field==t}))),1),this.paramsChanged.emit(this.params))},t.prototype.changeAutocompleteFilter=function(t,e){var n=!1;this.autocompleteFilter.forEach((function(o){o.name==t&&(o.value=e,n=!0)})),n||this.autocompleteFilter.push(new Vn(t,e)),this.createAutocompleteFilterValue()},t.prototype.deleteAutocompleteFilter=function(t){this.autocompleteFilter.splice(this.autocompleteFilter.indexOf(this.autocompleteFilter.find((function(e){return e.name==t}))),1),this.createAutocompleteFilterValue()},t.prototype.createAutocompleteFilterValue=function(){for(var t=this.autocompleteFilter[0].value,e=1;e<this.autocompleteFilter.length;e++)t=t+","+this.autocompleteFilter[e].value;this.changeFilter("terms",t,!0)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t.propDecorators={paramsChanged:[{type:e.Output}]},t}();var Vn=function(t,e){this.name=t,this.value=e};var jn=function(){function t(){this.emitter=new e.EventEmitter}return t.prototype.filterDeleted=function(t){this.emitter.emit(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t.propDecorators={emitter:[{type:e.Output}]},t}();var Mn=function(){function t(t,e){this.filterService=t,this.filterContainerService=e,this.operator=!0,this.direction="column"}return t.prototype.ngOnInit=function(){this.operator=this.data.value,this.operator_name=this.data.name[0],this.data.direction&&(this.direction="row",this.classDireccion="-horizontal")},t.prototype.remove_component=function(){this.filterService.deleteParameter(this.data.field),this.filterContainerService.filterDeleted(this.data.index)},t.prototype.change_operator_name=function(){this.operator?this.operator_name=this.data.name[1]:this.operator_name=this.data.name[0];var t=this.operator?"OR":"AND";this.filterService.changeFilter(this.data.field,t)},t.prototype.changeInterruptor=function(){this.operator=!this.operator,this.change_operator_name()},t.decorators=[{type:e.Component,args:[{selector:"toco-boolean-filter",template:'\x3c!-- <mat-slide-toggle [checked]="operator" [(ngModel)]="operator" (click)="change_operator_name()">{{operator_name}}</mat-slide-toggle>\n\n<div class="interruptor-background">\n    <div class="interruptor-selector-down"></div>\n</div>\n<br> --\x3e\n<div fxLayout="{{direction}}" fxLayoutAlign="center center" fxLayoutGap="5px">\n    <label>{{data.name[0]}}</label>\n    <div class="mat-interruptor-background{{classDireccion}}">\n        <div *ngIf="!operator;then content else other_content"></div>\n        <ng-template #content>\n            <div class="mat-interruptor-selector-up{{classDireccion}}" (click)="changeInterruptor()"></div>\n        </ng-template>\n        <ng-template #other_content>\n            <div class="mat-interruptor-selector-down{{classDireccion}}" (click)="changeInterruptor()"></div>\n        </ng-template>\n    </div>\n    <label>{{data.name[1]}}</label>\n</div>',styles:[".interruptor-background{width:1.01em;height:2.3em;border:.1em solid #000;border-radius:1em;position:relative;display:flex;flex-direction:row;justify-content:center;background:0 0;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.interruptor-selector-down,.interruptor-selector-up{width:.9em;height:.9em;border-radius:50%;position:absolute;left:.07em;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.interruptor-selector-up{top:.05em}.interruptor-selector-down{bottom:.05em}.mat-interruptor-background,.mat-interruptor-background-horizontal{width:.875em;height:2.3em;background-color:rgba(100,97,96,.5);border-radius:1em;position:relative;display:flex;flex-direction:row;justify-content:center;border:transparent}.mat-interruptor-background-horizontal{height:.875em;width:2.3em}.mat-interruptor-selector-down,.mat-interruptor-selector-down-horizontal,.mat-interruptor-selector-up,.mat-interruptor-selector-up-horizontal{width:1.3em;height:1.3em;border-radius:50%;position:absolute;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-interruptor-selector-up{top:-.1em}.mat-interruptor-selector-down{bottom:-.1em}.mat-interruptor-selector-up-horizontal{left:-.1em;top:-.22em}.mat-interruptor-selector-down-horizontal{right:-.1em;top:-.22em}.mat-interruptor-selector-down-horizontal:hover,.mat-interruptor-selector-down:hover,.mat-interruptor-selector-up-horizontal:hover,.mat-interruptor-selector-up:hover{cursor:pointer}.mat-interruptor-selector-down-horizontal:active,.mat-interruptor-selector-down:active,.mat-interruptor-selector-up-horizontal:active,.mat-interruptor-selector-up:active{cursor:-webkit-grabbing;cursor:grabbing;transition-duration:1s;box-shadow:0 0 2px 8px rgba(248,55,33,.26)}.mat-interruptor-selector-up:active{transform:translate3d(0,16px,0)}.interruptor-selector-down:active{transform:translate3d(0,0,16px)}.mat-interruptor-selector-up-horizontal:active{transform:translate3d(16px,0,0)}.mat-interruptor-selector-down-horizontal:active{transform:translate3d(0,0,0)}"]}]}],t.ctorParameters=function(){return[{type:Rn},{type:jn}]},t.propDecorators={data:[{type:e.Input}]},t}();var Jn=function(){function t(t){this.viewContainerRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[toco-Filter]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef}]},t}();var Bn=function(){function t(t,e){this.filterService=t,this.filterContainerService=e}return t.prototype.ngOnInit=function(){this.type=this.data.type,this.placeholder=this.data.placeholder,this.data.value=""},t.prototype.remove_component=function(){this.filterService.deleteParameter(this.data.field),this.filterContainerService.filterDeleted(this.data.index)},t.prototype.onChange=function(){this.filterService.changeFilter(this.data.field,this.data.value)},t.decorators=[{type:e.Component,args:[{selector:"toco-title-filter",template:'<mat-form-field class="card-filter">\n  <input matInput type="{{type}}" placeholder="{{placeholder}}" [(ngModel)]="data.value" required (keyup)="onChange()">\n  <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n    <mat-icon>close</mat-icon>\n  </button>\n</mat-form-field>\n',styles:[".card-filter{border:2px solid #e4e4e4;border-radius:5px;padding:5px .5em 0;position:relative;box-shadow:2px 3px 10px RGB(0,0,0,.053);width:15em;margin:.4em 0}.delete-filter{position:absolute;top:-1.9em;right:-1.4em;width:2em;height:2em}.delete-filter mat-icon{font-size:medium}"]}]}],t.ctorParameters=function(){return[{type:Rn},{type:jn}]},t.propDecorators={data:[{type:e.Input}]},t}();var zn=function(){function t(t,e){this.filterService=t,this.filterContainerService=e,this.type="",this.placeholder="",this.text="",this.multiple=!1,this.selectOptions=[""]}return t.prototype.ngOnInit=function(){this.data.type&&(this.type=this.data.type),this.data.placeholder&&(this.placeholder=this.data.placeholder),this.multiple&&(this.multiple=!0),this.data.selectOptions&&(this.selectOptions=this.data.selectOptions),this.data.value=""},t.prototype.remove_component=function(){this.filterService.deleteParameter(this.data.field),this.filterContainerService.filterDeleted(this.data.index)},t.prototype.optionSelect=function(){this.multiple,this.filterService.changeFilter(this.data.field,this.data.value)},t.decorators=[{type:e.Component,args:[{selector:"toco-select-filter-old",template:'<mat-form-field class="card-filter">\n\n  <ng-container *ngIf="multiple; else elseTemplate">\n    <mat-select placeholder="{{placeholder}}" [(ngModel)]="selectValue" multiple>\n        <mat-option *ngFor="let topping of selectOptions" [value]="topping" (click)="optionSelect()">{{topping}}</mat-option>\n      </mat-select>\n  </ng-container>\n  <ng-template #elseTemplate>\n    <mat-select placeholder="{{placeholder}}" [(ngModel)]="selectValue">\n        <mat-option *ngFor="let topping of selectOptions" [value]="topping" (click)="optionSelect()">{{topping}}</mat-option>\n      </mat-select>\n  </ng-template>\n\n  <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n    <mat-icon>close</mat-icon>\n  </button>\n</mat-form-field>',styles:[".card-filter{border:2px solid #e4e4e4;border-radius:5px;padding:5px .5em 0;position:relative;box-shadow:2px 3px 10px RGB(0,0,0,.053);width:15em;margin:.4em 0}.delete-filter{position:absolute;top:-1.9em;right:-1.4em;width:2em;height:2em}.delete-filter mat-icon{font-size:medium}"]}]}],t.ctorParameters=function(){return[{type:Rn},{type:jn}]},t.propDecorators={data:[{type:e.Input}]},t}();var qn=function(){function t(t,e){this.filterService=t,this.filterContainerService=e,this.type="",this.placeholder="",this.text="",this.multiple=!1,this.selectOptions=[],this.myControl=new V.FormControl,this.chipsList=[]}return t.prototype.ngOnInit=function(){var t=this;this.data.type&&(this.type=this.data.type),this.data.placeholder&&(this.placeholder=this.data.placeholder),this.multiple&&(this.multiple=!0),this.data.selectOptions&&(this.selectOptions=this.data.selectOptions),this.data.value="",this.filteredOptions=this.myControl.valueChanges.pipe(W.startWith(""),W.map((function(e){return t._filter(e)}))),this.inputId=this.placeholder.trim().toLowerCase()},t.prototype._filter=function(t){var e=t.toLowerCase();return this.selectOptions.filter((function(t){return t.name.toLowerCase().includes(e)}))},t.prototype.remove_component=function(){this.filterService.deleteParameter(this.data.field),this.filterContainerService.filterDeleted(this.data.index),this.filterService.changeAutocompleteFilter(this.data.idVocab,"OR")},t.prototype.optionSelect=function(){var t="OR";this.chipsList.forEach((function(e){t=t+","+e.id})),this.filterService.changeAutocompleteFilter(this.data.idVocab,t)},t.prototype.addChips=function(t){var e=this;this.chipsList.unshift(t),this.myControl.setValue(""),this.filteredOptions=this.myControl.valueChanges.pipe(W.startWith(""),W.map((function(t){return e._filter(t)}))),document.getElementById(this.inputId).blur(),this.optionSelect()},t.prototype.removeChip=function(t){this.chipsList.splice(t,1),this.optionSelect()},t.decorators=[{type:e.Component,args:[{selector:"toco-select-autocomplete-filter",template:'<div class="card-filter" >\n  <mat-form-field style="width: 100%;">\n    \n    <input type="text" placeholder="{{placeholder}}" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto" id="{{inputId}}">\n    <mat-autocomplete #auto="matAutocomplete" >\n      <mat-option *ngFor="let option of filteredOptions | async" [value]="option.name" (click)="addChips(option)" title="{{option.name}}">\n        {{option.name}}\n      </mat-option>\n    </mat-autocomplete>\n\n    <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n      <mat-icon>close</mat-icon>\n    </button>\n  </mat-form-field>\n  <mat-chip-list fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: .5em" id="chiplist">\n    <mat-chip *ngFor="let item of chipsList; let i=index" (click)="removeChip(i)">{{item.name}}</mat-chip>\n  </mat-chip-list>\n</div>',styles:[".card-filter{border:2px solid #e4e4e4;border-radius:5px;padding:5px .5em 0;position:relative;box-shadow:2px 3px 10px RGB(0,0,0,.053);width:15em;margin:.4em 0}.delete-filter{position:absolute;top:-1.9em;right:-1.4em;width:2em;height:2em}.delete-filter mat-icon{font-size:medium}.mat-option{line-height:35px;font-size:small;height:35px}#mat-chip-list-0>.mat-chip-list-wrapper{max-height:6em;overflow:auto}mat-chip{cursor:pointer}"]}]}],t.ctorParameters=function(){return[{type:Rn},{type:jn}]},t.propDecorators={data:[{type:e.Input}]},t}();var Hn=function(){function t(t,e){this.filterService=t,this.filterContainerService=e,this.checklistSelection=new Y.SelectionModel(!0),this.myControl=new V.FormControl,this.treeFlattener=new I.MatTreeFlattener(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new X.FlatTreeControl(this.getLevel,this.isExpandable),this.dataSource=new I.MatTreeFlatDataSource(this.treeControl,this.treeFlattener)}return t.prototype.ngOnInit=function(){var t=this;this.data.value="",this.dataSource.data=this.data.selectOptions,this.myControl.valueChanges.subscribe((function(e){t._filter(e)}),(function(t){}),(function(){})),this.inputId=this.data.placeholder.trim().toLowerCase()},t.prototype._filter=function(t){var e=this,n=t.toLowerCase();console.log(n);var o=this.data.selectOptions.filter((function(t){return e._include_node(n,t)}));this.dataSource.data=o,this._fix_selection()},t.prototype._include_node=function(t,e){var n,o;if(e.term.identifier.toLowerCase().includes(t))return!0;if(!e.children)return!1;try{for(var a=ot(e.children),r=a.next();!r.done;r=a.next()){var i=r.value;if(this._include_node(t,i))return!0}}catch(t){n={error:t}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return!1},t.prototype._fix_selection=function(){var t,e;try{for(var n=ot(this.treeControl.dataNodes),o=n.next();!o.done;o=n.next()){var a=o.value;console.log(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.remove_component=function(){this.filterService.deleteParameter(this.data.field),this.filterContainerService.filterDeleted(this.data.index)},t.prototype.onChange=function(){this.filterService.changeFilter(this.data.field,this.data.value)},t.prototype.emitSelection=function(){console.log(this.checklistSelection.selected);var t="OR";this.checklistSelection.selected.forEach((function(e){t=t+","+e.term.id})),this.filterService.changeAutocompleteFilter(this.data.idVocab.toString(10),t)},t.prototype.transformer=function(t,e){return{name:t.term.identifier,level:e,expandable:t.children.length>0,term:t.term}},t.prototype.getLevel=function(t){return t.level},t.prototype.isExpandable=function(t){return t.expandable},t.prototype.hasChild=function(t,e){return e.expandable},t.prototype.getChildren=function(t){return z.of(t.children)},t.prototype.descendantsAllSelected=function(t){var e=this;return this.treeControl.getDescendants(t).every((function(t){return e.checklistSelection.isSelected(t)}))},t.prototype.descendantsPartiallySelected=function(t){var e=this;return this.treeControl.getDescendants(t).some((function(t){return e.checklistSelection.isSelected(t)}))&&!this.descendantsAllSelected(t)},t.prototype.itemSelectionToggle=function(t){var e,n,o=this;this.checklistSelection.toggle(t);var a=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?(e=this.checklistSelection).select.apply(e,rt(a)):(n=this.checklistSelection).deselect.apply(n,rt(a)),a.every((function(t){return o.checklistSelection.isSelected(t)})),this.checkAllParentsSelection(t),this.emitSelection()},t.prototype.leafItemSelectionToggle=function(t){this.checklistSelection.toggle(t),this.checkAllParentsSelection(t),this.emitSelection()},t.prototype.checkAllParentsSelection=function(t){for(var e=this.getParentNode(t);e;)this.checkRootNodeSelection(e),e=this.getParentNode(e)},t.prototype.checkRootNodeSelection=function(t){var e=this,n=this.checklistSelection.isSelected(t),o=this.treeControl.getDescendants(t).every((function(t){return e.checklistSelection.isSelected(t)}));n&&!o?this.checklistSelection.deselect(t):!n&&o&&this.checklistSelection.select(t)},t.prototype.getParentNode=function(t){var e=this.getLevel(t);if(e<1)return null;for(var n=this.treeControl.dataNodes.indexOf(t)-1;n>=0;n--){var o=this.treeControl.dataNodes[n];if(this.getLevel(o)<e)return o}return null},t.prototype.removeChip=function(t){console.log(t)},t.decorators=[{type:e.Component,args:[{selector:"toco-tree-filter",template:'<div class="card-filter">\n  <input\n    type="text"\n    placeholder="{{ data.placeholder }}"\n    aria-label="Number"\n    matInput\n    [formControl]="myControl"\n    id="{{ inputId }}"\n  />\n\n  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="padd">\n    <mat-tree-node\n      class="hover"\n      *matTreeNodeDef="let node"\n      matTreeNodeToggle\n      matTreeNodePadding\n      fxLayout="row"\n      fxLayoutAlign="space-between center"\n    >\n      <div fxLayout="row" fxLayoutAlign="start center">\n        <button mat-icon-button disabled></button>\n        <mat-checkbox\n          class="checklist-leaf-node"\n          [checked]="checklistSelection.isSelected(node)"\n          (change)="leafItemSelectionToggle(node)"\n          matTooltip="{{ node.name }}"\n          >{{ node.name }}</mat-checkbox\n        >\n      </div>\n    </mat-tree-node>\n\n    <mat-tree-node\n      class="hover"\n      *matTreeNodeDef="let node; when: hasChild"\n      matTreeNodePadding\n    >\n      <button\n        mat-icon-button\n        matTreeNodeToggle\n        [attr.aria-label]="\'toggle \' + node.name"\n      >\n        <mat-icon class="mat-icon-rtl-mirror">\n          {{ treeControl.isExpanded(node) ? "expand_more" : "chevron_right" }}\n        </mat-icon>\n      </button>\n      <div\n        class="item-width"\n        fxLayout="row"\n        fxLayoutAlign="space-between center"\n      >\n        <mat-checkbox\n          [checked]="descendantsAllSelected(node)"\n          [indeterminate]="descendantsPartiallySelected(node)"\n          (change)="itemSelectionToggle(node)"\n          matTooltip="{{ node.name }}"\n          >{{ node.name }}</mat-checkbox\n        >\n      </div>\n    </mat-tree-node>\n  </mat-tree>\n\n  <button\n    mat-icon-button\n    color="accent"\n    class="delete-filter"\n    (click)="remove_component()"\n  >\n    <mat-icon>close</mat-icon>\n  </button>\n\n  <mat-chip-list\n    fxLayout="row"\n    fxLayoutAlign="start center"\n    style="margin-bottom: .5em"\n    id="chiplist"\n  >\n    <mat-chip\n      *ngFor="let item of chipsList; let i = index"\n      (click)="removeChip(i)"\n      >{{ item.name }}</mat-chip\n    >\n  </mat-chip-list>\n</div>\n',styles:[".card-filter{border:2px solid #e4e4e4;border-radius:5px;padding:5px .5em 0;position:relative;box-shadow:2px 3px 10px RGB(0,0,0,.053);width:15em;margin:.4em 0}.delete-filter{position:absolute;top:-1.9em;right:-1.4em;width:2em;height:2em}.delete-filter mat-icon{font-size:medium}"]}]}],t.ctorParameters=function(){return[{type:Rn},{type:jn}]},t.propDecorators={data:[{type:e.Input}]},t}();var Gn=function(){function t(t,n){this.componentFactoryResolver=t,this.childrenService=n,this.filter_url=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.filters_data=[],this.childrenService.emitter.subscribe((function(e){t.deleteFilter(e)}))},t.prototype.addFilter=function(t){var e=this.filters_data[t],n=this.adHost.viewContainerRef;e.pos=n.length;var o=this.newFilter(e),a=this.componentFactoryResolver.resolveComponentFactory(o.component);n.createComponent(a).instance.data=o.data,this.filters_data[t].is_enabled=!1},t.prototype.newFilter=function(t){t.viewContainerRef=this.adHost.viewContainerRef;var e=null;switch(t.type){case"select":e=new En(zn,t);break;case"boolean":e=new En(Mn,t);break;case"select-autocomplete":e=new En(qn,t);break;case"tree":e=new En(Hn,t);break;default:e=new En(Bn,t)}return e},t.prototype.deleteFilter=function(t){var e=this.filters_data[t].pos;this.adHost.viewContainerRef.remove(this.filters_data[t].pos),this.filters_data[t].pos=-1,this.filters_data[t].is_enabled=!0;for(var n=0;n<this.filters_data.length;n++)!this.filters_data[n].is_enabled&&this.filters_data[n].pos>e&&(this.filters_data[n].pos=this.filters_data[n].pos-1)},t.decorators=[{type:e.Component,args:[{selector:"toco-filter-container",template:'\x3c!-- <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutAlign.xs="center center" fxLayoutGap="1em" fxLayoutGap.xs="0"> --\x3e\n\n  <ng-template toco-Filter></ng-template>\n\n\x3c!-- </div> --\x3e\n\n<button mat-icon-button [matMenuTriggerFor]="menu">\n    <mat-icon>add</mat-icon>\n</button>\n  <mat-menu #menu="matMenu" >\n    <ng-container *ngFor="let item of filters_data,let i=index">\n        <ng-container *ngIf="item.is_enabled">\n          <button mat-menu-item (click)="addFilter(i)">\n            {{item.name}}\n          </button>\n        </ng-container>\n    </ng-container>\n    \n\n    \n  </mat-menu>',styles:[".width-100{width:100%}.mat-menu-item{height:37px}"]}]}],t.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:jn}]},t.propDecorators={filter_url:[{type:e.Output}],adHost:[{type:e.ViewChild,args:[Jn,{static:!0}]}]},t}();var Un=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Mn,Gn,qn,zn,Bn,Jn,Hn],entryComponents:[Mn,qn,zn,Bn,Hn],imports:[ut,V.ReactiveFormsModule],exports:[Mn,Gn,qn,zn,Bn,Jn,Hn],providers:[Rn,jn]}]}],t}();var Wn={left:"left",center:"center",right:"right",justify:"justify"},Xn={prefix:"matPrefix",suffix:"matSuffix",none:"none"},Yn={internal:"internal",external:"external"},$n=function(){function t(t,e,n){void 0===t&&(t=Yn.internal),void 0===e&&(e=Xn.prefix),void 0===n&&(n=un.defaultIconName),this.source=t,this.position=e,this.name=n,this.setDefaultValueIfUndefined()}return t.prototype.setDefaultValueIfUndefined=function(){null==this.source&&(this.source=Yn.internal),null==this.position&&(this.position=Xn.prefix),null==this.name&&(this.name=un.defaultIconName)},t.prototype.setDefaultValueIfUndefined_setPosition=function(t){null==this.source&&(this.source=Yn.internal),this.position=t,null==this.name&&(this.name=un.defaultIconName)},t}();var Kn={start:"start",end:"end",none:"none"},Qn=function(){function t(t,e){void 0===t&&(t=Kn.none),void 0===e&&(e=""),this.position=t,this.label=e,this.setDefaultValueIfUndefined()}return t.prototype.setDefaultValueIfUndefined=function(){null==this.position&&(this.position=Kn.none),null==this.label&&(this.label="")},t.prototype.setDefaultValueIfUndefined_setPosition=function(t){this.position=t,null==this.label&&(this.label="")},t}();var Zn={action_button:"action_button",container_panel:"container_panel",container_simple:"container_simple",container_label_diff_lang:"container_label_diff_lang",text:"text",textarea:"textarea",datepicker:"datepicker",checkbox:"checkbox",url:"url",email:"email",identifier:"identifier",issn:"issn",rnps:"rnps",vocabulary:"vocabulary",vocabulary_tree:"toco-vocabulary-tree",term_parent:"term_parent",select:"select",select_expr:"select_expr",select_filter:"select_filter",select_tree:"select_tree"};function to(t){return new V.FormControl(t.value,t.validator,t.asyncValidator)}function eo(t){var e,n;if(t instanceof V.FormGroup){var o=new V.FormGroup({},t.validator,t.asyncValidator);for(var a in t.controls)t.controls[a]instanceof V.FormControl?o.addControl(a,to(t.controls[a])):o.addControl(a,eo(t.controls[a]));return o}o=new V.FormArray([],t.validator,t.asyncValidator);try{for(var r=ot(t.controls),i=r.next();!i.done;i=r.next()){(a=i.value)instanceof V.FormControl?o.push(to(a)):o.push(eo(a))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o}var no=function(){function t(){this.contentPosition=Xn,this.iconSource=Yn,this.content=void 0,this.isTranslationBuiltByControl=!1}return t.prototype.setNewLanguage=function(e){t.currentLang=e.currentLang},t.prototype.init=function(e,n){if(void 0===n&&(n=""),null==this.content)throw new Error("For the '"+t.name+"' control, the 'content' value can not be undefined.");if(null==this.content.name)throw new Error("For the '"+t.name+"' control, the 'content.name' value can not be undefined.");if(null==this.content.controlType)throw new Error("For the '"+this.content.name+"' control, the 'content.controlType' value can not be undefined.");if(null==e){if(null==this.content.label)throw new Error("For the '"+this.content.name+"' control, the 'content.label' value can not be undefined. \n\n                    You can specify: \n\n                    - A default label value when overwriting the 'init' method in the component that represents the control. \n\n                    - A label value when defining the content object for the control.");e=this.content.label}else this.content.label&&(e=this.content.label);null==this.content.minWidth&&(this.content.minWidth="15em"),null==this.content.width&&(this.content.width=this.content.minWidth),null==this.content.label&&(this.content.label=e),null==this.content.placeholder&&(this.content.placeholder=n),null==this.content.textAlign&&(this.content.textAlign=Wn.left),null==this.content.ariaLabel&&(this.content.ariaLabel=e),null!=this.content.value&&this.initValue()},Object.defineProperty(t.prototype,"parentContainerControl",{get:function(){return this.content.parentContainerControl},enumerable:!0,configurable:!0}),t.prototype.addAsChildControl=function(t,e){this.content.parentContainerControl.content.containerControlChildren.push(t),this.content.parentContainerControl.isFormArray?this.content.parentFormSection.push(e):this.content.parentFormSection.addControl(this.content.name,e)},t.prototype.iconPositionState=function(t,e){return t.position==e},t.prototype.iconSourceState=function(t,e){return t.source==e},t.currentLang="",t.propDecorators={content:[{type:e.Input}]},t}();var oo={back:"back",cancel:"cancel",reset:"reset",delete:"delete",submit:"submit"};function ao(t){return!1}function ro(t){}var io=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.init=function(e,n,o){void 0===n&&(n=""),void 0===o&&(o=!0),t.prototype.init.call(this,e,n),null!=this.content.icon&&this.content.icon.setDefaultValueIfUndefined_setPosition(Xn.prefix),o&&null==this.content.tooltip&&(this.content.tooltip=new Qn(Kn.start,this.content.label)),null==this.content.isDisabled&&(this.content.isDisabled=ao),null==this.content.click&&(this.content.click=ro)},n.prototype.initValue=function(){},Object.defineProperty(n.prototype,"getInstance",{get:function(){return this},enumerable:!0,configurable:!0}),n.propDecorators={content:[{type:e.Input}]},n}(no);var so=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("","",!0)},n.decorators=[{type:e.Component,args:[{selector:"action-button",template:'\n\x3c!-- <button mat-icon-button --\x3e\n<button mat-raised-button\n\tclass="action-button"\n\tcolor="primary"\n\t[attr.aria-label]="content.ariaLabel"\n\t[matTooltip]="content.tooltip.label"\n\t[disabled]="content.isDisabled(getInstance)"\n\t(click)="content.click(getInstance)"\n>\n\t\x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n\t<mat-icon *ngIf="content.icon && iconSourceState(content.icon, iconSource.internal)" class="mat-icon notranslate" matPrefix [svgIcon]="content.icon.name"></mat-icon>\n\t<mat-icon *ngIf="content.icon && iconSourceState(content.icon, iconSource.external)" class="mat-icon notranslate" matPrefix>{{ content.icon.name }}</mat-icon>\n\t\x3c!-- <mat-icon>{{ content.icon.name }}</mat-icon> --\x3e\n\t{{ content.label }}\n</button>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n}(io),lo=function(){function t(){this.formFieldType=Zn,this.componentsContent=[]}return t.prototype.ngOnInit=function(){console.log("ComponentFactory_Depr componentsContent: ",this.componentsContent)},t.decorators=[{type:e.Component,args:[{selector:"component-factory-depr",template:'\n<div fxLayout="row wrap" fxLayout.xs="column"\nfxLayoutAlign="space-between end" fxLayoutAlign.xs="space-between center"\nfxLayoutGap="1em" class="form-field-component"\n>\n\n    <ng-container *ngFor="let componentContent of componentsContent" [ngSwitch]="componentContent.type">\n\n        \x3c!-- <ng-container \n            *ngSwitchCase="formFieldType.checkbox"\n            [formGroup]="componentContent.formGroup"\n        >\n            <mat-checkbox\n                [style.width]="componentContent.width"\n                [style.minWidth]="componentContent.minWidth"\n                [value]="componentContent.value"\n                (input)="$event.target.value"\n                name="{{ componentContent.name }}"\n                required="{{ componentContent.required }}"\n                [formControlName]="componentContent.name"\n            >\n                {{ componentContent.label }}\n            </mat-checkbox>\n        </ng-container> --\x3e\n\x3c!-- \n        <mat-form-field \n            *ngSwitchCase="formFieldType.textarea"\n            [style.width]="componentContent.width"\n            [style.minWidth]="componentContent.minWidth"\n            [formGroup]="componentContent.formGroup"\n        >\n            <textarea \n                matInput [value]="componentContent.value"\n                (input)="$event.target.value"\n                name="{{ componentContent.name }}"\n                placeholder="{{ componentContent.label }}"\n                required="{{ componentContent.required }}"\n                [formControlName]="componentContent.name"\n                minRows="20"\n            ></textarea>\n        </mat-form-field> --\x3e\n\n\n        \x3c!-- <mat-form-field \n            *ngSwitchCase="formFieldType.datepicker"\n            [style.width]="componentContent.width"\n            [formGroup]="componentContent.formGroup"\n        >\n            <input \n                matInput\n                [value]="componentContent.value"\n                (input)="$event.target.value"\n                [matDatepicker]="picker"\n                name="{{ componentContent.name }}"\n                placeholder="{{ componentContent.label }}"\n                required="{{ componentContent.required }}"\n                [formControlName]="componentContent.name"\n            >\n            <mat-datepicker-toggle\n                matSuffix [for]="picker"\n            ></mat-datepicker-toggle>\n            <mat-datepicker \n                #picker\n                startView="multi-year"\n            ></mat-datepicker>\n        </mat-form-field> --\x3e\n        <toco-checkbox *ngSwitchCase="formFieldType.datepicker" [content]="componentContent"></toco-checkbox>\n        <toco-datepicker *ngSwitchCase="formFieldType.datepicker" [content]="componentContent"></toco-datepicker>\n\n\n        <action-button *ngSwitchCase="formFieldType.action_button" [content]="componentContent"></action-button>\n\n\n        <container-panel *ngSwitchCase="formFieldType.container_panel" [content]="componentContent"></container-panel>\n\n        <container-simple *ngSwitchCase="formFieldType.container_simple" [content]="componentContent"></container-simple>\n\n\n        <container-label-diff-lang *ngSwitchCase="formFieldType.container_label_diff_lang" [content]="componentContent"></container-label-diff-lang>\n\n\n        <input-url *ngSwitchCase="formFieldType.url" [content]="componentContent"></input-url>\n        \n        <input-email *ngSwitchCase="formFieldType.email" [content]="componentContent"></input-email>\n\n        <input-identifier *ngSwitchCase="formFieldType.identifier" [content]="componentContent"></input-identifier>\n\n        <input-issn *ngSwitchCase="formFieldType.issn" [content]="componentContent"></input-issn>\n\n        <input-rnps *ngSwitchCase="formFieldType.rnps" [content]="componentContent"></input-rnps>\n\n        <input-select *ngSwitchCase="formFieldType.select" [content]="componentContent"></input-select>\n\n        <toco-vocabulary *ngSwitchCase="formFieldType.vocabulary" [content]="componentContent"></toco-vocabulary>\n\n        <toco-vocabulary-tree *ngSwitchCase="formFieldType.vocabulary_tree" [content]="componentContent"></toco-vocabulary-tree>\n        \n        <toco-term-parent *ngSwitchCase="formFieldType.term_parent" [content]="componentContent"></toco-term-parent>\n\n        <toco-textarea *ngSwitchCase="formFieldType.textarea" [content]="componentContent"></toco-textarea>\n\n        <toco-select *ngSwitchCase="formFieldType.select_expr" [content]="componentContent"></toco-select>\n\n        <toco-select-filter *ngSwitchCase="formFieldType.select_filter" [content]="componentContent"></toco-select-filter>\n\n        <toco-select-tree *ngSwitchCase="formFieldType.select_tree" [content]="componentContent"></toco-select-tree>\n\n        <input-text *ngSwitchDefault [content]="componentContent"></input-text>\n\n    </ng-container>\n\n</div>\n',styles:[".form-field-component{margin:5px}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={componentsContent:[{type:e.Input}]},t}();var co=function(t){function n(){var e=t.call(this)||this;return e._isFormArray=!1,e._formArrayPatternContent=[],e._formArrayPatternValue=void 0,e._formArrayLength=0,e}return et(n,t),n.getFormGroupByDefault=function(){return new V.FormGroup({},[])},n.getFormArrayByDefault=function(){return new V.FormArray([],[])},n.prototype.init=function(e,n){if(void 0===n&&(n=""),t.prototype.init.call(this,e,n),null==this.content.formSection)throw new Error("For the '"+this.content.name+"' control, the 'content.formSection' value can not be undefined; it must be a 'FormGroup' or 'FormArray' value.");if(null==this.content.formSectionContent||0==this.content.formSectionContent.length)throw new Error("For the '"+this.content.name+"' control, the 'content.formSectionContent' array can not be undefined, and must have at least one element.");if(this._isFormArray=this.content.formSection instanceof V.FormArray,this._isFormArray)null==this.content.isDynamic&&(this.content.isDynamic=!0),null==this.content.required&&(this.content.required=!1);else{if(null!=this.content.isDynamic)throw new Error("For the '"+this.content.name+"' control, the 'content.isDynamic' value must not exist because the 'content.formSection' value is a 'FormGroup'.");if(null!=this.content.required)throw new Error("For the '"+this.content.name+"' control, the 'content.required' value must not exist because the 'content.formSection' value is a 'FormGroup'.");if(null!=this.content.value)throw new Error("For the '"+this.content.name+"' control, the 'content.value' value must not exist because the 'content.formSection' value is a 'FormGroup'.")}if(this._viewContainerRef=this._componentHost.viewContainerRef,this._componentFactoryResolver=this._componentHost.componentFactoryResolver,this.content.containerControlChildren=[],this._isFormArray){if(null==this.content.value)throw new Error("The '"+this.content.name+"' control is constructed dynamically using 'FormArray'. Its 'content.value' array can not be undefined.");if(0==this.content.value.length&&!this.content.isDynamic&&this.content.required)throw new Error("The '"+this.content.name+"' control has not sense because its 'content.value' array length is zero, and its 'content.isDynamic' value is false, and its 'content.required' value is true.");this.initFormSectionContentToFormArray()}else this.setParentToChildren();null!=this.content.parentFormSection&&this.addAsChildControl(this,this.content.formSection),this.createChildComponents(this.content.formSectionContent)},n.prototype.initFormSectionContentToFormArray=function(){var t,e;this._formArrayPatternContent=this.content.formSectionContent,this.content.formSectionContent=[],this._formArrayPatternValue=this.createValueToUndefined(),this.content.required&&0==this.content.value.length&&(this.content.value[0]=this._formArrayPatternValue);try{for(var n=ot(this.content.value),o=n.next();!o.done;o=n.next()){var a=o.value;this._initElemFormSectionContentToFormArray(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},n.prototype.setParentToChildren=function(){this.content.formSectionContent.forEach(this.setParentToChild,this)},n.prototype.setParentToChild=function(t){t.parentContainerControl=this,t.parentFormSection=this.content.formSection},n.prototype.createValueToUndefined=function(){var t,e,n,o=!1;try{for(var a=ot(this._formArrayPatternContent),r=a.next();!r.done;r=a.next()){var i=r.value;if(i.formControl){if(o)throw new Error("For the '"+this.content.name+"' control, the 'content.formSectionContent' array can have one element only with the 'content.formControl' or 'content.formSection' field.");o=!0,n=void 0}else if(i.formSection){if(o)throw new Error("For the '"+this.content.name+"' control, the 'content.formSectionContent' array can have one element only with the 'content.formControl' or 'content.formSection' field.");o=!0,n=this._createValueToUndefined(i)}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}if(!o)throw new Error("For the '"+this.content.name+"' control, the 'content.formSectionContent' array must have one element only among all with the 'content.formControl' or 'content.formSection' field.");return n},n.prototype._createValueToUndefined=function(t){var e,n;if(t.formSection instanceof V.FormArray)return[];var o={};try{for(var a=ot(t.formSectionContent),r=a.next();!r.done;r=a.next()){var i=r.value;i.formControl?o[i.name]=void 0:i.formSection&&(o[i.name]=this._createValueToUndefined(i))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o},n.prototype._initElemFormSectionContentToFormArray=function(t){var e,n,o,a=[];try{for(var r=ot(this._formArrayPatternContent),i=r.next();!i.done;i=r.next()){var s=i.value;s.formSection instanceof V.FormArray?(o=this._cloneContent(s,void 0,!1)).value=t:o=this._cloneContent(s,t,!0),this.setParentToChild(o),o.name=this._formArrayLength.toString(10),s.formControl||s.formSection,this.content.formSectionContent.push(o),a.push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this._formArrayLength++,a},n.prototype._cloneContent=function(t,e,n){var o,a,r={};for(var i in t)switch(i){case"formControl":r[i]=to(t.formControl),r.value=e;break;case"formSection":r[i]=eo(t.formSection);break;case"formSectionContent":if(n){r[i]=[];try{for(var s=(o=void 0,ot(t.formSectionContent)),l=s.next();!l.done;l=s.next()){var c=l.value;c.formSection instanceof V.FormArray?(c.value=e[c.name],r[i].push(this._cloneContent(c,void 0,!1)),c.value=void 0):r[i].push(this._cloneContent(c,e[c.name],n))}}catch(t){o={error:t}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}}else r[i]=t.formSectionContent;break;default:r[i]=t[i]}return r},n.prototype.createChildComponents=function(t){var e,n;try{for(var o=ot(t),a=o.next();!a.done;a=o.next()){var r=a.value;this.createChildComponent(r)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},n.prototype.createChildComponent=function(t){this._cr=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(t.controlType)),this._cr.instance.content=t},n.prototype.initValue=function(){},Object.defineProperty(n.prototype,"getInstance",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"containerControlChildren",{get:function(){return this.content.containerControlChildren},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formArrayPatternContent",{get:function(){return this._formArrayPatternContent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formArrayPatternValue",{get:function(){return this._formArrayPatternValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDynamic",{get:function(){return this.content.isDynamic},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFormArray",{get:function(){return this._isFormArray},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0==this.content.formSectionContent.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRemoveFromFormArray",{get:function(){return this.content.required?this._formArrayLength>1:0!=this._formArrayLength},enumerable:!0,configurable:!0}),n.prototype.addToFormArray=function(){if(console.log("addToFormArray"),!this._isFormArray)throw new Error("For the '"+this.content.name+"' control, the 'content.formSection' value must be an instance of 'FormArray'.");this.createChildComponents(this._initElemFormSectionContentToFormArray(this._formArrayPatternValue))},n.prototype.removeFromFormArray=function(t){if(console.log("removeFromFormArray",t),!this._isFormArray)throw new Error("For the '"+this.content.name+"' control, the 'content.formSection' value must be an instance of 'FormArray'.");var e=this._formArrayPatternContent.length,n=void 0,o=void 0,a=void 0;for(this.content.containerControlChildren.splice(t,1),this.content.formSectionContent.splice(t*e,e),this.content.formSection.removeAt(t),n=e,o=t*e;0!=n;n--)this._viewContainerRef.remove(o);for(this._formArrayLength--,a=(n=t*e)+e,o=this.content.formSectionContent.length;n<o;n++)n==a&&(t++,a+=e),this.content.formSectionContent[n].name=t.toString(10)},n.prototype.clearFormArray=function(){if(console.log("clearFormArray"),!this._isFormArray)throw new Error("For the '"+this.content.name+"' control, the 'content.formSection' value must be an instance of 'FormArray'.");this.content.containerControlChildren=[],this.content.formSectionContent=[],this.content.formSection.clear(),this._viewContainerRef.clear(),this._formArrayLength=0,this.content.required&&this.addToFormArray()},n.propDecorators={content:[{type:e.Input}],_componentHost:[{type:e.ViewChild,args:[Ve,{static:!0}]}]},n}(no);var uo=function(t){function n(){var e=t.call(this)||this;return e.useAccordion=!0,e.useContainer=!0,e.actionButtonIsStepperNext=!1,e.deleteValuesAfterAction=!0,e.step=0,e}return et(n,t),n.prototype.setFormGroupToPanels=function(){this.panelsContent.forEach((function(t){t.formSection=t.formSection}))},n.prototype.ngOnInit=function(){console.log("on INIT call",this.panelsContent),this.panelsContent.length>0&&(this.content={formSection:this.panelsContent[0].formSection,name:"FormContainerComponent",label:"FormContainerComponent_Label",type:void 0,value:"FormContainerComponent",ariaLabel:"FormContainerComponent",formSectionContent:this.panelsContent[0].formSectionContent}),this.init(void 0),this.setFormGroupToPanels()},n.prototype.ngOnChanges=function(){console.log("on CHANGES call",this.panelsContent),this.ngOnInit()},n.prototype.setStep=function(t){this.step=t},n.prototype.nextStep=function(){this.step++},n.prototype.prevStep=function(){this.step--},n.prototype.doAction=function(){var t={};this.panelsContent.forEach((function(e){e.formSectionContent.forEach((function(e){t[e.name]=e.value}))})),this.action&&this.action.doit(t),this.deleteValuesAfterAction&&this.panelsContent.forEach((function(t){t.formSectionContent.forEach((function(t){t.value=void 0}))}))},n.decorators=[{type:e.Component,args:[{selector:"toco-form-container",template:'\n<ng-container *ngIf="(panelsContent)">\n\n    <ng-container *ngIf="useContainer">\n        <mat-accordion *ngIf="(useAccordion)" class="toco-form-container" multi="true">\n\n            <mat-expansion-panel *ngFor="let panel of panelsContent; let newStep = index; let count=count"\n                [expanded]="panel.open" (opened)="setStep(newStep)">\n        \n                <mat-expansion-panel-header>\n                    <mat-panel-title>\n                        {{ panel.title }}\n                    </mat-panel-title>\n                    <mat-panel-description>\n                        {{ panel.description }}\n                        <mat-icon>{{ panel.iconName }}</mat-icon>\n                    </mat-panel-description>\n                </mat-expansion-panel-header>\n        \n                <component-factory-depr [componentsContent]="panel.formSectionContent"></component-factory-depr>\n        \n                <mat-action-row *ngIf="panel.actionLabel">\n                    \x3c!-- <button mat-button *ngIf="newStep > 0" color="warn" (click)="prevStep()">Anterior</button>\n                    <button mat-button *ngIf="newStep != count-1" color="primary" (click)="nextStep()">Siguente</button> --\x3e\n        \n                    <button *ngIf="panel.actionLabel" mat-button color="accent" (click)="panel.action.doit(newStep)">{{ panel.actionLabel }}</button>\n                    \x3c!-- <button *ngIf="i == l-1 && actionButtonIsStepperNext" mat-button matStepperNext color="primary" (click)="doAction()">{{actionLabel}}</button> --\x3e\n                </mat-action-row>\n\n            </mat-expansion-panel>\n\n            <button *ngIf="actionLabel" mat-raised-button color="primary" (click)="doAction()">{{actionLabel}}</button>\n        </mat-accordion>\n        \n        <div *ngIf="(!useAccordion)" class="toco-form-container">\n            <div *ngFor="let panel of panelsContent; let i=index; let count=count">\n                <mat-card [ngStyle]="{\'margin-bottom\': \'1em\'}">\n                    <mat-card-header>\n                        <mat-card-title>\n                            {{ panel.title }}\n                        </mat-card-title>\n                        <mat-card-subtitle *ngIf="panel.description">\n                            {{ panel.description }}\n                            <mat-icon>{{ panel.iconName }}</mat-icon>\n                        </mat-card-subtitle>\n                    </mat-card-header>\n            \n                    <mat-card-content>\n                        <component-factory-depr [componentsContent]="panel.formSectionContent"></component-factory-depr>\n                    </mat-card-content>\n            \n                    <mat-card-actions *ngIf="i == count-1 && actionLabel" fxLayout="row" fxLayoutAlign="end center">\n                        <button mat-button color="primary" (click)="doAction()">{{ actionLabel }}</button>\n                    </mat-card-actions>\n                </mat-card>\n            </div>\n        </div>\n    </ng-container>\n\n    <div fxLayout="column" *ngIf="!useContainer">\n        <div *ngFor="let panel of panelsContent; let i=index; let count=count" class="toco-form-container">\n            <component-factory-depr [componentsContent]="panel.formSectionContent"></component-factory-depr>\n        </div>\n        <div  *ngIf="actionLabel" fxLayout="row" fxLayoutAlign="end center">\n            <button mat-button color="primary" (click)="doAction()">{{ actionLabel }}</button>\n        </div>\n    </div>\n\n</ng-container>\n',styles:[".toco-form-container{width:100%;margin-bottom:1em}"]}]}],n.ctorParameters=function(){return[]},n.propDecorators={panelsContent:[{type:e.Input}],useAccordion:[{type:e.Input}],useContainer:[{type:e.Input}],actionButtonIsStepperNext:[{type:e.Input}],action:[{type:e.Input}],actionLabel:[{type:e.Input}],deleteValuesAfterAction:[{type:e.Input}]},n}(co);var po=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("")},n.prototype.init=function(e){t.prototype.init.call(this,e)},n.decorators=[{type:e.Component,args:[{selector:"container-panel",template:'<mat-card\n  class="container-panel-mat-card"\n  [formGroup]="content.formSection"\n  [attr.aria-label]="content.ariaLabel"\n>\n  <mat-card-header>\n    <mat-card-title *ngIf="content.label">\n      {{ content.label }}\n    </mat-card-title>\n    <mat-card-subtitle *ngIf="content.description">\n      {{ content.description }}\n      <mat-icon>{{ content.iconName }}</mat-icon>\n    </mat-card-subtitle>\n  </mat-card-header>\n\n  <mat-card-content\n    fxLayout="row wrap"\n    fxLayout.xs="column"\n    fxLayoutAlign="space-between end"\n    fxLayoutAlign.xs="space-between center"\n    fxLayoutGap="1em"\n    class="form-field-component"\n  >\n    <ng-template get-view-container></ng-template>\n  </mat-card-content>\n\n  <mat-card-actions *ngIf="content.isDynamic">\n    <button mat-raised-button color="primary" (click)="addToFormArray()">\n      \x3c!-- <mat-icon>add box</mat-icon> --\x3e\n      <mat-icon>add_circle</mat-icon>\n      Add new item\n    </button>\n    <button\n      mat-raised-button\n      color="primary"\n      [disabled]="!canRemoveFromFormArray"\n      (click)="clearFormArray()"\n    >\n      \x3c!-- <mat-icon>remove box</mat-icon> --\x3e\n      <mat-icon>remove_circle</mat-icon>\n      Clear all\n    </button>\n  </mat-card-actions>\n</mat-card>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n.propDecorators={content:[{type:e.Input}]},n}(co);var mo=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("")},n.prototype.init=function(e){t.prototype.init.call(this,e)},n.decorators=[{type:e.Component,args:[{selector:"container-simple",template:'\n\x3c!-- TODO: En dependencia del valor de `appearance`, se aplican las clases CSS para lograr la apariencia deseada. \n     Actualmente, `appearance = \'outline\'` es el único que está hecho. --\x3e\n<fieldset class="container-simple-form-field" [formGroup]="content.formSection" [attr.aria-label]="content.ariaLabel">\n    <legend class="container-simple-form-field-legend">{{ content.label }}</legend>\n\n    <ng-template get-view-container></ng-template>\n\n    <ng-container *ngIf="content.isDynamic">\n        <button mat-raised-button color="primary" (click)="addToFormArray()">\n            \x3c!-- <mat-icon>add box</mat-icon> --\x3e\n            <mat-icon>add_circle</mat-icon>\n            Add new item\n        </button>\n        <button mat-raised-button color="primary" [disabled]="!canRemoveFromFormArray" (click)="clearFormArray()">\n            \x3c!-- <mat-icon>remove box</mat-icon> --\x3e\n            <mat-icon>remove_circle</mat-icon>\n            Clear all\n        </button>\n    </ng-container>\n\n</fieldset>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".container-simple-form-field{margin:-4px 0 24px;padding:0 10px 14px;cursor:default;background-color:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px}.container-simple-form-field-legend{padding:0 4px;background-color:#fff;color:rgba(0,0,0,.6);font-size:10px}"]}]}],n.ctorParameters=function(){return[]},n}(co),ho={break:0,ellipsis:1,responsible:2};ho[ho.break]="break",ho[ho.ellipsis]="ellipsis",ho[ho.responsible]="responsible";var fo=function(){function t(t,e){this._router=t,this._activatedRoute=e,this._countBackendSubscriptions=0,this._page=new z.Subject,this._pageAsObservable=this._page.asObservable(),this._dataSource=new I.MatTableDataSource,this._selectedRow=void 0,this._filterValuesChange=new z.Subject,this._filterValues={},this._filterValuesSubscription={},this._renderChangesSubscription=z.Subscription.EMPTY}return t.prototype.ngOnInit=function(){null==this._content&&this.init()},t.prototype.ngOnDestroy=function(){var t=this;Object.keys(this._filterValuesSubscription).forEach((function(e){t._filterValuesSubscription[e].unsubscribe()})),this._renderChangesSubscription.unsubscribe()},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this._dataSource.data.length},enumerable:!0,configurable:!0}),t.prototype.init=function(){this._initContent(),this._updateChangeSubscription()},t.prototype._initContent=function(){null==this._content&&(this._content={}),null==this._content.columnsObjectProperty&&(this._content.columnsObjectProperty=[]),null==this._content.columnsHeaderText&&(this._content.columnsHeaderText=[]),null==this._content.columnsWidth&&(this._content.columnsWidth=[]),null==this._content.columnContentWrap&&(this._content.columnContentWrap=[]),null==this._content.createCssClassesForRow&&(this._content.createCssClassesForRow=this.defaultCreateCssClassesForRow.bind(this)),null==this._content.propertyNameToIdentify&&(this._content.propertyNameToIdentify=""),null==this._content.filter&&(this._content.filter={}),null==this._content.sort&&(this._content.sort={active:this._content.propertyNameToIdentify,direction:nn.asc}),null==this._content.length&&(this._content.length=0),null==this._content.pageIndex&&(this._content.pageIndex=0),null==this._content.pageSize&&(this._content.pageSize=50),null==this._content.pageSizeOptions&&(this._content.pageSizeOptions=[10,20,50]),null==this._content.hidePageSize&&(this._content.hidePageSize=!1),null==this._content.showFirstLastButtons&&(this._content.showFirstLastButtons=!1),this.checkColumn()},t.prototype._updateFilter=function(){var t=this;Object.keys(this._content.filter).forEach((function(e){t._filterValues[e]=t._content.filter[e].content.formControl.value,null!=t._filterValuesSubscription[e]&&t._filterValuesSubscription[e].unsubscribe(),t._filterValuesSubscription[e]=t._content.filter[e].content.formControl.valueChanges.pipe(W.debounceTime(500),W.distinctUntilChanged()).subscribe((function(n){t.applyFilter(e,n)}))}))},t.prototype._updateSort=function(t){this._content.sort.active=t.active,this._content.sort.direction=t.direction},t.prototype._setMatSortInitialValue=function(){this._sort.active=this._content.sort.active,this._sort.direction=this._content.sort.direction},t.prototype._updatePaginator=function(t){this._content.length=t.totalData||t.length,this._content.pageIndex=t.pageIndex,this._content.pageSize=t.pageSize},t.prototype._disabledSortPaginator=function(t){this._sort.disabled=t,this._paginator.disabled=t},t.prototype._updateChangeSubscription=function(){var t=this;null!=this._content.endpoint&&(this._renderChangesSubscription.unsubscribe(),this._updateFilter(),this._setMatSortInitialValue(),this._renderChangesSubscription=z.combineLatest([this._filterValuesChange.pipe(W.startWith(this._filterValues)),this._sort.sortChange.pipe(W.startWith(this._content.sort)),this._paginator.page.pipe(W.startWith({pageIndex:this._content.pageIndex,pageSize:this._content.pageSize,length:0}))]).pipe(W.switchMap((function(e){var n=at(e,3),o=n[0],a=n[1],r=n[2];return t._countBackendSubscriptions++,console.log("Call _countBackendSubscriptions: ",t._countBackendSubscriptions),t._setDataBeforeCallEndpoint(a,r),t._content.endpoint({filter:o,sort:a,paginator:r}).pipe(W.finalize((function(){t._countBackendSubscriptions--})))}))).subscribe((function(e){t._setDataAfterCallEndpoint(e),t._page.next(e)})))},t.prototype.defaultCreateCssClassesForRow=function(t){return{"selected-row":t[this._content.propertyNameToIdentify]==this._selectedRow}},t.prototype._createCssStylesForHeader=function(t){var e={};return this._addCssStyles_CellWidth(e,t),e},t.prototype._createCssStylesForCell=function(t){var e={};return this._addCssStyles_CellWidth(e,t),this._addCssStyles_CellContentWrap(e,t),e},t.prototype._addCssStyles_CellWidth=function(t,e){t.flex="0 0 "+this._content.columnsWidth[e],t.width=this._content.columnsWidth[e]},t.prototype._addCssStyles_CellContentWrap=function(t,e){switch(this._content.columnContentWrap[e]){case ho.break:t["word-wrap"]="break-word"/*!important*/,t["white-space"]="unset"/*!important*/,t["overflow-wrap"]="break-word",t["word-break"]="break-word",t["-ms-hyphens"]="auto",t["-moz-hyphens"]="auto",t["-webkit-hyphens"]="auto",t.hyphens="auto";break;case ho.ellipsis:t.overflow="hidden",t["text-overflow"]="ellipsis",t["white-space"]="nowrap"}},Object.defineProperty(t.prototype,"isLoading",{get:function(){return 0!=this._countBackendSubscriptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRow",{get:function(){return this._selectedRow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.init()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._pageAsObservable},enumerable:!0,configurable:!0}),t.prototype._setDataBeforeCallEndpoint=function(t,e){this._dataSource.data=[],this._updateSort(t),this._updatePaginator(e),this._disabledSortPaginator(!1)},t.prototype._setDataAfterCallEndpoint=function(t){this._dataSource.data=t.data,this._updatePaginator(t),this._disabledSortPaginator(this.isEmpty)},Object.defineProperty(t.prototype,"_getDataSource",{get:function(){return this.isEmpty?t._defaultDataSource:this._dataSource},enumerable:!0,configurable:!0}),t.prototype.checkColumn=function(){var t=this._content.columnsObjectProperty.length;0!=t&&t==this._content.columnsHeaderText.length&&t==this._content.columnsWidth.length&&t==this._content.columnContentWrap.length||console.warn("The 'columnsObjectProperty', 'columnsHeaderText', 'columnsWidth' and 'columnContentWrap' arrays must be different of empty, and must have the same amount of elements.")},t.prototype.navigateTo=function(t,e){this.selectRow(e),this._router.navigate([e[this._content.propertyNameToIdentify],t],{relativeTo:this._activatedRoute})},t.prototype.selectRow=function(t){this._selectedRow=t[this._content.propertyNameToIdentify]},t.prototype.applyFilters=function(t){this._filterValues=nt({},this._filterValues,t),this._filterValuesChange.next(this._filterValues)},t.prototype.applyFilter=function(t,e){this._filterValues=nt({},this._filterValues),this._filterValues[t]=e,this._filterValuesChange.next(this._filterValues)},t._defaultDataSource=new I.MatTableDataSource([{}]),t.decorators=[{type:e.Component,args:[{selector:"toco-table",template:'\n<table mat-table matSort class="mat-elevation-z8" [dataSource]="_getDataSource" multiTemplateDataRows>\n\n    \x3c!-- The content that is showed when the `dataSource` is not empty. --\x3e\n    <ng-container *ngFor="let column of content.columnsObjectProperty; let pos = index" [matColumnDef]="column">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header [ngStyle]="_createCssStylesForHeader(pos)">\n            {{ content.columnsHeaderText[pos] }}\n        </th>\n\n        <td mat-cell [ngClass]="content.createCssClassesForRow(element)" *matCellDef="let element" [ngStyle]="_createCssStylesForCell(pos)">\n            \x3c!-- Adds the notification icon in the first column if there is \'version to review\'. --\x3e\n            <mat-icon *ngIf="pos == 0 && element[content.columnsObjectProperty[2]]" class="mat-cell-mat-icon">new_releases</mat-icon>\n            \x3c!-- Adds the cell text if is not the third column. --\x3e\n            <ng-container *ngIf="pos != 2">{{ element[column] }}</ng-container>\n            \x3c!-- Adds the view and edit buttons in the third column. --\x3e\n            <div *ngIf="pos == 2" class="div-mat-button-actions">\n                <ng-container *ngIf="content.actions">\n                    <button \n                        *ngFor="let action of content.actions"\n                        mat-icon-button class="div-mat-button" \n                        [attr.aria-label]="action.tooltip" \n                        (click)="navigateTo(action.route, element)"\n                        matTooltip="{{ action.tooltip }}"\n                    >\n                        <mat-icon>{{ action.icon }}</mat-icon>\n                    </button>\n                </ng-container>\n                 \n                \x3c!-- <button mat-icon-button class="div-mat-button" [attr.aria-label]="\'Show the data\'" (click)="navigateTo(element[content.propertyNameToIdentify], element)">\n                    <mat-icon>description</mat-icon>\n                </button>\n                <button mat-icon-button class="div-mat-button" [attr.aria-label]="\'Edit the data\'" (click)="navigateTo(\'edit\', element)">\n                    <mat-icon>edit</mat-icon>\n                </button> --\x3e\n\n            </div>\n        </td>\n    </ng-container>\n\n    \x3c!-- The `otherInformation` represents the content that is showed when the `dataSource` is empty \n         or the `dataSource` is loading. The information row is made up of this one column that spans \n         across all columns. --\x3e\n    <ng-container [matColumnDef]="\'otherInformation\'">\n        <td mat-cell *matCellDef="let element" [attr.colspan]="content.columnsObjectProperty.length">\n            <ng-container *ngIf="isLoading; then thenTemplate_IsLoading; else elseTemplate_IsEmpty"></ng-container>\n            \n            <ng-template #thenTemplate_IsLoading>\n                <mat-progress-spinner class="loading-table-information" mode="indeterminate"></mat-progress-spinner>\n            </ng-template>\n\n            <ng-template #elseTemplate_IsEmpty>\n                <div class="empty-table-information">There is not any data source!</div>\n            </ng-template>\n        </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef="content.columnsObjectProperty; sticky: true"></tr>\n    \x3c!-- When it is `loading`, it is `empty`, too. --\x3e\n    <ng-container *ngIf="isEmpty; then thenTemplate_OtherInformation; else elseTemplate_IsNotEmpty"></ng-container>\n\n    <ng-template #thenTemplate_OtherInformation>\n        <tr mat-row class="row-other-information" *matRowDef="let row; columns: [\'otherInformation\']"></tr>\n    </ng-template>\n\n    <ng-template #elseTemplate_IsNotEmpty>\n        <tr mat-row class="row-data" *matRowDef="let row; columns: content.columnsObjectProperty;" (click)="selectRow(row)"></tr>\n    </ng-template>\n\n</table>\n\n<mat-paginator\n    [length]="content.length"\n    [pageIndex]="content.pageIndex"\n    [pageSize]="content.pageSize"\n    [pageSizeOptions]="content.pageSizeOptions"\n    [hidePageSize]="content.hidePageSize"\n    [showFirstLastButtons]="content.showFirstLastButtons">\n</mat-paginator>\n',styles:['table{table-layout:fixed;width:100%;padding:2em 1em 0}tr.mat-header-row{height:54px}tr.mat-footer-row,tr.mat-row{height:46px}.div-mat-button-actions{display:inline-block;margin-bottom:5px}.div-mat-button{margin-top:5px;margin-right:5px;vertical-align:middle;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-cell-mat-icon{margin-top:5px;margin-right:5px;margin-bottom:5px;vertical-align:middle}th{padding-right:10px!important;padding-left:10px!important;background-color:#f5f7f7!important;border-top:1px solid #bdc3c7;border-bottom:1px solid transparent}td:first-of-type,th:first-of-type{border-left:1px solid #bdc3c7}td:last-of-type,th:last-of-type{border-right:1px solid #bdc3c7}th:not(:last-of-type)::before{content:" ";position:absolute;top:0;right:0;height:28px;margin-top:12px;text-indent:-2000px;border-right:1px solid #bdc3c7;outline:0}td{padding-right:10px!important;padding-left:10px!important;border-top:1px solid transparent;border-right:1px solid transparent;border-left:1px solid transparent;border-bottom:1px solid #d9dcde;transition:.3s ease-out}tr:first-of-type td{border-top:1px solid #bdc3c7}tr:last-of-type td{border-bottom:1px solid #bdc3c7}td.new-release{color:#f83821}td.selected-row{background-color:#d7d7d7!important;color:#10f!important;border-top:1px solid #10f!important;border-right:1px solid #10f!important;border-bottom:1px solid #10f!important}td.selected-row:first-of-type{border-left:1px solid #10f!important}.loading-table-information{margin:3em auto;cursor:default}.empty-table-information{margin:6em 0;text-align:center;cursor:default}tr.row-data{cursor:pointer}tr.row-data:hover td{background-color:#eee;border-top:1px solid #10f;border-right:1px solid #10f;border-bottom:1px solid #10f}tr.row-data:hover td:first-of-type{border-left:1px solid #10f}tr.row-data:active{background-color:#eee}:host ::ng-deep .mat-sort-header-container{justify-content:center}th.mat-sort-header-sorted{color:#f01}']}]}],t.ctorParameters=function(){return[{type:B.Router},{type:B.ActivatedRoute}]},t.propDecorators={_sort:[{type:e.ViewChild,args:[I.MatSort,{static:!0}]}],_paginator:[{type:e.ViewChild,args:[I.MatPaginator,{static:!0}]}],content:[{type:e.Input}]},t}();var go=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init(void 0)},n.prototype.init=function(e){t.prototype.init.call(this,e)},n.decorators=[{type:e.Component,args:[{selector:"container-label-diff-lang",template:'\n\x3c!-- TODO: En dependencia del valor de `appearance`, se aplican las clases CSS para lograr la apariencia deseada. \n     Actualmente, `appearance = \'outline\'` es el único que está hecho. --\x3e\n<fieldset class="container-simple-form-field" [formGroup]="content.formSection" [attr.aria-label]="content.ariaLabel">\n    <legend class="container-simple-form-field-legend">{{ content.label }}</legend>\n\n    <ng-template get-view-container></ng-template>\n    \x3c!-- <button mat-raised-button color="primary" (click)="content.parentFormSection.removeFromFormArray(content.name)">\n        <mat-icon>remove_circle</mat-icon>\n    </button> --\x3e\n\n</fieldset>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".container-simple-form-field{margin:-4px 0 0;padding:0 12px;cursor:default;background-color:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px}.container-simple-form-field-legend{padding:0 4px;background-color:#fff;color:rgba(0,0,0,.6);font-size:10px}"]}]}],n.ctorParameters=function(){return[]},n}(co),yo={standard:"standard",fill:"fill",outline:"outline"};var bo=function(t){function n(){var e=t.call(this)||this;return e.validationError_required="",e}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl("",[])},n.prototype.setNewLanguage=function(e){t.prototype.setNewLanguage.call(this,e),e.get("TOCO_NG_ERROR_MSG_REQUERIDO").subscribe((function(t){n.toco_ng_Error_Msg_Requerido=t}))},n.prototype.init=function(e,n,o,a){if(void 0===n&&(n=""),void 0===o&&(o=!1),void 0===a&&(a=!0),t.prototype.init.call(this,e,n),null==this.content.formControl){if(null==this.internalComponent)throw new Error("For the '"+this.content.name+"' control, the 'content.formControl' value can not be undefined; it must be a 'FormControl' value.");this.content.formControl=this.internalComponent.formControl}this.validationError_required="TOCO_NG_ERROR_MSG_REQUERIDO",null==this.content.required&&(this.content.required=!1),null==this.content.appearance&&(this.content.appearance=yo.standard),null!=this.content.prefixIcon&&this.content.prefixIcon.setDefaultValueIfUndefined_setPosition(Xn.prefix),null!=this.content.suffixIcon&&this.content.suffixIcon.setDefaultValueIfUndefined_setPosition(Xn.suffix),a&&null==this.content.startHint&&null==this.content.endHint?this.content.startHint=new Qn(Kn.start,"TOCO_NG_HINT_TEXTO_POR_DEFECTO"):(null!=this.content.startHint&&this.content.startHint.setDefaultValueIfUndefined_setPosition(Kn.start),null!=this.content.endHint&&this.content.endHint.setDefaultValueIfUndefined_setPosition(Kn.end)),null!=this.content.parentFormSection&&(console.log("addAsChildControl(this.content.formControl)"),this.addAsChildControl(this,this.content.formControl))},n.prototype.initValue=function(){this.content.formControl.setValue(this.content.value),this.content.formControl.markAsTouched({onlySelf:!0})},Object.defineProperty(n.prototype,"getInstance",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return null==this.internalComponent?G.isNullOrUndefined(this.content.formControl.value)||""===this.content.formControl.value:this.internalComponent.empty},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hintState",{get:function(){return this.empty},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"errorState",{get:function(){return null==this.internalComponent?this.content.formControl.invalid&&(this.content.formControl.dirty||this.content.formControl.touched):this.internalComponent.errorState},enumerable:!0,configurable:!0}),n.prototype.handleInput=function(){this.handleSpecificInput(),this.errorState||(this.content.value=this.content.formControl.value),this.content.formControl.untouched&&this.content.formControl.markAsTouched({onlySelf:!0})},Object.defineProperty(n.prototype,"getDefaultValue",{get:function(){return""},enumerable:!0,configurable:!0}),n.prototype.getErrorMessage=function(){if(null!=this.internalComponent)return this.internalComponent.getErrorMessage();var t=this.content.formControl.errors;return t&&t[V.Validators.required.name]?this.isTranslationBuiltByControl?n.toco_ng_Error_Msg_Requerido:this.validationError_required:""},n.prototype.handleSpecificInput=function(){},n.toco_ng_Error_Msg_Requerido="",n.propDecorators={content:[{type:e.Input}],internalComponent:[{type:e.ViewChild,args:["internalComponent",{static:!0}]}]},n}(no);var vo=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("","",!1,!0),this.onSelectionChange()},n.prototype.init=function(e,n,o,a){if(void 0===n&&(n=""),t.prototype.init.call(this,e,n,o,a),!G.isBoolean(this.content.value)&&!G.isNullOrUndefined(this.content.value))throw new Error("For the '"+this.content.name+"' control, the 'content.value' value must have a boolean type.");null!=this.content.startHint?"TOCO_NG_HINT_TEXTO_POR_DEFECTO"==this.content.startHint.label&&(this.content.startHint.label="TOCO_NG_HINT_TEXTO_SELECC_POR_DEFECTO"):this.content.startHint=new Qn(Kn.start,"TOCO_NG_HINT_TEXTO_SELECC_POR_DEFECTO")},n.prototype.onSelectionChange=function(){this.content.extraContent&&this.content.extraContent.selectionChange&&this.content.extraContent.selectionChange(this.content.formControl.value)},n.decorators=[{type:e.Component,args:[{selector:"input-bool",template:'\n<mat-form-field\n\tclass="select-mat-form-field"\n\t[appearance]="content.appearance"\n>\n\n\t<mat-label>\n\t\t{{ content.label | translate }}\n\t</mat-label>\n\n\t<mat-select\n\t\t[formControl]="content.formControl"\n\t\t[required]="content.required"\n\t\t[style.textAlign]="content.textAlign"\n\t\t[attr.aria-label]="content.ariaLabel | translate"\n\t\t[(value)]="content.value"\n\t\t[multiple]="\'false\'"\n\t\t(selectionChange)="onSelectionChange()"\n\t>\n\t\t<mat-option [value]="true">\n\t\t\t{{ \'TOCO_NG_VERDADERO\' | translate }}\n\t\t</mat-option>\n\t\t<mat-option [value]="false">\n\t\t\t{{ \'TOCO_NG_FALSO\' | translate }}\n\t\t</mat-option>\n\t</mat-select>\n\n\t<mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".select-mat-form-field{width:100%}"]}]}],n.ctorParameters=function(){return[]},n}(bo),xo=function(){function t(t){this.email=t}return t.prototype.toString=function(){return t.email_Label+" "+this.email},t.email_Label="Email",t.email_Placeholder="nick@gmail.com",t}();var _o=function(t){function n(){return t.call(this)||this}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl("",[V.Validators.email])},n.prototype.ngOnInit=function(){this.init(xo.email_Label,xo.email_Placeholder,!1,!0)},n.prototype.getErrorMessage=function(){var t=this.content.formControl.errors;return t?t[V.Validators.required.name]?this.validationError_required:"TOCO_NG_ERROR_MSG_CORREO_INVAL":""},n.decorators=[{type:e.Component,args:[{selector:"input-email",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[]},n}(bo),Co=function(){function t(t){this.identifier=t}return t.prototype.toString=function(){return t.identifier_Label+" "+this.identifier},t.identifier_Label="TOCO_NG_ID",t}();var wo=function(t){function n(){return t.call(this)||this}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl("",[t&&t.pattern?V.Validators.pattern(t.pattern):V.Validators.pattern("^[a-zA-Z-_]*$")])},n.prototype.ngOnInit=function(){this.init(Co.identifier_Label,"",!1,!0)},n.prototype.getErrorMessage=function(){var t=this.content.formControl.errors;return t?t[V.Validators.required.name]?this.validationError_required:"TOCO_NG_ERROR_MSG_ID_INVAL":""},n.decorators=[{type:e.Component,args:[{selector:"input-identifier",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[]},n}(bo),Io={ISSN:"ISSN",p_ISSN:"p-ISSN",e_ISSN:"e-ISSN",ISSN_L:"ISSN-L"},So=function(){function t(e){this.code=t.convertIssnToLength_11(e)}return t.convertIssnToLength_11=function(e){var n,o;return 8==e.length?(n=e.slice(0,4),o=e.slice(4,7),n+" "+t.codeGroupSeparator+" "+o+("x"==e[7]?"X":e[7])):9==e.length?(n=e.slice(0,4),o=e.slice(5,8),n+" "+t.codeGroupSeparator+" "+o+("x"==e[8]?"X":e[8])):(n=e.slice(0,5),o=e.slice(6,10),n+t.codeGroupSeparator+o+("x"==e[10]?"X":e[10]))},t.convertIssnToLength_9=function(e){var n,o;return 8==e.length?(n=e.slice(0,4),o=e.slice(4,7),n+t.codeGroupSeparator+o+("x"==e[7]?"X":e[7])):9==e.length?(n=e.slice(0,4),o=e.slice(5,8),n+t.codeGroupSeparator+o+("x"==e[8]?"X":e[8])):(n=e.slice(0,4),o=e.slice(7,10),n+t.codeGroupSeparator+o+("x"==e[10]?"X":e[10]))},t.convertIssnToLength_8=function(t){return 9==t.length?t.slice(0,4)+t.slice(5,8)+("x"==t[8]?"X":t[8]):11==t.length?t.slice(0,4)+t.slice(7,10)+("x"==t[10]?"X":t[10]):t},t.prototype.isComplete=function(){return this.code.length==t.codeLength},t.prototype.toString=function(t){return t+" "+this.code},t.issn_Placeholder="XXXX – XXXX",t.codeLength=11,t.codeLengthAsString=t.codeLength.toString(10),t.codeGroupSeparator="–",t.codeGroupSeparatorWithSpace=" "+t.codeGroupSeparator+" ",t.regExpIssnWithLength_11="^[0-9]{4} "+t.codeGroupSeparator+" [0-9]{3}[0-9xX]$",t.regExpIssnWithLength_9="^[0-9]{4}"+t.codeGroupSeparator+"[0-9]{3}[0-9xX]$",t.regExpIssnWithLength_8="^[0-9]{7}[0-9xX]$",t}();var To=function(t){function n(){var e=t.call(this)||this;return e._codeOldValue=void 0,e}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl("",[je.equalLength(So.codeLength),V.Validators.pattern(So.regExpIssnWithLength_11),je.issnConfirmCheckDigitOneField(So.codeLength)])},n.prototype.ngOnInit=function(){if(this.init(Io.ISSN,So.issn_Placeholder,!0,!0),"string"!=typeof this.content.value&&void 0!==this.content.value)throw new Error("For the '"+this.content.name+"' control, the 'content.value' value must be of string type.");this.handleSpecificInput()},n.prototype.getErrorMessage=function(){var t="",e=!1,n=this.content.formControl.errors;return n&&((n[je.equalLength.name]||n[V.Validators.required.name])&&(t="TOCO_NG_ERROR_MSG_ISSN_LONG_INVAL",e=!0),n[V.Validators.pattern.name]&&(t=e?"TOCO_NG_ERROR_MSG_ISSN_LONG_Y_DIG_INVAL":"TOCO_NG_ERROR_MSG_ISSN_DIG_INVAL",e=!0)),e||n&&n[je.issnConfirmCheckDigitOneField.name]&&(t="TOCO_NG_ERROR_MSG_ISSN_DIG_CHEQUEO_INVAL",e=!0),t},n.prototype.handleSpecificInput=function(){var t=this.content.formControl.value,e=t.length;if(e>So.codeLength)this.content.formControl.setValue(this._codeOldValue);else{var n,o="",a=!1,r=0;for(n=0;n<e;n++)switch(t[n]){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":4!=++r||a?o+=t[n]:(a=!0,o+=t[n]+So.codeGroupSeparatorWithSpace);break;case"x":case"X":n+1==e&&(r++,o+="X");break;case" ":a||(a=!0,o+=So.codeGroupSeparatorWithSpace)}r>8?this.content.formControl.setValue(this._codeOldValue):this.content.formControl.setValue(this._codeOldValue=o)}},n.decorators=[{type:e.Component,args:[{selector:"input-issn",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[]},n}(bo);var Ao=function(t){function n(e){var n=t.call(this)||this;return n._transServ=e,n.isTranslationBuiltByControl=!0,n}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl(0,[V.Validators.pattern("^-?[0-9]+$"),V.Validators.min(t&&null!=t.min?t.min:Number.MIN_SAFE_INTEGER),V.Validators.max(t&&null!=t.max?t.max:Number.MAX_SAFE_INTEGER)])},n.prototype.ngOnInit=function(){var t=this;this.setNewLanguage(this._transServ),this.init("","",!1,!1),this._transServ.onLangChange.subscribe((function(e){t.setNewLanguage(t._transServ)}))},n.prototype.setNewLanguage=function(e){n.currentLang!=e.currentLang&&(t.prototype.setNewLanguage.call(this,e),e.get(["TOCO_NG_ERROR_MSG_NUM_INVAL","TOCO_NG_ERROR_MSG_NUM_MINIMO","TOCO_NG_ERROR_MSG_NUM_MAXIMO"]).subscribe((function(t){n.toco_ng_Error_Msg_Num_Inval=t.TOCO_NG_ERROR_MSG_NUM_INVAL,n.toco_ng_Error_Msg_Num_Minimo=t.TOCO_NG_ERROR_MSG_NUM_MINIMO,n.toco_ng_Error_Msg_Num_Maximo=t.TOCO_NG_ERROR_MSG_NUM_MAXIMO})))},n.prototype.getErrorMessage=function(){var t=this.content.formControl.errors;if(t){if(t[V.Validators.required.name])return n.toco_ng_Error_Msg_Requerido;if(t[V.Validators.pattern.name])return n.toco_ng_Error_Msg_Num_Inval;if(t[V.Validators.min.name])return n.toco_ng_Error_Msg_Num_Minimo+t[V.Validators.min.name].min+".";if(t[V.Validators.max.name])return n.toco_ng_Error_Msg_Num_Maximo+t[V.Validators.max.name].max+"."}return""},n.toco_ng_Error_Msg_Num_Inval="",n.toco_ng_Error_Msg_Num_Minimo="",n.toco_ng_Error_Msg_Num_Maximo="",n.decorators=[{type:e.Component,args:[{selector:"input-number",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[{type:M.TranslateService}]},n}(bo);var Oo=function(){function t(t){this.code=t}return t.prototype.isComplete=function(){return this.code.length==t.codeLength},t.prototype.toString=function(){return t.rnps_Abbreviation+" "+this.code},t.rnps_Placeholder="XXXX",t.codeLength=4,t.codeLengthAsString=t.codeLength.toString(10),t.rnps_Abbreviation="RNPS",t.rnps_Label="TOCO_NG_RNPS",t}();var Po=function(t){function n(){var e=t.call(this)||this;return e._codeOldValue=void 0,e}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl("",[je.equalLength(Oo.codeLength),V.Validators.pattern("^[0-9]*$")])},n.prototype.ngOnInit=function(){this.init(Oo.rnps_Abbreviation,Oo.rnps_Placeholder,!0,!0),this.handleSpecificInput()},n.prototype.getErrorMessage=function(){var t="",e=!1,n=this.content.formControl.errors;return n&&((n[je.equalLength.name]||n[V.Validators.required.name])&&(t="TOCO_NG_ERROR_MSG_RNPS_LONG_INVAL",e=!0),n[V.Validators.pattern.name]&&(t=e?"TOCO_NG_ERROR_MSG_RNPS_LONG_Y_DIG_INVAL":"TOCO_NG_ERROR_MSG_RNPS_DIG_INVAL",e=!0)),t},n.prototype.handleSpecificInput=function(){this.content.formControl.value.length>Oo.codeLength?this.content.formControl.setValue(this._codeOldValue):this._codeOldValue=this.content.formControl.value},n.decorators=[{type:e.Component,args:[{selector:"input-rnps",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[]},n}(bo);var Do=function(t){function n(e){var n=t.call(this)||this;return n._transServ=e,n._selectOptionsSubscription=null,n.selectTooltip="",n}return et(n,t),n.prototype.ngOnInit=function(){this.init("","",!1,!0),this.onSelectionChange()},n.prototype.ngOnDestroy=function(){this._selectOptions_Unsubscription()},n.prototype.init=function(e,o,a,r){var i=this;if(void 0===o&&(o=""),this._transServ.onLangChange.subscribe((function(t){i._setSelectTooltip()})),t.prototype.init.call(this,e,o,a,r),null!=this.content.startHint?"TOCO_NG_HINT_TEXTO_POR_DEFECTO"==this.content.startHint.label&&(this.content.startHint.label="TOCO_NG_HINT_TEXTO_SELECC_POR_DEFECTO"):this.content.startHint=new Qn(Kn.start,"TOCO_NG_HINT_TEXTO_SELECC_POR_DEFECTO"),null==this.content.multiple&&(this.content.multiple=!1),null==this.content.showTooltip&&(this.content.showTooltip=!1),null==this.content.selectTooltipPosition&&(this.content.selectTooltipPosition="below"),null==this.content.optionsTooltipPosition&&(this.content.optionsTooltipPosition="right"),null==this.content.selectOptions)null==this.content.value?this.content.selectOptions=[]:G.isArray(this.content.value)?(this.content.multiple=!0,this.content.selectOptions=[],this.content.value.forEach((function(t){i.content.selectOptions.push({label:t,value:t.toUpperCase()})}))):this.content.selectOptions=[{label:this.content.value,value:this.content.value.toUpperCase()}];else if(G.isArray(this.content.selectOptions));else{if(!(this.content.selectOptions instanceof z.Observable))throw new Error("For the '"+n.name+"' control, the 'content.selectOptions' type value has a configuration error because the programme does not know what to do with it!");this._selectOptions_Unsubscription(),this._selectOptionsSubscription=this.content.selectOptions.subscribe((function(t){i.content.selectOptions=t}))}},n.prototype._selectOptions_Unsubscription=function(){this._selectOptionsSubscription&&this._selectOptionsSubscription.unsubscribe()},n.prototype.onSelectionChange=function(){this._setSelectTooltip(),this.content.extraContent&&this.content.extraContent.selectionChange&&this.content.extraContent.selectionChange(this.content.formControl.value)},n.prototype._doTranslation=function(t){var e=this;0!=t.length?this._transServ.get(t).subscribe((function(t){if(e.content.multiple){for(var n=Object.keys(t),o=n.length,a=t[n[0]],r=1;r<o;++r)a+="\n"+t[n[r]];e.selectTooltip=a}else e.selectTooltip=t})):this.selectTooltip=""},n.prototype._findLabel=function(t){var e,n,o,a,r,i;if(this.content.multiple){var s=[];try{for(var l=ot(t),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var p=(o=void 0,ot(this.content.selectOptions)),d=p.next();!d.done;d=p.next()){if((f=d.value).value==u){s.push(f.label);break}}}catch(t){o={error:t}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return s}s="";try{for(var m=ot(this.content.selectOptions),h=m.next();!h.done;h=m.next()){var f;if((f=h.value).value==t){s=f.label;break}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}return s},n.prototype._setSelectTooltip=function(){null!=this.content.formControl.value?this._doTranslation(this._findLabel(this.content.formControl.value)):this.selectTooltip=""},n.decorators=[{type:e.Component,args:[{selector:"input-select",template:'\n<mat-form-field\n\tclass="select-mat-form-field"\n\t[appearance]="content.appearance"\n>\n\n\t<mat-label>\n\t\t{{ content.label | translate }}\n\t</mat-label>\n\n\t<ng-container *ngIf="content.showTooltip; then thenTemplate_Tooltip; else elseTemplate_WithoutTooltip"></ng-container>\n\n\t<ng-template #thenTemplate_Tooltip>\n\t\t<mat-select \n\t\t\t[formControl]="content.formControl"\n\t\t\t[required]="content.required"\n\t\t\t[style.textAlign]="content.textAlign"\n\t\t\t[attr.aria-label]="content.ariaLabel | translate"\n\t\t\t[(value)]="content.value"\n\t\t\t[multiple]="content.multiple"\n\t\t\t(selectionChange)="onSelectionChange()"\n\t\t\t[matTooltip]="selectTooltip" [matTooltipPosition]="content.selectTooltipPosition" [matTooltipClass]="\'tooltip-multiple-lines\'"\n\t\t>\n\t\t\t<mat-option \n\t\t\t\t*ngFor="let option of content.selectOptions" \n\t\t\t\t[value]="option.value"\n\t\t\t\t[matTooltip]="option.label | translate" [matTooltipPosition]="content.optionsTooltipPosition"\n\t\t\t>\n\t\t\t\t{{ option.label | translate }}\n\t\t\t</mat-option>\n\t\t</mat-select>\n\t</ng-template>\n\n\t<ng-template #elseTemplate_WithoutTooltip>\n\t\t<mat-select \n\t\t\t[formControl]="content.formControl"\n\t\t\t[required]="content.required"\n\t\t\t[style.textAlign]="content.textAlign"\n\t\t\t[attr.aria-label]="content.ariaLabel | translate"\n\t\t\t[(value)]="content.value"\n\t\t\t[multiple]="content.multiple"\n\t\t\t(selectionChange)="onSelectionChange()"\n\t\t>\n\t\t\t<mat-option \n\t\t\t\t*ngFor="let option of content.selectOptions" \n\t\t\t\t[value]="option.value"\n\t\t\t>\n\t\t\t\t{{ option.label | translate }}\n\t\t\t</mat-option>\n\t\t</mat-select>\n\t</ng-template>\n\n\t<mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".select-mat-form-field{width:100%}::ng-deep .tooltip-multiple-lines{white-space:pre-line!important}"]}]}],n.ctorParameters=function(){return[{type:M.TranslateService}]},n.propDecorators={content:[{type:e.Input}]},n}(bo);var Lo=function(t){function n(){return t.call(this)||this}return et(n,t),n.getFormControlByDefault=function(t){return void 0===t&&(t=void 0),new V.FormControl("",t&&t.pattern?[V.Validators.pattern(t.pattern)]:[])},n.prototype.ngOnInit=function(){this.init("","",!1,!0)},n.prototype.getErrorMessage=function(){var t=this.content.formControl.errors;return t?t[V.Validators.required.name]?this.validationError_required:"TOCO_NG_ERROR_MSG_TEXTO_INVAL":""},n.decorators=[{type:e.Component,args:[{selector:"input-text",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[]},n}(bo),ko=function(){function t(t){this.url=t}return t.prototype.toString=function(){return t.url_Label+" "+this.url},t.url_Label="Url",t.url_Placeholder="https://www.google.com/",t}();var Fo=function(t){function n(){return t.call(this)||this}return et(n,t),n.getFormControlByDefault=function(t){void 0===t&&(t=void 0);return new V.FormControl("",[V.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")])},n.prototype.ngOnInit=function(){this.init(ko.url_Label,ko.url_Placeholder,!1,!0)},n.prototype.getErrorMessage=function(){var t=this.content.formControl.errors;return t?t[V.Validators.required.name]?this.validationError_required:"TOCO_NG_ERROR_MSG_URL_INVAL":""},n.decorators=[{type:e.Component,args:[{selector:"input-url",template:'\n<mat-form-field class="text-mat-form-field" [appearance]="content.appearance">\n\x3c!-- <mat-form-field class="text-mat-form-field" [appearance]="content.appearance" [formGroup]="content.parentFormSection"> --\x3e\n\n    <mat-label>{{ content.label | translate }}</mat-label>\n\n    <input matInput [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" />\n    \x3c!-- <input matInput id="inputId-{{ content.name }}" class="input-text-element" [formControl]="content.formControl" [required]="content.required" [placeholder]="content.placeholder | translate" [style.textAlign]="content.textAlign" [attr.aria-label]="content.ariaLabel | translate" (input)="handleInput()" [formControlName]="content.name" /> --\x3e\n\n    \x3c!-- At the moment of writing this code (2019-08-03), I think that there is an error in `ng-container` or \n        `mat-icon` or something related because I can not put the `mat-icon` tag within an `ng-container` tag \n        because the normal layout of `mat-icon` is modified. This is a contradiction because the `ng-container` \n        does not interfere with styles or layout. --\x3e\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.internal)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix [svgIcon]="content.prefixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.prefixIcon && iconSourceState(content.prefixIcon, iconSource.external)" class="text-mat-icon-prefix mat-icon {{ content.appearance }} notranslate" matPrefix>{{ content.prefixIcon.name }}</mat-icon>\n\n    \x3c!-- Only renders one of these two `mat-icon` or nothing. --\x3e\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.internal)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix [svgIcon]="content.suffixIcon.name"></mat-icon>\n    <mat-icon *ngIf="content.suffixIcon && iconSourceState(content.suffixIcon, iconSource.external)" class="text-mat-icon-suffix mat-icon {{ content.appearance }} notranslate" matSuffix>{{ content.suffixIcon.name }}</mat-icon>\n\n    <span *ngIf="content.prefixText" matPrefix><pre class="content.appearance">{{ content.prefixText }}</pre></span>\n    <span *ngIf="content.suffixText" matSuffix><pre class="content.appearance">{{ content.suffixText }}</pre></span>\n\n    <mat-hint *ngIf="hintState && content.startHint" [align]="\'start\'">{{ content.startHint.label | translate }}</mat-hint>\n    <mat-hint *ngIf="hintState && content.endHint" [align]="\'end\'">{{ content.endHint.label | translate }}</mat-hint>\n    <mat-error *ngIf="errorState">\n        <ng-container *ngIf="isTranslationBuiltByControl; then thenTemplate_BuildTranslation; else elseTemplate_NotBuildTranslation"></ng-container>\n\n        <ng-template #thenTemplate_BuildTranslation>{{ getErrorMessage() }}</ng-template>\n\n        <ng-template #elseTemplate_NotBuildTranslation>{{ getErrorMessage() | translate }}</ng-template>\n    </mat-error>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".text-mat-form-field{width:100%;cursor:text}.text-mat-icon-prefix{margin-right:8px}.text-mat-icon-prefix.standard{position:relative;top:4px}.text-mat-icon-suffix{margin-left:8px}.text-mat-icon-suffix.standard{position:relative;top:4px}pre{margin:0}pre.outline{position:relative;bottom:4px}"]}]}],n.ctorParameters=function(){return[]},n}(bo);var Eo=function(t){function n(e){var n=t.call(this)||this;return n.service=e,n.chipsFormControl=new V.FormControl,n.chipsList=[],n.selectOptions=[],n.terms=[],n.loading=!0,n.searchText="Seleccione las opciones",n.termsTreeObserver={next:function(t){console.log("VOCABULARY COMPONENT RESPONSE ",t),console.log(t.data.tree),n.terms=t.data.tree.term_node,n.terms.forEach((function(t){n.selectOptions=n.selectOptions.concat(n._get_terms(t))}))},error:function(t){console.log("The observable got an error notification: "+t+".")},complete:function(){console.log("The observable got a complete notification."),n.loading=!n.loading}},n}return et(n,t),n.prototype.ngOnInit=function(){var t=this;this.init("","",!1,!0),this.content.required&&this.content.formControl.setValidators((function(e){return t.content.value&&0!=t.content.value.length?null:{requiredTerms:"No Terms Selected"}})),this.inputId=this.content.label.trim().toLowerCase(),this.content.extraContent&&(this.extraContent=this.content.extraContent,this.extraContent.selectedTermsIds||(this.extraContent.selectedTermsIds=[]),this.extraContent.excludeTermsIds||(this.extraContent.excludeTermsIds=[]),this.content.value=[],null==this.extraContent.level&&(this.extraContent.level=10),this.extraContent.vocab&&this.service.getTermsTreeByVocab(this.extraContent.vocab,this.extraContent.level).subscribe(this.termsTreeObserver),this._updateFilteredOptions())},n.prototype.setValidation=function(){this.content.formControl.valid?this.chipsFormControl.setErrors(null):this.chipsFormControl.setErrors({requiered:!0})},n.prototype.addTermToValue=function(t){this.extraContent.multiple?this.content.value.unshift(t):this.content.value=[t],this.content.formControl.setValue(this.content.value),this.setValidation()},n.prototype.removeTermFromValue=function(t){this.content.value=this.content.value.filter((function(e){return e.id!==t.id})),this.content.formControl.setValue(this.content.value),this.setValidation()},n.prototype._updateFilteredOptions=function(){var t=this;this.filteredOptions=this.chipsFormControl.valueChanges.pipe(W.startWith(""),W.map((function(e){var n=e?e.toLowerCase():"";return console.log("************************************"),console.log(t.selectOptions),console.log("************************************"),t.selectOptions.filter((function(t){return t.term.identifier.toLowerCase().includes(n)}))})))},n.prototype._get_terms=function(t,e){var n=this;void 0===e&&(e=null);var o=[];return t.parent=e,this.extraContent.selectedTermsIds.some((function(e){return e===t.term.uuid}))?(this.addTermToValue(t.term),this.chipsList.push(t)):this.extraContent.excludeTermsIds.some((function(e){return e===t.term.uuid}))||o.push(t),t.children&&t.children.forEach((function(e){o=o.concat(n._get_terms(e,t))})),o},n.prototype.addChips=function(t){this.extraContent.multiple?this.chipsList.unshift(t):(this.chipsList.length>0&&this.selectOptions.push(this.chipsList[0]),this.chipsList=[t]),this.addTermToValue(t.term),this.selectOptions=this.selectOptions.filter((function(e){return e.term.id!==t.term.id})),this.chipsFormControl.setValue(""),this._updateFilteredOptions()},n.prototype.removeChip=function(t){this.selectOptions.push(this.chipsList[t]),this.removeTermFromValue(this.chipsList[t].term),this.chipsList.splice(t,1),this._updateFilteredOptions()},n.prototype.getTermNameInATree=function(t){return null!=t.parent?this.getTermNameInATree(t.parent)+" / "+t.term.description:t.term.description},n.decorators=[{type:e.Component,args:[{selector:"toco-vocabulary",template:'<mat-card>\n\n  <mat-progress-bar *ngIf="loading"\n    mode="indeterminate">\n  </mat-progress-bar>\n\n    <mat-card-subtitle *ngIf="!loading">\n    <mat-form-field style="width: 100%;">\n\n      <mat-label> {{content.label}} <span *ngIf="content.required">*</span></mat-label>\n      <input\n        matInput\n        id="\'inputId-\'{{content.name}}"\n        type="text"\n        [formControl]="chipsFormControl"\n        [matAutocomplete]="auto"\n          aria-label="Number"\n      />\n\n      <mat-hint *ngIf="content.startHint" [align]="\'start\'">{{ content.startHint.label }}</mat-hint>\n      <mat-hint *ngIf="!content.startHint" [align]="\'start\'">{{ searchText }}</mat-hint>\n\n      <mat-autocomplete #auto="matAutocomplete">\n        <mat-option *ngFor="let option of filteredOptions | async" [value]="option.term.description" (click)="addChips(option)"\n          [title]="option.term.description">\n          {{ option.term.description }}\n        </mat-option>\n      </mat-autocomplete>\n\n      \x3c!-- <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n      <mat-icon>close</mat-icon>\n    </button> --\x3e\n    </mat-form-field>\n  </mat-card-subtitle>\n  <mat-card-content *ngIf="!loading">\n    <mat-chip-list class="mat-chip-list-stacked" fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: .5em"\n      id="chiplist-{{extraContent.vocab}}">\n      <mat-chip *ngFor="let item of chipsList; let i=index" (removed)="removeChip(i)" [removable]="true" style="width: 100%;height: 100%;">\n        {{ getTermNameInATree(item) }}\n        <mat-icon matChipRemove>cancel</mat-icon>\n      </mat-chip>\n    </mat-chip-list>\n  </mat-card-content>\n\n</mat-card>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[{type:In}]},n}(bo);var No=function(t){function n(e){var n=t.call(this)||this;return n.service=e,n.chipsFormControl=new V.FormControl,n.levelsOptions=null,n.levelsSelection=new Array,n.lastLevelTerm=null,n.chipsList=[],n.leafsOptions=null,n.terms=[],n.loading=!0,n.searchText="Seleccione las opciones",n}return et(n,t),n.prototype.ngOnInit=function(){var t=this;this.init("","",!1,!0),this.content.required&&this.content.formControl.setValidators((function(e){return t.content.value&&0!=t.content.value.length?null:{requiredTerms:"No Terms Selected"}})),this.inputId=this.content.label.trim().toLowerCase(),this.content.extraContent&&(this.extraContent=this.content.extraContent,this.extraContent.selectedTermsIds||(this.extraContent.selectedTermsIds=[]),this.extraContent.excludeTermsIds||(this.extraContent.excludeTermsIds=[]),this.content.value=[],this.content.formControl.setValue(this.content.value),null==this.extraContent.level&&(this.extraContent.level=10),this.extraContent.vocab&&(this.loading=!0,this.service.getTermsTreeByVocab(this.extraContent.vocab,0).subscribe((function(e){t.loading=!1;var n=e.data.tree.term_node;t.extraContent.level>0?(t.levelsOptions=new Array,t._setLevelsOptions(n,0)):(t.leafsOptions=t._get_terms(n),t._updateFilteredOptions())}),(function(t){console.log("The observable got an error notification: "+t+".")}),(function(){console.log("The observable got a complete notification."),t.loading=!t.loading}))))},n.prototype._setLevelsOptions=function(t,e){var n=this;console.log("VOCABULARY TREE *****"),console.log(this.extraContent.selectedTermsIds,t);var o=[];t.forEach((function(t){n.extraContent.excludeTermsIds.some((function(e){return e===t.term.uuid}))||o.push(t),n.extraContent.selectedTermsIds.some((function(e){return e===t.term.uuid}))&&n.onSelectionChange(e,t.term)})),this.levelsOptions.push(o)},n.prototype.onSelectionChange=function(t,e){var n=this;console.log(t,e),this.leafsOptions=null,this.chipsList=[],this.loading=!0,this.lastLevelTerm=e,this.levelsOptions=this.levelsOptions.slice(0,t+1),this.content.value=[],this.levelsSelection=this.levelsSelection.slice(0,t),this.levelsSelection.push(e),this.levelsSelection.forEach((function(t){n.addTermToValue(t,!1)})),this.service.getTermByUUID(e.uuid,1).subscribe((function(e){console.log(e),n.loading=!1;var o=e.data.term_node.children;n.extraContent.level>t+1?n._setLevelsOptions(o,t):(n.leafsOptions=n._get_terms(o),n._updateFilteredOptions())}),(function(t){console.log("The observable got an error notification: "+t+".")}),(function(){console.log("The observable got a complete notification."),n.loading=!n.loading}))},n.prototype.setValidation=function(){this.content.formControl.valid?this.chipsFormControl.setErrors(null):this.chipsFormControl.setErrors({requiered:!0})},n.prototype.addTermToValue=function(t,e){var n=this;void 0===e&&(e=!0),this.extraContent.multiple?this.content.value.unshift(t):(this.content.value=[],this.levelsSelection.forEach((function(t){n.content.value.unshift(t)})),this.content.value.unshift(t)),console.log(this.content.value),this.content.formControl.setValue(this.content.value),this.setValidation(),console.log(this.content.formControl)},n.prototype.removeTermFromValue=function(t){this.content.value=this.content.value.filter((function(e){return e.id!==t.id})),this.content.formControl.setValue(this.content.value),this.setValidation(),console.log(this.content.formControl)},n.prototype._updateFilteredOptions=function(){var t=this;this.filteredOptions=this.chipsFormControl.valueChanges.pipe(W.startWith(""),W.map((function(e){var n=e?e.toLowerCase():"";return t.leafsOptions.filter((function(t){return t.term.description.toLowerCase().includes(n)}))})))},n.prototype._get_terms=function(t){var e=this;this.chipsList=[];var n=[];return t.forEach((function(t){e.extraContent.selectedTermsIds.some((function(e){return e===t.term.uuid}))?(e.addTermToValue(t.term),e.chipsList.push(t)):e.extraContent.excludeTermsIds.some((function(e){return e===t.term.uuid}))||n.push(t)})),n},n.prototype.addChips=function(t){this.extraContent.multiple?this.chipsList.unshift(t):(this.chipsList.length>0&&this.leafsOptions.push(this.chipsList[0]),this.chipsList=[t]),console.log(t,this.chipsList),this.addTermToValue(t.term),this.leafsOptions=this.leafsOptions.filter((function(e){return e.term.id!==t.term.id})),this.chipsFormControl.setValue(""),this._updateFilteredOptions()},n.prototype.removeChip=function(t){this.leafsOptions.push(this.chipsList[t]),this.removeTermFromValue(this.chipsList[t].term),this.chipsList.splice(t,1),this._updateFilteredOptions()},n.prototype.getTermNameInATree=function(t){return null!=t.parent?this.getTermNameInATree(t.parent)+" / "+t.term.description:t.term.description},n.decorators=[{type:e.Component,args:[{selector:"toco-vocabulary-tree",template:'<mat-card>\n  <mat-card-header>\n\n    <mat-progress-bar *ngIf="!levelsOptions" mode="indeterminate"></mat-progress-bar>\n\n    <ng-template *ngIf="levelsOptions" >\n\n      <mat-form-field\n      *ngFor="let level of levelsOptions; let i = index"\n      class="select-mat-form-field"\n      [appearance]="content.appearance"\n      style="width: 100%;"\n    >\n      <mat-label>{{ content.label }}</mat-label>\n      <mat-select\n        name="item"\n        [required]="content.required"\n        [multiple]="false"\n        [(value)]="levelsSelection[i]"\n        (selectionChange)="onSelectionChange(i, levelsSelection[i])"\n      >\n        <mat-option *ngFor="let item of level" [value]="item.term">\n          {{ item.term.description }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    </ng-template>\n  </mat-card-header>\n\n  <mat-card-content *ngIf="lastLevelTerm">\n    <mat-progress-bar *ngIf="!leafsOptions" mode="indeterminate">\n    </mat-progress-bar>\n\n    <mat-form-field *ngIf="leafsOptions" style="width: 100%;">\n      <mat-label>\n        {{ lastLevelTerm.description }}\n        <span *ngIf="content.required">*</span></mat-label\n      >\n      <input\n        matInput\n        id="\'inputId-\'{{ content.name }}"\n        type="text"\n        [formControl]="chipsFormControl"\n        [matAutocomplete]="auto"\n        aria-label="Number"\n      />\n\n      <mat-hint *ngIf="content.startHint" [align]="\'start\'">{{\n        content.startHint.label\n      }}</mat-hint>\n      <mat-hint *ngIf="!content.startHint" [align]="\'start\'">{{\n        searchText\n      }}</mat-hint>\n\n      <mat-autocomplete #auto="matAutocomplete">\n        <mat-option\n          *ngFor="let option of filteredOptions | async"\n          [value]="option.term.description"\n          (click)="addChips(option)"\n          [title]="option.term.description"\n        >\n          {{ option.term.description }}\n        </mat-option>\n      </mat-autocomplete>\n\n      \x3c!-- <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n      <mat-icon>close</mat-icon>\n    </button> --\x3e\n    </mat-form-field>\n\n    <mat-chip-list\n      class="mat-chip-list-stacked"\n      fxLayout="row"\n      fxLayoutAlign="start center"\n      style="margin-bottom: 0.5em;"\n      id="chiplist-{{ extraContent.vocab }}"\n    >\n      <mat-chip\n        *ngFor="let item of chipsList; let i = index"\n        (removed)="removeChip(i)"\n        [removable]="true"\n      >\n        {{ getTermNameInATree(item) }}\n        <mat-icon matChipRemove>cancel</mat-icon>\n      </mat-chip>\n    </mat-chip-list>\n  </mat-card-content>\n</mat-card>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[{type:In}]},n}(bo);var Ro=function(t){function n(){var e=t.call(this)||this;return e.formControl=new V.FormControl,e.selectOptions=[],e.currentTerm=null,e.parentTerm=null,e}return et(n,t),n.prototype.ngOnInit=function(){var t=this;this.init("","",!1,!0),console.log(this.content.value),console.log(this.content.required),console.log(this.content.required&&(0==this.content.value||null==this.content.value||null==this.content.value)),this.content.required&&this.content.formControl.setValidators((function(t){return 0==t.value||null==t.value||null==t.value?{requiredTerms:"No Terms Selected"}:null})),this.setValueToInternalControl(),this.inputId=this.content.label.trim().toLowerCase(),this.content.extraContent&&this.content.extraContent.terms&&(this.content.extraContent.currentTerm&&(this.currentTerm=this.content.extraContent.currentTerm),this.content.extraContent.terms.forEach((function(e){t.selectOptions=t.selectOptions.concat(t._get_terms(e))})),this._updateFilteredOptions())},n.prototype._updateFilteredOptions=function(){var t=this;this.filteredOptions=this.formControl.valueChanges.pipe(W.startWith(""),W.map((function(e){var n=e.toLowerCase();return t.selectOptions.filter((function(t){return t.identifier.toLowerCase().includes(n)}))})))},n.prototype._get_terms=function(t){var e=this,n=[];return this.currentTerm?this.currentTerm.id!==t.term.id&&(this.currentTerm.parent_id&&this.currentTerm.parent_id===t.term.id?this.parentTerm=t.term:n.push(t.term)):n.push(t.term),t.children.forEach((function(t){n=n.concat(e._get_terms(t))})),n},n.prototype.addParent=function(t){this.parentTerm=t,this.selectOptions=this.selectOptions.filter((function(e){return e.id!==t.id})),this.formControl.setValue(""),this._updateFilteredOptions(),this.currentTerm?this.currentTerm.parent_id=this.parentTerm.id:this.parentTerm.id,this.setValueToInternalControl()},n.prototype.removeParent=function(){this.selectOptions.push(this.parentTerm),this._updateFilteredOptions(),this.parentTerm=null,this.setValueToInternalControl()},n.prototype.setValueToInternalControl=function(){null==this.parentTerm?(this.content.value=null,this.content.formControl.setValue(null)):(this.content.value=this.parentTerm.id,this.content.formControl.setValue(this.content.value)),this.content.formControl.valid?this.formControl.setErrors(null):this.formControl.setErrors({requiered:!0})},n.decorators=[{type:e.Component,args:[{selector:"toco-term-parent",template:'<div class="card-filter" *ngIf="content.extraContent">\n\n  <mat-form-field style="width: 100%;">\n\n      <mat-label> {{content.label}} <span *ngIf="content.required">*</span></mat-label>\n    <input \n        matInput \n        id="\'inputId-\'{{content.name}}" \n        type="text" \n        [formControl]="formControl"\n        [placeholder]="content.label"\n        [matAutocomplete]="auto" \n        aria-label="Number" \n      />\n    <mat-autocomplete #auto="matAutocomplete">\n      <mat-option *ngFor="let option of filteredOptions | async" [value]="option.identifier" (click)="addParent(option)"\n        [title]="option.description">\n        {{ option.description }}\n      </mat-option>\n    </mat-autocomplete>\n\n  </mat-form-field>\n\n  <mat-chip-list fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: .5em" id="chiplist">\n    <mat-chip (click)="removeParent()" *ngIf="parentTerm">{{ parentTerm.description }}</mat-chip>\n  </mat-chip-list>\n\n</div>',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n}(bo);var Vo=function(t){function n(){var e=t.call(this)||this;return e.selectOptions=[],e.multiple=!1,e}return et(n,t),n.prototype.ngOnInit=function(){console.log("SelectComponent OnInit"),this.init("","",!1,!1),this.onSelectionChange()},n.prototype.init=function(e,n,o,a){var r=this;void 0===n&&(n=""),t.prototype.init.call(this,e,n,o,a),this.multiple=!!this.content.extraContent.multiple&&this.content.extraContent.multiple,this.content.extraContent.observable?this.content.extraContent.observable.subscribe((function(t){r.selectOptions=r.content.extraContent.getOptions(t)}),(function(t){console.log(t)}),(function(){})):this.selectOptions=this.content.extraContent.getOptions()},n.prototype.onSelectionChange=function(){this.content.extraContent&&this.content.extraContent.selectionChange&&this.content.extraContent.selectionChange(this.content.value),console.log("Select value: ",this.content.formControl.value)},n.decorators=[{type:e.Component,args:[{selector:"toco-select",template:'\n<mat-form-field\n  class="select-mat-form-field"\n  [appearance]="content.appearance"\n>\n\n  <mat-label>\n    {{ content.label }}\n  </mat-label>\n\n  <mat-select \n    [formControl]="content.formControl"\n    [required]="content.required"\n    [style.textAlign]="content.textAlign"\n    [attr.aria-label]="content.ariaLabel"\n    [(value)]="content.value"\n    [multiple]="multiple"\n    (selectionChange)="onSelectionChange()"\n  >\n    <mat-option \n      *ngFor="let option of selectOptions" \n      [value]="option.value"\n    >\n      {{ option.label }}\n    </mat-option>\n  </mat-select>\n\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[".select-mat-form-field{width:100%}"]}]}],n.ctorParameters=function(){return[]},n}(bo);var jo=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("","",!1,!0)},n.decorators=[{type:e.Component,args:[{selector:"toco-textarea",template:'<mat-form-field\n[style.width]="content.width"\n[style.minWidth]="content.minWidth"\n>\n<textarea\n    [formControl]="content.formControl"\n    matInput [value]="content.value"\n    (input)="$event.target.value"\n    name="{{ content.name }}"\n    placeholder="{{ content.label }}"\n    required="{{ content.required }}"\n    [formControl]="content.formControl"\n    matTextareaAutosize="true"\n></textarea>\n</mat-form-field>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n}(bo);var Mo=function(t){function n(){var e=t.call(this)||this;return e.chipsFormControl=new V.FormControl,e.chipsList=[],e.selectOptions=[],e.terms=[],e.loading=!0,e.searchText="Seleccione las opciones",e}return et(n,t),n.prototype.ngOnInit=function(){var t=this;this.init("","",!1,!0),this.content.required&&this.content.formControl.setValidators((function(e){return t.content.value&&0!=t.content.value.length?null:{requiredTerms:"No Terms Selected"}})),this.inputId=this.content.label.trim().toLowerCase(),this.content.extraContent&&(this.extraContent=this.content.extraContent,this.extraContent.selectedTermsIds||(this.extraContent.selectedTermsIds=[]),this.extraContent.excludeTermsIds||(this.extraContent.excludeTermsIds=[]),this.content.value=[],this.content.extraContent.observable?this.content.extraContent.observable.subscribe((function(e){t.selectOptions=t.content.extraContent.getOptions(e),t.selectOptionsLoaded()}),(function(t){console.log(t)}),(function(){})):(this.selectOptions=this.content.extraContent.getOptions(),this.selectOptionsLoaded()))},n.prototype.selectOptionsLoaded=function(){var t=this;this.selectOptions.forEach((function(e){t.extraContent.selectedTermsIds.some((function(t){return t===e.value}))&&t.addChips(e)})),!this.extraContent.multiple||null!=this.content.value&&null!=this.content.value&&G.isArray(this.content.value)||(this.content.value=[]),this._updateFilteredOptions(),this.loading=!1},n.prototype.setValidation=function(){this.content.formControl.valid?this.chipsFormControl.setErrors(null):this.chipsFormControl.setErrors({requiered:!0})},n.prototype.addTermToValue=function(t){this.extraContent.multiple?this.content.value.unshift(t):this.content.value=[t],this.content.formControl.setValue(this.content.value),this.setValidation()},n.prototype.removeTermFromValue=function(t){this.content.value=this.content.value.filter((function(e){return e.value!==t.value})),this.content.formControl.setValue(this.content.value),this.setValidation()},n.prototype._updateFilteredOptions=function(){var t=this;this.filteredOptions=this.chipsFormControl.valueChanges.pipe(W.startWith(""),W.map((function(e){var n=e?e.toLowerCase():"";return console.log("************************************"),console.log(t.selectOptions),console.log("************************************"),t.selectOptions.filter((function(t){return t.label.toLowerCase().includes(n)}))})))},n.prototype.addChips=function(t){this.extraContent.multiple?this.chipsList.unshift(t):(this.chipsList.length>0&&this.selectOptions.push(this.chipsList[0]),this.chipsList=[t]),this.addTermToValue(t),this.selectOptions=this.selectOptions.filter((function(e){return e.value!==t.value})),this.chipsFormControl.setValue(""),this._updateFilteredOptions()},n.prototype.removeChip=function(t){this.selectOptions.push(this.chipsList[t]),this.removeTermFromValue(this.chipsList[t]),this.chipsList.splice(t,1),this._updateFilteredOptions()},n.decorators=[{type:e.Component,args:[{selector:"toco-select-filter",template:'\n<mat-card>\n\n  <mat-progress-bar\n    mode="indeterminate"\n    *ngIf="!selectOptions">\n  </mat-progress-bar>\n\n  <mat-card-subtitle *ngIf="selectOptions">\n    <mat-form-field style="width: 100%;">\n\n      <mat-label> {{content.label}} <span *ngIf="content.required">*</span></mat-label>\n      <input\n        matInput\n        id="\'inputId-\'{{content.name}}"\n        type="text"\n        [formControl]="chipsFormControl"\n        [matAutocomplete]="auto"\n          aria-label="Number"\n      />\n\n      <mat-hint *ngIf="content.startHint" [align]="\'start\'">{{ content.startHint.label }}</mat-hint>\n      <mat-hint *ngIf="!content.startHint" [align]="\'start\'">{{ searchText }}</mat-hint>\n\n      <mat-autocomplete #auto="matAutocomplete">\n        <mat-option *ngFor="let option of filteredOptions | async" [value]="option.label" (click)="addChips(option)"\n          [title]="option.label">\n          {{ option.label }}\n        </mat-option>\n      </mat-autocomplete>\n\n      \x3c!-- <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n        <mat-icon>close</mat-icon>\n      </button> --\x3e\n    </mat-form-field>\n  </mat-card-subtitle>\n\n  <mat-card-content *ngIf="!loading">\n    <mat-chip-list class="mat-chip-list-stacked" fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: .5em"\n      id="chiplist-{{content.name}}">\n      <mat-chip *ngFor="let item of chipsList; let i=index" (removed)="removeChip(i)" [removable]="true" style="width: 100%;height: 100%;">\n        {{ item.label }}\n        <mat-icon matChipRemove>cancel</mat-icon>\n      </mat-chip>\n    </mat-chip-list>\n  </mat-card-content>\n\n</mat-card>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n}(bo);var Jo=function(t){function n(){var e=t.call(this)||this;return e.checklistSelection=new Y.SelectionModel(!0),e.treeFlattener=new I.MatTreeFlattener(e.transformer,e.getLevel,e.isExpandable,e.getChildren),e.treeControl=new X.FlatTreeControl(e.getLevel,e.isExpandable),e.dataSource=new I.MatTreeFlatDataSource(e.treeControl,e.treeFlattener),e}return et(n,t),n.prototype.ngOnInit=function(){var t=this;this.init("","",!1,!0),this.content.extraContent&&(this.content.extraContent.observable?this.content.extraContent.observable.subscribe((function(e){console.log(e),t.data=t.content.extraContent.getOptions(e),console.log(t.data),t.dataSource.data=t.data,console.log(t.dataSource),t.content.extraContent.selectedTermsIds.forEach((function(e){console.log(e),t.treeControl.dataNodes.forEach((function(n){n.element.value==e&&(console.log(n),n.expandable?t.itemSelectionToggle(n):t.leafItemSelectionToggle(n))}))}))}),(function(t){console.log(t)}),(function(){})):(this.data=this.content.extraContent.getOptions(),this.dataSource.data=this.data),this.content.extraContent.selectedTermsIds||(this.content.extraContent.selectedTermsIds=[])),this.content.value=""},n.prototype.remove_component=function(){},n.prototype.onChange=function(){console.log("ttree change")},n.prototype.emitSelection=function(){this.content.formControl.setValue(this.checklistSelection.selected)},n.prototype.transformer=function(t,e){return{name:t.element.label,level:e,expandable:t.children.length>0,element:t.element}},n.prototype.getLevel=function(t){return t.level},n.prototype.isExpandable=function(t){return t.expandable},n.prototype.hasChild=function(t,e){return e.expandable},n.prototype.getChildren=function(t){return z.of(t.children)},n.prototype.descendantsAllSelected=function(t){var e=this;return null!=this.treeControl.dataNodes&&this.treeControl.getDescendants(t).every((function(t){return e.checklistSelection.isSelected(t)}))},n.prototype.descendantsPartiallySelected=function(t){var e=this;return null!=this.treeControl.dataNodes&&(this.treeControl.getDescendants(t).some((function(t){return e.checklistSelection.isSelected(t)}))&&!this.descendantsAllSelected(t))},n.prototype.itemSelectionToggle=function(t){var e,n,o=this;this.checklistSelection.toggle(t);var a=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?(e=this.checklistSelection).select.apply(e,rt(a)):(n=this.checklistSelection).deselect.apply(n,rt(a)),a.every((function(t){return o.checklistSelection.isSelected(t)})),this.checkAllParentsSelection(t),this.emitSelection()},n.prototype.leafItemSelectionToggle=function(t){this.checklistSelection.toggle(t),this.checkAllParentsSelection(t),this.emitSelection()},n.prototype.checkAllParentsSelection=function(t){for(var e=this.getParentNode(t);e;)this.checkRootNodeSelection(e),e=this.getParentNode(e)},n.prototype.checkRootNodeSelection=function(t){var e=this,n=this.checklistSelection.isSelected(t),o=this.treeControl.getDescendants(t).every((function(t){return e.checklistSelection.isSelected(t)}));n&&!o?this.checklistSelection.deselect(t):!n&&o&&this.checklistSelection.select(t)},n.prototype.getParentNode=function(t){var e=this.getLevel(t);if(e<1)return null;for(var n=this.treeControl.dataNodes.indexOf(t)-1;n>=0;n--){var o=this.treeControl.dataNodes[n];if(this.getLevel(o)<e)return o}return null},n.decorators=[{type:e.Component,args:[{selector:"toco-select-tree",template:'<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="scrolleable">\n  <mat-tree-node\n    class="hover"\n    *matTreeNodeDef="let node"\n    matTreeNodeToggle\n    matTreeNodePadding\n    fxLayout="row"\n    fxLayoutAlign="space-between center"\n    [ngStyle]="{ \'white-space\': \'normal !important\' }"\n  >\n    <div fxLayout="row" fxLayoutAlign="start center">\n      <button mat-icon-button disabled></button>\n      <mat-checkbox\n        class="checklist-leaf-node"\n        [checked]="checklistSelection.isSelected(node)"\n        (change)="leafItemSelectionToggle(node)"\n        matTooltip="{{ node.name }}"\n        [ngStyle]="{ \'white-space\': \'normal !important\' }"\n      >\n          {{ node.name }}\n      </mat-checkbox>\n    </div>\n  </mat-tree-node>\n\n  <mat-tree-node\n    class="hover"\n    *matTreeNodeDef="let node; when: hasChild"\n    matTreeNodePadding\n    [ngStyle]="{ \'white-space\': \'normal !important\' }"\n  >\n    <button\n      mat-icon-button\n      matTreeNodeToggle\n      [attr.aria-label]="\'toggle \' + node.name"\n    >\n      <mat-icon class="mat-icon-rtl-mirror">\n        {{ treeControl.isExpanded(node) ? "expand_more" : "chevron_right" }}\n      </mat-icon>\n    </button>\n    <div class="item-width" fxLayout="row" fxLayoutAlign="space-between center">\n      <mat-checkbox\n        [checked]="descendantsAllSelected(node)"\n        [indeterminate]="descendantsPartiallySelected(node)"\n        (change)="itemSelectionToggle(node)"\n        matTooltip="{{ node.name }}"\n        [ngStyle]="{ \'white-space\': \'normal !important\' }"\n        >{{ node.name }}</mat-checkbox\n      >\n    </div>\n  </mat-tree-node>\n</mat-tree>\n',styles:[".scrolleable{max-height:20em;min-width:15em;overflow:auto}"]}]}],n.ctorParameters=function(){return[]},n}(bo);var Bo=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("","",!1,!0)},n.decorators=[{type:e.Component,args:[{selector:"toco-datepicker",template:'<mat-form-field\nstyle="width: 100%;"\n>\n<input\n    matInput\n    [value]="content.value"\n    (input)="$event.target.value"\n    [matDatepicker]="picker"\n    name="{{ content.name }}"\n    placeholder="{{ content.label }}"\n    required="{{ content.required }}"\n    [formControl]="content.formControl"\n>\n<mat-datepicker-toggle\n    matSuffix [for]="picker"\n></mat-datepicker-toggle>\n<mat-datepicker\n    #picker\n    startView="multi-year"\n></mat-datepicker>\n</mat-form-field>\n',styles:[""]}]}],n.ctorParameters=function(){return[]},n}(bo),zo=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("","",!1,!0)},n.decorators=[{type:e.Component,args:[{selector:"toco-checkbox",template:'<ng-container\n>\n<mat-checkbox\n    [style.width]="content.width"\n    [style.minWidth]="content.minWidth"\n    [value]="content.value"\n    (input)="$event.target.value"\n    name="{{ content.name }}"\n    required="{{ content.required }}"\n    [formControlName]="content.name"\n    [formControl]="content.formControl"\n>\n    {{ content.label }}\n</mat-checkbox>\n</ng-container>\n',styles:[""]}]}],n.ctorParameters=function(){return[]},n}(bo);var qo=function(t){function n(){return t.call(this)||this}return et(n,t),n.prototype.ngOnInit=function(){this.init("")},n.prototype.init=function(e){t.prototype.init.call(this,e)},n.prototype.doAction=function(){this.content.action&&this.content.action.doit(this.content.value)},n.decorators=[{type:e.Component,args:[{selector:"container-panel-action",template:'<mat-card\n  class="container-panel-mat-card"\n  [formGroup]="content.formSection"\n  [attr.aria-label]="content.ariaLabel"\n>\n  <mat-card-header>\n    <mat-card-title *ngIf="content.label">\n      {{ content.label }}\n    </mat-card-title>\n    <mat-card-subtitle *ngIf="content.description">\n      {{ content.description }}\n      <mat-icon>{{ content.iconName }}</mat-icon>\n    </mat-card-subtitle>\n  </mat-card-header>\n\n  <mat-card-content\n    fxLayout="row wrap"\n    fxLayout.xs="column"\n    fxLayoutAlign="space-between end"\n    fxLayoutAlign.xs="space-between center"\n    fxLayoutGap="1em"\n    class="form-field-component"\n  >\n    <ng-template get-view-container></ng-template>\n  </mat-card-content>\n\n  <mat-card-actions *ngIf="content.actionLabel">\n    <button\n      *ngIf="content.actionLabel"\n      mat-button\n      color="accent"\n      (click)="doAction()"\n    >\n      {{ content.actionLabel }}\n    </button>\n  </mat-card-actions>\n\n  <mat-card-actions *ngIf="content.isDynamic">\n    <button mat-raised-button color="primary" (click)="addToFormArray()">\n      \x3c!-- <mat-icon>add box</mat-icon> --\x3e\n      <mat-icon>add_circle</mat-icon>\n      Add new item\n    </button>\n    <button\n      mat-raised-button\n      color="primary"\n      [disabled]="!canRemoveFromFormArray"\n      (click)="clearFormArray()"\n    >\n      \x3c!-- <mat-icon>remove box</mat-icon> --\x3e\n      <mat-icon>remove_circle</mat-icon>\n      Clear all\n    </button>\n  </mat-card-actions>\n</mat-card>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n.propDecorators={content:[{type:e.Input}]},n}(co);var Ho={parse:{dateInput:"YYYY"},display:{dateInput:"YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Go=function(t){function n(){var e=t.call(this)||this;return e.label="",e.touchUi=!1,e.onChange=function(t){},e.onTouched=function(){},e}return et(n,t),Object.defineProperty(n.prototype,"max",{get:function(){return this._max?this._max.year():void 0},set:function(t){if(t){var e=K("number"==typeof t?[t,0,1]:t);this._max=e.isValid()?e:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min?this._min.year():void 0},set:function(t){if(t){var e=K("number"==typeof t?[t,0,1]:t);this._min=e.isValid()?e:void 0}},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.init("","",!1,!0),""==this.label&&(this.label=this.content.label),this.min=this.content.extraContent.minYear,this.max=this.content.extraContent.maxYear,console.log(this.content.extraContent,"DATEPICKER YEAR EXTRA CONTENT....",this._min,this._max),this.writeValue(new Date(this.content.value))},n.prototype.writeValue=function(t){t&&this._isYearEnabled(t.getFullYear())&&(K(t).isValid()&&(this.content.formControl.setValue(K(t),{emitEvent:!1}),this.content.value=K(t).year))},n.prototype.registerOnChange=function(t){this.onChange=t},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.setDisabledState=function(t){this._picker.disabled=!!t,t?this.content.formControl.disable():this.content.formControl.enable()},n.prototype._yearSelectedHandler=function(t,e){this._isYearEnabled(t.year())?(this.content.formControl.setValue(t,{emitEvent:!1}),this.content.value=t.year,this.onChange(t.toDate()),this.onTouched(),e.close()):e.close()},n.prototype._openDatepickerOnClick=function(t){t.opened||t.open()},n.prototype._openDatepickerOnFocus=function(t){setTimeout((function(){t.opened||t.open()}))},n.prototype._isYearEnabled=function(t){return!(null==t||this._max&&t>this._max.year()||this._min&&t<this._min.year())},n.decorators=[{type:e.Component,args:[{selector:"toco-datepicker-year",template:'<mat-form-field style="width: 100%">\n  \x3c!-- <mat-label>{{ label }}</mat-label> --\x3e\n  <input\n    matInput\n    [matDatepicker]="datepicker"\n    [max]="_max"\n    [min]="_min"\n    [formControl]="content.formControl"\n    (click)="_openDatepickerOnClick(datepicker)"\n    (focus)="_openDatepickerOnFocus(datepicker)"\n    readonly\n    placeholder="{{ content.label }}"\n    required="{{ content.required }}"\n  />\n\n  <mat-datepicker\n    #datepicker\n    [touchUi]="touchUi"\n    startView="multi-year"\n    (yearSelected)="_yearSelectedHandler($event, datepicker)"\n    panelClass="year-picker"\n  >\n  </mat-datepicker>\n</mat-form-field>\n',providers:[{provide:I.DateAdapter,useClass:$.MomentDateAdapter,deps:[I.MAT_DATE_LOCALE]},{provide:I.MAT_DATE_FORMATS,useValue:Ho},{provide:V.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return n})),multi:!0}],host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input}],max:[{type:e.Input}],min:[{type:e.Input}],touchUi:[{type:e.Input}],_picker:[{type:e.ViewChild,args:[I.MatDatepicker,{static:!0}]}]},n}(bo);var Uo=function(t){function n(n){var o=t.call(this)||this;return o._orgService=n,o.orgCtrl=new V.FormControl,o.filteredOrg=new At,o.params=new R.HttpParams,o.placeholder="Escriba al menos 3 letras",o.label="Busque una organización",o.appearance="outline",o.cleaning=!1,o.selectedOrg=new e.EventEmitter,o.chipsList=[],o.loading=!1,o.toSearch=0,o}return et(n,t),n.prototype.ngOnInit=function(){var t=this;this.init("","",!1,!1),this.extraContent=this.content.extraContent,this.content.value=[],this.extraContent.selectedOrgsIds.forEach((function(e){t._orgService.getOrganizationByUUID(e).subscribe({next:function(e){t.addChips(e)}})})),this.params=this.params.set("size","10"),this.params=this.params.set("page","1"),null!=this.extraContent.orgFilter&&(this.params=this.params.set(this.extraContent.orgFilter.type,this.extraContent.orgFilter.value)),this.orgCtrl.valueChanges.subscribe({next:function(e){t.toSearch++,t.toSearch>3&&"string"==typeof e?(t.toSearch=0,t.params=t.params.set("q",e),t.loading=!0,t._orgService.getOrganizations(t.params).subscribe({next:function(e){t.filteredOrg=e.hits,t.loading=!1}})):"object"==typeof e&&(t.toSearch=0,t.selectedOrg.emit(e),t.cleaning&&t.orgCtrl.setValue(""))}})},n.prototype.displayFn=function(t){return t?t.name:void 0},n.prototype.addChips=function(t){this.extraContent.multiple?this.chipsList.find((function(e){return e.id==t.id}))||(this.chipsList.unshift(t),this.content.value.unshift(t)):(this.chipsList=[t],this.content.value=[t]),this.content.formControl.setValue(this.content.value),this.orgCtrl.setValue(""),this.filteredOrg=new At},n.prototype.removeChip=function(t){var e=this.chipsList[t];this.content.value=this.content.value.filter((function(t){return t.id!==e.id})),this.content.formControl.setValue(this.content.value),this.chipsList.splice(t,1)},n.decorators=[{type:e.Component,args:[{selector:"toco-select-org",template:'<mat-card>\n\n\n  <mat-card-subtitle>\n    <mat-form-field style="width: 100%;height: 100%;">\n\n      <mat-label> {{content.label}} <span *ngIf="content.required">*</span></mat-label>\n      <input matInput placeholder="{{placeholder}}" aria-label="Buscar" [matAutocomplete]="auto" [formControl]="orgCtrl">\n      <input\n        matInput\n        id="\'inputId-\'{{content.name}}"\n        type="text"\n        [formControl]="orgCtrl"\n        [matAutocomplete]="auto"\n          aria-label="Number"\n      />\n\n      <mat-hint *ngIf="content.startHint" [align]="\'start\'">{{ content.startHint.label }}</mat-hint>\n\n      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">\n\n        <mat-option *ngFor="let org of filteredOrg.hits" [value]="org.metadata" (click)="addChips(org)">\n            <span title="{{org.metadata.name}}">{{org.metadata.name}}</span>\n        </mat-option>\n\n      </mat-autocomplete>\n\n      \x3c!-- <button mat-icon-button color="accent" class="delete-filter" (click)="remove_component()">\n        <mat-icon>close</mat-icon>\n      </button> --\x3e\n    </mat-form-field>\n  </mat-card-subtitle>\n\n  <mat-progress-bar\n    mode="indeterminate"\n    *ngIf="loading">\n  </mat-progress-bar>\n\n  <mat-card-content *ngIf="!loading">\n    <mat-chip-list class="mat-chip-list-stacked" fxLayout="row" fxLayoutAlign="start center" style="margin-bottom: .5em"\n      id="chiplist-{{content.name}}">\n      <mat-chip *ngFor="let item of chipsList; let i=index" (removed)="removeChip(i)" [removable]="true" style="width: 100%;height: 100%;">\n        {{ item.metadata.name }}\n        <mat-icon matChipRemove>cancel</mat-icon>\n      </mat-chip>\n    </mat-chip-list>\n  </mat-card-content>\n\n</mat-card>\n',host:{"[style.minWidth]":"content.minWidth","[style.width]":"content.width"},styles:[""]}]}],n.ctorParameters=function(){return[{type:Dn}]},n.propDecorators={orgCtrl:[{type:e.Input}],placeholder:[{type:e.Input}],label:[{type:e.Input}],appearance:[{type:e.Input}],cleaning:[{type:e.Input}],selectedOrg:[{type:e.Output}]},n}(bo);var Wo=function(){function t(t){this._iconService=t,this._iconService.registerIcons([un.defaultIconName,"outlined-bar_code-24px","outlined-mail-24px"],"../assets/svg/icons")}return t.decorators=[{type:e.NgModule,args:[{declarations:[so,lo,uo,po,qo,mo,fo,go,vo,_o,wo,To,Ao,Po,Do,Lo,Fo,Eo,No,Ro,Vo,Mo,jo,Jo,Bo,zo,Go,Uo],imports:[ut,V.ReactiveFormsModule,M.TranslateModule,Ye],entryComponents:[so,po,qo,mo,vo,_o,wo,To,Ao,Po,Do,Lo,Fo,Eo,No,Ro,Vo,Mo,jo,Jo,Bo,Go,zo,Uo],exports:[so,lo,uo,po,qo,mo,fo,go,vo,_o,wo,To,Ao,Po,Do,Lo,Fo,Eo,No,Ro,Vo,Mo,jo,Bo,Go,zo,Uo],providers:[]}]}],t.ctorParameters=function(){return[{type:un}]},t}();var Xo=function(){function t(t,e){this.httpClient=t,this.env=e,this.httpOptions={headers:new R.HttpHeaders({"Content-Type":"application/json",Authorization:"Bearer "})}}return t.prototype.sendPostData=function(t,e,n){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization","Bearer "+e),this.httpClient.post(this.env.sceibaApi+t,n,this.httpOptions)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:R.HttpClient},{type:pt}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(R.HttpClient),e.ɵɵinject(pt))},token:t,providedIn:"root"}),t}();var Yo=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-harvester",template:"<router-outlet></router-outlet>",styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),$o=function(t){function n(e,n,o){var a=t.call(this,e,n)||this;return a.componentFactoryResolver=e,a.childrenService=n,a.service=o,a}return et(n,t),n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),Ko.forEach((function(t){e.filters_data.push(t)})),this.service.getJournalsVocab().subscribe((function(t){t.data.vocabularies.forEach((function(t){e.service.getTerminosByVocab(t.name+"/any").subscribe((function(n){e.filters_data.push({index:e.filters_data.length,field:"terms",type:"select-autocomplete",placeholder:t.name,name:t.name,idVocab:t.id,selectOptions:n.data.terms,is_enabled:!0})}))}))}))},n.decorators=[{type:e.Component,args:[{selector:"toco-harvester-filters-container",template:'\x3c!-- <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutAlign.xs="center center" fxLayoutGap="1em" fxLayoutGap.xs="0"> --\x3e\n\n  <ng-template toco-Filter></ng-template>\n\n\x3c!-- </div> --\x3e\n\n<button mat-icon-button [matMenuTriggerFor]="menu">\n    <mat-icon>add</mat-icon>\n</button>\n  <mat-menu #menu="matMenu" >\n    <ng-container *ngFor="let item of filters_data,let i=index">\n        <ng-container *ngIf="item.is_enabled">\n          <button mat-menu-item (click)="addFilter(i)">\n            {{item.name}}\n          </button>\n        </ng-container>\n    </ng-container>\n    \n\n    \n  </mat-menu>',styles:[".width-100{width:100%}.mat-menu-item{height:37px}"]}]}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:jn},{type:Sn}]},n}(Gn);var Ko=[{index:0,field:"title",type:"search",placeholder:"Título",name:"Título",is_enabled:!0}],Qo=function(){function t(t,e,n,o){this.service=t,this.metadata=e,this.filterService=n,this.env=o,this.journalList=[],this.loading=!0,this.dataSource=new w.MatTableDataSource,this.columnsToDisplay=["title"],this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,20,40,60,80,100],this.sceibaHost="",this.currentlayout={name:"Izquierda",layout:"row",aling:"center baseline",width:"22"},this.sceibaHost=o.sceibaHost+"/catalog"}return t.prototype.ngOnInit=function(){var t=this;this.metadata.setStandardMeta("Catálogo de Revistas Científicas","",""),this.paginator.firstPage(),this.paginator.pageSize=this.pageSize,this.service.getJournalsCount().subscribe((function(e){t.length=e.data.count})),this.fetchJournalData(),this.filterService.paramsChanged.subscribe((function(e){t.params=e,t.fetchJournalData()}))},t.prototype.fetchJournalData=function(){var t=this;this.loading=!0;var e=new Array;z.merge().pipe(W.startWith({}),W.switchMap((function(){return t.loading=!0,t.service.getJournalsPage(t.paginator.pageSize,t.paginator.pageIndex,t.params)})),W.map((function(n){return t.loading=!1,t.length=n.data.sources.count,n.data.sources.data.forEach((function(t){var n=new ye;n.id=t.id,n.uuid=t.uuid,n.source_type=t.source_type,n.data.oaiurl=t.harvest_endpoint;var o=new ge;o.url=null!=t.data?t.data.url:"",o.title=t.name,o.subtitle=t.subtitle,o.shortname=t.shortname;var a=new he;a.e=null!=t.data?t.data.issn.e:"",a.l=null!=t.data?t.data.issn.l:"",a.p=null!=t.data?t.data.issn.p:"",o.issn=a,o.rnps=null!=t.data?t.data.rnps:"",o.logo=null!=t.data?t.data.logo:"",o.purpose=t.purpose,o.description=null!=t.data?t.data.description:"",n.data=o,e.push(n)})),e})),W.catchError((function(e){return t.loading=!1,console.log("ERRORRR  "+e),z.of([])}))).subscribe((function(e){return t.dataSource.data=e}))},t.prototype.onScrollUp=function(){},t.prototype.isEmpty=function(){return 0==this.journalList.length&&(this.loading=!1,!0)},t.prototype.isLoading=function(){return this.loading},t.prototype.currentJournals=function(){console.log(this.dataSource.data)},t.decorators=[{type:e.Component,args:[{selector:"toco-repositories",template:'<div fxLayout="{{currentlayout.layout}}" fxLayout.xs="column nowrap" fxLayoutAlign="{{currentlayout.aling}}">\n  <button mat-raised-button (click)="currentJournals()">Print Current Fournals</button>\n  <button mat-raised-button (click)="currentJournals()">Print Current Fournals</button>\n  <button mat-raised-button (click)="currentJournals()">Print Current Fournals</button>\n</div>\n\n\n<div fxLayout="{{currentlayout.layout}}" fxLayout.xs="column nowrap" fxLayoutAlign="{{currentlayout.aling}}">\n\n  <toco-harvester-filters-container fxLayout="row wrap" fxLayout.xs="column wrap" fxFlex="{{currentlayout.width}}" fxLayoutAlign="start center" fxLayoutAlign.xs="center center"\n    fxLayoutGap="1em" class="width-90 back-grey mat-elevation-z8">\n  </toco-harvester-filters-container>\n\n  <div class="mat-elevation-z8 width-90 margin1em">\n    <table mat-table [dataSource]="dataSource" multiTemplateDataRows>\n      <ng-container matColumnDef="title">\n        <th mat-header-cell *matHeaderCellDef>Titulo</th>\n        <td mat-cell *matCellDef="let element"> {{element.data.title}} </td>\n      </ng-container>\n      \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n      <ng-container matColumnDef="expandedDetail">\n        <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">\n          <div class="example-element-detail" [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'">\n              <toco-harvester-repository\n              [repostitory]="element"></toco-harvester-repository>\n          </div>\n        </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n      <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row" [class.example-expanded-row]="expandedElement === element"\n        (click)="expandedElement = element">\n      </tr>\n      <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="example-detail-row"></tr>\n    </table>\n    <mat-paginator [length]="length"\n          [pageSize]="pageSize"\n          [pageSizeOptions]="pageSizeOptions"\n          (page)="fetchJournalData()">\n    </mat-paginator>\n  </div>\n\n  <mat-card *ngIf="!isEmpty()" class="center-spinner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="gappx">\n    <mat-spinner></mat-spinner>\n    \x3c!--<mat-progress-bar mode="indeterminate"></mat-progress-bar>--\x3e\n  </mat-card>\n\n  \x3c!-- <mat-card *ngIf="isEmpty()" class="center-spinner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="gappx">\n    <h1>No hay Información para Mostrar</h1>\n  </mat-card> --\x3e\n</div>\n\n',animations:[Q.trigger("detailExpand",[Q.state("collapsed",Q.style({height:"0px",minHeight:"0",display:"none"})),Q.state("expanded",Q.style({height:"*"})),Q.transition("expanded <=> collapsed",Q.animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],styles:[".width-card{width:30%;min-width:240px;margin-left:24px;margin-top:24px}.card-float-left{float:left}.center-spinner{width:90.5%;min-width:240px;margin-left:24px;margin-right:24px;margin-top:24px}.back-grey{background:rgba(0,0,0,.01);margin:1.5em 1em;padding:1em;min-width:18em}.width-90{width:90%}.width-93{width:93.5%}table{width:90%}.margin1em{margin:1em}.menu-pull-right{flex:1 1 auto}table.mat-table{width:100%}tr.example-detail-row{height:0}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex}.example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}"]}]}],t.ctorParameters=function(){return[{type:Sn},{type:ft},{type:Rn},{type:pt}]},t.propDecorators={paginator:[{type:e.ViewChild,args:[g.MatPaginator,{static:!0}]}],filter_component:[{type:e.ViewChild,args:[$o,{static:!0}]}]},t}();var Zo=[{path:"",component:Yo,children:[{path:"",component:Qo,data:{title:"Revistas"}}]}],ta=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[B.RouterModule.forChild(Zo)],exports:[B.RouterModule]}]}],t}(),ea=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.onIdentify=function(){console.log("onIdentify"+this.repostitory.id)},t.prototype.onHarvest=function(){console.log("onHarvest"+this.repostitory.id)},t.prototype.onRecord=function(){console.log("onRecord"+this.repostitory.id)},t.decorators=[{type:e.Component,args:[{selector:"toco-harvester-repository",template:'<mat-card>\n    <mat-card-header>\n        <mat-card-title>\n            <strong>\n            {{repostitory.source_type}} \n            \x3c!-- {{repostitory.harvest_type}} --\x3e\n            </strong>\n        </mat-card-title>\n        <mat-card-subtitle>\n        \x3c!-- {{repostitory.harvest_endpoint}} --\x3e\n        </mat-card-subtitle>\n    </mat-card-header>\n    <mat-card-content>\n            Informacion sobre el estado, la cantidad de elementos etc...\n    </mat-card-content>\n    <mat-card-actions>\n        \n        <button mat-fab-button (click)="onIdentify()">Identify</button>\n        <button mat-fab-button (click)="onHarvest()">Harvest</button>\n        <button mat-fab-button (click)="onRecord()">Record</button>\n    </mat-card-actions>\n      \n</mat-card>',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={repostitory:[{type:e.Input}]},t}();var na=function(){function t(t){this.http=t}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:R.HttpClient}]},t}();var oa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Qo,ea,Yo,$o],imports:[ut,V.ReactiveFormsModule,ta,Un],exports:[Qo,ea,Yo,$o],providers:[Sn,na]}]}],t}(),aa=function(){function t(t,e,n){var o=this;this.service=t,this._snackBar=e,this.oauthStorage=n,this.count=0,this.moment=K,this.timerSuscription=null,this.timerObserver={next:function(t){o.service.getNotificationsList(5,0).pipe(W.catchError((function(t){return new Ue(o._snackBar).showMessage(Be.serverError,t.message),z.of(null)}))).subscribe((function(t){if(t&&"success"===t.status){o.count=t.data.total_not_view;var e=t.data.notifications.map((function(t){return nt({},t,{classification:{label:t.classification,color:"INFO"===t.classification?"#2196F3":"ALERT"===t.classification?"#FF5722":"#d32f2f"}})})).filter((function(t){return!t.viewed}));o.notifications=e}else if(t){new Ue(o._snackBar).showMessage(Be.serverError,t.message)}else{new Ue(o._snackBar).showMessage(Be.serverError,"Notificaciones no encontradas")}}))},error:function(t){console.log("The observable got an error notification: "+t+".")},complete:function(){console.log("The observable got a complete notification.")}}}return t.prototype.ngOnInit=function(){this.timerSuscription=z.timer(0,9e5).subscribe(this.timerObserver),null==this.color&&(this.color="primary"),null==this.buttonType&&(this.buttonType="mat-mini-fab")},t.prototype.notificationsCount=function(){return 0==this.count?"":this.count>10?"+10":this.count},t.decorators=[{type:e.Component,args:[{selector:"toco-notification-button",template:'<ng-container [ngSwitch]="buttonType">\n\n    <button *ngSwitchCase="\'mat-icon-button\'" mat-icon-button [matBadge]="notificationsCount()" matBadgeColor="accent" [matMenuTriggerFor]="notificationsMenu" matTooltip="Notificaciones">\n        <mat-icon>notifications</mat-icon>\n    </button>\n\n    <button *ngSwitchCase="\'mat-button\'" mat-button color="{{color}}" [matBadge]="notificationsCount()" matBadgeColor="accent" [matMenuTriggerFor]="notificationsMenu" matTooltip="Notificaciones">\n        <mat-icon>notifications</mat-icon>\n    </button>\n\n    <button *ngSwitchDefault mat-mini-fab color="{{color}}" [matBadge]="notificationsCount()" matBadgeColor="accent" [matMenuTriggerFor]="notificationsMenu" matTooltip="Notificaciones">\n        <mat-icon>notifications</mat-icon>\n    </button>\n</ng-container>\n\n<mat-menu #notificationsMenu="matMenu" style="max-width: 400px !important;">\n  <button class="notification-item" mat-menu-item *ngFor="let notification of notifications">\n    <div class="notification-container" [ngStyle]="{\'border-left-color\': notification.classification.color}">\n      <div class="notification-header">\n        <span>{{notification.emiter.name}} {{notification.emiter.lastname}}</span>\n        <span>{{moment(notification.createdAt).startOf(\'day\').fromNow()}}</span>\n      </div>\n      <span class="notification-description">\n        {{(notification.description.length>135) ?\n          (notification.description | slice:0:135)+\' ...\'\n          :(notification.description)\n        }}\n      </span>\n    </div>\n  </button>\n  <div *ngIf="count === 0" class="empty-notifications-container">\n    <mat-icon class="empty-notifications-icon">notifications</mat-icon>\n    <h1 style="color: gray; font-size: 25px">SIN NOTIFICACIONES</h1>\n  </div>\n    <mat-divider></mat-divider>\n    <a [routerLink]="[\'/notifications\']" style="text-decoration: none;">\n        <button mat-menu-item style="text-align: center;" color="accent">\n            Ver todas\n        </button>\n    </a>\n</mat-menu>\n',styles:[".notification-item{height:100%;border-bottom:1px solid #f5f5f5;padding-left:0}.notification-container{display:flex;flex-direction:column;justify-content:flex-start;padding-left:10px;padding-bottom:10px;border-left:10px solid}.notification-header{display:flex;justify-content:space-between;margin-bottom:-5px;font-size:12px;color:gray}.notification-description{line-height:20px;white-space:pre-wrap;font-size:15px}.empty-notifications-container{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px}.empty-notifications-icon{color:grey;font-size:4.5em;height:70px;width:70px}::ng-deep.mat-menu-panel{max-width:400px!important}"]}]}],t.ctorParameters=function(){return[{type:An},{type:I.MatSnackBar},{type:J.OAuthStorage}]},t.propDecorators={color:[{type:e.Input}],buttonType:[{type:e.Input}]},t}();var ra=function(){};var ia=function(){function t(t,e){this.service=t,this._snackBar=e,this.dataSource=new I.MatTableDataSource,this.columnsToDisplay=["action","description","classification","emiter","emiterEmail","createdAt"],this.columnsLabels=["","Descripción","Clasificación","Emisor","Correo del emisor","Creada"],this.moment=K,this.pageSizeOptions=[5,10,15,20]}return t.prototype.ngOnInit=function(){this.paginator.firstPage(),this.paginator.pageSize=5,this.getNotificationsListData()},t.prototype.getNotificationsListData=function(){var t=this;this.service.getNotificationsList(this.paginator.pageSize,this.paginator.pageIndex).pipe(W.catchError((function(e){return new Ue(t._snackBar).showMessage(Be.serverError,e.message),z.of(null)}))).subscribe((function(e){if(e){t.paginator.length=e.data.total_not_view;var n=e.data.notifications.map((function(t){return nt({},t,{classification:{label:t.classification,color:"INFO"===t.classification?"#2196F3":"ALERT"===t.classification?"#FF5722":"#d32f2f"}})}));t.dataSource.data=n}else t.paginator.length=0,t.dataSource.data=null}))},t.prototype.setnotificationViewed=function(t){var e=this;console.log(t),t&&this.service.setNotificationViewed(t).pipe(W.catchError((function(t){return new Ue(e._snackBar).showMessage(Be.serverError,t.message),z.of(null)}))).subscribe((function(t){"success"===t.status?(e.getNotificationsListData(),new Ue(e._snackBar).showMessage(Be.OK,"La notificación fue marcada como leída")):new Ue(e._snackBar).showMessage(Be.serverError,t.message)}))},t.decorators=[{type:e.Component,args:[{selector:"lib-notification-list",template:'<div [ngStyle]="{padding: \'2em 1em 0 1em\', overflow: \'auto\'}">\n    <table mat-table [dataSource]="dataSource" multiTemplateDataRows>\n        <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay; let i = index">\n            <th [id]="column+\'-th\'" mat-header-cell *matHeaderCellDef> {{columnsLabels[i]}} </th>\n            <td class="element-row-header"\n                mat-cell *matCellDef="let element"\n                [id]="column+\'-td\'"\n                [class.expanded-row]="column === \'description\' && expandedElement === element" (click)="expandedElement = element"\n                [ngStyle]="{\'font-weight\': !element.viewed ? \'bold\' : \'0\', width: column === \'action\' ? \'50px\' : \'inherit\'}"\n            >\n              <ng-container *ngIf="column === \'action\'">\n                <button mat-icon-button *ngIf="!element.viewed" color="primary" (click)="setnotificationViewed(element.id)" matTooltip="Marcar como visto">\n                  <mat-icon class="mat-16">visibility</mat-icon>\n                </button>\n                <button mat-icon-button *ngIf="element.viewed" disabled color="primary" (click)="setnotificationViewed(element.id)" matTooltip="Visto">\n                  <mat-icon class="mat-16">viewed</mat-icon>\n                </button>\n              </ng-container>\n\n              <span *ngIf="column === \'createdAt\' " > {{moment(element[column]).format(\'ll\')}} </span>\n              <div class="element-tag" [ngStyle]="{\'background-color\': element[\'classification\'].color}" *ngIf="column === \'classification\'" > {{element[column].label}} </div>\n              <span *ngIf="column === \'emiter\'" > {{element[column].name}} {{element[column].lastname}} </span>\n              <span *ngIf="column === \'emiterEmail\'" > {{element[\'emiter\'].email}} </span>\n              <div  *ngIf="column === \'description\'" class="element-description-header" >\n                <mat-icon class="mat-16" color="primary" >{{expandedElement === element ? \'expand_more\' : \'chevron_right\'}}</mat-icon>\n                {{(element[column].length && element[column].length>70) ?\n                   (element[column] | slice:0:70)+\' ...\'\n                   :(element[column])\n                }}\n              </div>\n            </td>\n            <td mat-cell *matCellDef="let element">\n            </td>\n        </ng-container>\n\n        \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n        <ng-container matColumnDef="expandedDetail">\n            <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">\n                <div class="element-detail" fxLayout="row wrap" fxLayoutAlign="space-between center"  fxLayoutGap="15px" [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'">\n\n                    <div class="element-description">\n                        {{element.description}}\n                    </div>\n\n                </div>\n            </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n        <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="element-row"\n            >\n        </tr>\n        <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="detail-row"></tr>\n    </table>\n    <div *ngIf="paginator.length === 0" class="empty-notifications-container">\n      <mat-icon class="empty-notifications-icon">notifications</mat-icon>\n      <h1 style="color: grey;">SIN NOTIFICACIONES</h1>\n    </div>\n    <mat-paginator [length]="paginator.length" [pageSize]="paginator.pageSize" [pageSizeOptions]="pageSizeOptions" (page)="getNotificationsListData()">\n    </mat-paginator>\n</div>\n',animations:[Q.trigger("detailExpand",[Q.state("collapsed",Q.style({height:"0px",minHeight:"0"})),Q.state("expanded",Q.style({height:"*"})),Q.transition("expanded <=> collapsed",Q.animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],styles:["table{width:100%}tr.detail-row{height:0}tr.element-row:not(.expanded-row):hover{background:#f4f4f4}tr.element-row:not(.expanded-row):active{background:#efefef}.element-row td{border-bottom-width:0}.element-detail{overflow:hidden;display:flex;background-color:#f4f4f4;border-radius:10px 10px 0 0}.element-tag{display:flex;justify-content:center;padding:6px;border-radius:15px;width:60%}.element-description-header{display:flex;align-items:center;cursor:pointer;padding:10px 25px 10px 10px}.element-description{padding:16px}.element-description-attribution{opacity:.5}.empty-notifications-container{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px}.empty-notifications-icon{color:grey;font-size:6em;height:100px;width:100px}@media only screen and (max-width:768px){#description-th{padding-left:34px!important}#emiter-td,#emiter-th{display:none!important}#createdAt-th,#emiterEmail-td,#emiterEmail-th{padding-left:20px!important}#createdAt-td{min-width:120px!important;padding-left:20px!important}}"]}]}],t.ctorParameters=function(){return[{type:An},{type:I.MatSnackBar}]},t.propDecorators={paginator:[{type:e.ViewChild,args:[I.MatPaginator,{static:!0}]}]},t}();var sa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[aa,ia],imports:[N.CommonModule,B.RouterModule,I.MatButtonModule,I.MatMenuModule,I.MatIconModule,I.MatBadgeModule,I.MatTableModule,I.MatPaginatorModule,I.MatDividerModule,I.MatTooltipModule],exports:[aa,ia],providers:[An]}]}],t}(),la=function(){function t(){this.appearance="outline",this.desc=void 0,this.value=[]}return t.decorators=[{type:e.Component,args:[{selector:"static-chips",template:'\n<mat-form-field class="chips-mat-form-field control-without-interactivity" [appearance]="appearance">\n\t<mat-label>{{ desc }}</mat-label>\n\t<mat-chip-list *ngIf="value.length" [selectable]="\'false\'" [attr.aria-label]="desc">\n    <mat-chip *ngFor="let item of value" [selectable]="\'false\'" [disableRipple]="\'true\'">{{ item }}</mat-chip>\n  </mat-chip-list>\n  <input *ngIf="!value.length" matInput [value]="\'There is not any item to show!\'" [attr.aria-label]="desc" />\n</mat-form-field>\n',styles:[".chips-mat-form-field{width:100%}.control-without-interactivity{pointer-events:none}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={appearance:[{type:e.Input}],desc:[{type:e.Input}],value:[{type:e.Input}]},t}();var ca=function(){function t(){this.appearance="outline",this.desc=void 0,this.value=[],this.columnsObjectProperty=[],this.columnsHeaderText=[]}return t.decorators=[{type:e.Component,args:[{selector:"static-table",template:'\n\x3c!-- TODO: En dependencia del valor de `appearance`, se aplican las clases CSS para lograr la apariencia deseada. \n     Actualmente, `appearance = \'outline\'` es el único que está hecho. --\x3e\n<fieldset class="static-table-fieldset">\n    <legend class="static-table-fieldset-legend">{{ desc }}</legend>\n\n    <table mat-table [dataSource]="value" class="mat-elevation-z8" [attr.aria-label]="desc">\n        \x3c!-- The content that is showed when the `dataSource` is not empty. --\x3e\n        <ng-container *ngFor="let column of columnsObjectProperty; let pos = index" [matColumnDef]="column">\n            <th mat-header-cell *matHeaderCellDef>\n                {{ columnsHeaderText[pos] }}\n            </th>\n\n            <td mat-cell *matCellDef="let element">\n                {{ element[column] }}\n            </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef="columnsObjectProperty; sticky: true"></tr>\n        <tr mat-row *matRowDef="let row; columns: columnsObjectProperty;"></tr>\n    </table>\n\n</fieldset>\n',styles:[".static-table-fieldset{width:auto;margin:-4px 0 24px;padding:0 10px 14px;cursor:default;background-color:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px}.static-table-fieldset-legend{padding:0 4px;background-color:#fff;color:rgba(0,0,0,.6);font-size:10px}table{width:100%;box-shadow:none}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={appearance:[{type:e.Input}],desc:[{type:e.Input}],value:[{type:e.Input}],columnsObjectProperty:[{type:e.Input}],columnsHeaderText:[{type:e.Input}]},t}();var ua=function(){function t(){this.width="100%",this.appearance="outline",this.desc=void 0,this.value=void 0,this.valueByDefault="There is not any text to show!",this.textAlign="left",this.input_static=void 0}return t.prototype.ngOnInit=function(){void 0===this.value&&(this.value=this.valueByDefault),this.input_static=new V.FormControl(this.value)},t.prototype.handleInput=function(){this.input_static.setValue(this.value)},t.decorators=[{type:e.Component,args:[{selector:"static-text",template:'\n<mat-form-field class="text-mat-form-field control-without-interactivity" [appearance]="appearance">\n    <mat-label>{{ desc }}</mat-label>\n    <input matInput [formControl]="input_static" [style.textAlign]="textAlign" [attr.aria-label]="desc" (input)="handleInput()" />\n</mat-form-field>\n',host:{"[style.width]":"width"},styles:[".text-mat-form-field{width:100%}.control-without-interactivity{pointer-events:none}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={width:[{type:e.Input}],appearance:[{type:e.Input}],desc:[{type:e.Input}],value:[{type:e.Input}],valueByDefault:[{type:e.Input}],textAlign:[{type:e.Input}]},t}();var pa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[la,ca,ua],imports:[ut,V.ReactiveFormsModule],exports:[la,ca,ua]}]}],t}(),da={Relationships:"Relación",Addresses:"Dirección"},ma=function(){function t(){this.orgViewAccordion_Type=da,this.appearance="outline",this.desc=void 0,this.value=[],this.orgViewAccordionType=da.Relationships,this.panelsTitle=[]}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"getAccordion",{get:function(){return this._accordion},enumerable:!0,configurable:!0}),t.prototype.panelHasElement=function(t){switch(this.orgViewAccordionType){case this.orgViewAccordion_Type.Relationships:return this.value[t].links.length;default:return!0}},t.decorators=[{type:e.Component,args:[{selector:"toco-org-view-accordion",template:'\n\x3c!-- TODO: En dependencia del valor de `appearance`, se aplican las clases CSS para lograr la apariencia deseada. \n     Actualmente, `appearance = \'outline\'` es el único que está hecho. --\x3e\n<fieldset class="static-accordion-fieldset">\n\t<legend class="static-accordion-fieldset-legend">{{ desc }}</legend>\n\n\t<div class="static-accordion-buttons">\n\t\t<button mat-raised-button color="primary" (click)="getAccordion.openAll()">Expandir Todo</button>\n\t\t<button mat-raised-button color="primary" (click)="getAccordion.closeAll()">Colapsar Todo</button>\n\t</div>\n\n\t<mat-accordion class="static-mat-accordion" multi [attr.aria-label]="desc">\n\t\t<ng-container *ngFor="let panelTitle of panelsTitle; let pos = index">\n\t\t\t<mat-expansion-panel *ngIf="panelHasElement(pos)">\n\t\t\t\t<mat-expansion-panel-header>\n\t\t\t\t\t<mat-panel-title>\n\t\t\t\t\t\t{{ panelTitle }}\n\t\t\t\t\t</mat-panel-title>\n\t\t\t\t</mat-expansion-panel-header>\n\n\t\t\t\t<ng-container [ngSwitch]="orgViewAccordionType">\n\t\t\t\t\t<toco-org-view-relationship *ngSwitchCase="orgViewAccordion_Type.Relationships" [value]="value[pos]"></toco-org-view-relationship>\n\t\t\t\t\t<toco-org-view-address *ngSwitchCase="orgViewAccordion_Type.Addresses" [value]="value[pos]"></toco-org-view-address>\n\t\t\t\t</ng-container>\n\t\t\t</mat-expansion-panel>\n\t\t</ng-container>\n\t</mat-accordion>\n</fieldset>\n',styles:[".static-accordion-fieldset{width:auto;margin:-4px 0 24px;padding:0 10px 14px;cursor:default;background-color:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px}.static-accordion-fieldset-legend{padding:0 4px;background-color:#fff;color:rgba(0,0,0,.6);font-size:10px}.static-accordion-buttons{margin:20px 0}button{margin-right:10px}.mat-expansion-panel{box-shadow:none;border:1px solid #eaeaea}.mat-expansion-panel:not(.mat-expansion-panel-spacing):not(:first-of-type){margin:-1px 0 0}::ng-deep div.mat-expansion-panel-body{padding:0}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={appearance:[{type:e.Input}],desc:[{type:e.Input}],value:[{type:e.Input}],orgViewAccordionType:[{type:e.Input}],panelsTitle:[{type:e.Input}],_accordion:[{type:e.ViewChild,args:[I.MatAccordion,{static:!0}]}]},t}();var ha=function(){function t(){this.showContent=!0,this.orgViewAccordionType=da,this.org=void 0}return t.prototype.ngOnInit=function(){var t=new Kt;t.deepcopy(this.org),this.org=t,this._panelsTitle_Relationships=["Organizaciones Padres","Organizaciones Hijas","Organizaciones Relacionadas"],this._relationshipsValue=this._createRelationshipsValue(),this._addressesValue=this._createAddressesValue(),this._panelsTitle_Addresses=this._createPanelsTitle_Addresses()},t.prototype.ngOnChanges=function(){this.ngOnInit()},t.prototype._createPanelsTitle_Generic=function(t,e){for(var n=[],o=0;o<e;)n.push(t+" ("+ ++o+") of ("+e+")");return n},t.prototype._createPanelsTitle_Addresses=function(){for(var t=[],e=this._addressesValue.length,n=0;n<e;n++)t.push(this._addressesValue[n].city+" | "+this._addressesValue[n].country+" "+(this._addressesValue[n].primary?"(Principal)":""));return t},t.prototype._createRelationshipsValue=function(){var t,e,n,o,a,r=[],i=-1;try{for(var s=ot(this._panelsTitle_Relationships),l=s.next();!l.done;l=s.next())a=l.value,r.push({links:[]})}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}if(this.org.relationships)try{for(var c=ot(this.org.relationships),u=c.next();!u.done;u=c.next()){switch((a=u.value).type){case"parent":i=0;break;case"child":i=1;break;default:i=2}r[i].links.push({url:"/"+a.id+"/view",name:a.label})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return r},t.prototype._createAddressesValue=function(){var t,e,n=[],o=[];try{for(var a=ot(this.org.addresses),r=a.next();!r.done;r=a.next()){var i=r.value;i.primary?n.push(i):o.push(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return n.concat(o)},Object.defineProperty(t.prototype,"getPanelsTitle_Relationships",{get:function(){return this._panelsTitle_Relationships},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValue_Relationships",{get:function(){return this._relationshipsValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getPanelsTitle_Addresses",{get:function(){return this._panelsTitle_Addresses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValue_Addresses",{get:function(){return this._addressesValue},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"toco-org-view",template:'\n<mat-card *ngIf="org" class="container-panel-mat-card" [attr.aria-label]="\'Muestra la organización seleccionada\'">\n  <mat-card-header>\n\n    \x3c!-- <div mat-card-avatar class="example-header-image"></div> --\x3e\n    <mat-card-title class="title-padding">{{ org.name }}</mat-card-title>\n    <mat-card-subtitle class="title-padding">SceibaOrgID: {{ org.id }}</mat-card-subtitle>\n    <mat-card-subtitle *ngIf="org.status" class="cursor-default title-padding">\n      Estatus de la organización: {{ org.status }}\n    </mat-card-subtitle>\n\n  </mat-card-header>\n\n  <mat-card-content *ngIf="showContent">\n\n    <static-table *ngIf="org.identifiers && org.identifiers.length" [desc]="\'Lista de los identificadores de la organización\'" [value]="org.identifiers"\n      [columnsObjectProperty]="[\'idtype\', \'value\']"\n      [columnsHeaderText]="[\'Identifier type\', \'Identifier value\']"\n    >\n    </static-table>\n    <static-chips *ngIf="org.aliases && org.aliases.length" [desc]="\'Lista de otros nombres con los que se conoce la organización\'" [value]="org.aliases"></static-chips>\n    <static-chips *ngIf="org.acronyms && org.acronyms.length" [desc]="\'Lista de los acrónimos con que se conoce la organización\'" [value]="org.acronyms"></static-chips>\n    <static-chips *ngIf="org.types && org.types.length" [desc]="\'Lista de los tipos que describen la organización\'" [value]="org.types"></static-chips>\n    <static-text *ngIf="org.wikipedia_url" [desc]="\'URL de la página de Wikipedia de la organización\'" [value]="org.wikipedia_url"></static-text>\n    <static-text *ngIf="org.redirect" [desc]="\'URL de la página originaria de la organización\'" [value]="org.redirect.properties.value"></static-text>\n    <static-text *ngIf="org.email_address" [desc]="\'Correo electrónico de contacto de la organización\'" [value]="org.email_address"></static-text>\n    \x3c!-- <static-chips *ngIf="org.ip_addresses && org.ip_addresses.length" [desc]="\'Lista de direcciones IP conocidas que pertenecen a la organización\'" [value]="org.ip_addresses"></static-chips> --\x3e\n    <static-text *ngIf="org.established" [desc]="\'Año de fundada la organización\'" [value]="org.established"></static-text>\n    <static-text *ngIf="org.onei_registry" [desc]="\'Número de registro en la ONEI\'" [value]="org.onei_registry"></static-text>\n    <static-chips *ngIf="org.links && org.links.length" [desc]="\'Lista de los enlaces conocidos de la organización\'" [value]="org.links"></static-chips>\n    <static-table *ngIf="org.labels && org.labels.length" [desc]="\'Nombre de la organización en diferentes lenguajes\'" [value]="org.labels"\n      [columnsObjectProperty]="[\'label\', \'iso639\']"\n      [columnsHeaderText]="[\'Institute name in a language variant\', \'ISO-639-1 language code\']"\n    >\n    </static-table>\n    <toco-org-view-accordion *ngIf="org.relationships && org.relationships.length" [desc]="\'Relaciones con otras organizaciones\'" [value]="getValue_Relationships"\n      [orgViewAccordionType]="orgViewAccordionType.Relationships"\n      [panelsTitle] = "getPanelsTitle_Relationships"\n    >\n    </toco-org-view-accordion>\n    <toco-org-view-accordion *ngIf="org.addresses && org.addresses.length" [desc]="\'Direcciones conocidas de la organización\'" [value]="getValue_Addresses"\n      [orgViewAccordionType]="orgViewAccordionType.Addresses"\n      [panelsTitle] = "getPanelsTitle_Addresses"\n    >\n    </toco-org-view-accordion>\n\n  </mat-card-content>\n</mat-card>\n',styles:[".cursor-default{cursor:default}.title-padding{padding:0 0 0 .1em}.example-header-image{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.form-container{display:flex;flex-direction:column;justify-content:start;width:40%}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={org:[{type:e.Input}],showContent:[{type:e.Input}]},t}();var fa=function(){function t(){this.value=void 0}return t.decorators=[{type:e.Component,args:[{selector:"toco-org-view-address",template:'\n<static-text *ngIf="value.city" [desc]="\'Nombre de la ciudad\'" [value]="value.city"></static-text>\n<static-text *ngIf="value.municipality" [desc]="\'Nombre del municipio\'" [value]="value.municipality"></static-text>\n<static-text *ngIf="value.country" [desc]="\'Nombre del país\'" [value]="value.country"></static-text>\n<static-text *ngIf="value.country_code" [desc]="\'Código ISO 3166-1 alpha-2 del país\'" [value]="value.country_code"></static-text>\n<static-text *ngIf="value.lat" [desc]="\'Latitud (coordenadas geográficas)\'" [value]="value.lat"></static-text>\n<static-text *ngIf="value.lng" [desc]="\'Longitud (coordenadas geográficas)\'" [value]="value.lng"></static-text>\n<static-text *ngIf="value.line_1" [desc]="\'Primera línea de la dirección\'" [value]="value.line_1"></static-text>\n<static-text *ngIf="value.line_2" [desc]="\'Segunda línea de la dirección\'" [value]="value.line_2"></static-text>\n<static-text *ngIf="value.line_3" [desc]="\'Tercera línea de la dirección\'" [value]="value.line_3"></static-text>\n<static-text *ngIf="value.postcode" [desc]="\'Código postal\'" [value]="value.postcode"></static-text>\n<static-text *ngIf="value.primary != undefined" [desc]="\'Especifica si esta dirección identifica la dirección principal\'" [value]="value.primary.toString()"></static-text>\n<static-text *ngIf="value.state" [desc]="\'Nombre del estado/región\'" [value]="value.state"></static-text>\n<static-text *ngIf="value.state_code" [desc]="\'Código ISO 3166-2 del estado/región\'" [value]="value.state_code"></static-text>\n<toco-org-view-geo-names-city *ngIf="value.geonames_city" [desc]="\'Datos GeoNames enlazados\'" [value]="value.geonames_city"></toco-org-view-geo-names-city>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={value:[{type:e.Input}]},t}();var ga=function(){function t(){this.appearance="outline",this.desc=void 0,this.value=void 0,this._geonames_admin1=[],this._geonames_admin2=[],this._nuts_level1=[],this._nuts_level2=[],this._nuts_level3=[]}return t.prototype.ngOnInit=function(){this.value&&(this.value.geonames_admin1&&this._createValueAsArray(this.value.geonames_admin1,this._geonames_admin1),this.value.geonames_admin2&&this._createValueAsArray(this.value.geonames_admin2,this._geonames_admin2),this.value.nuts_level1&&this._createValueAsArray(this.value.nuts_level1,this._nuts_level1),this.value.nuts_level2&&this._createValueAsArray(this.value.nuts_level2,this._nuts_level2),this.value.nuts_level3&&this._createValueAsArray(this.value.nuts_level3,this._nuts_level3))},t.prototype._createValueAsArray=function(t,e){Object.keys(t).forEach((function(n){e.push({property:n,value:t[n]})}))},Object.defineProperty(t.prototype,"getGeoNamesAdmin1",{get:function(){return this._geonames_admin1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getGeoNamesAdmin2",{get:function(){return this._geonames_admin2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getNutsLevel1",{get:function(){return this._nuts_level1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getNutsLevel2",{get:function(){return this._nuts_level2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getNutsLevel3",{get:function(){return this._nuts_level3},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"toco-org-view-geo-names-city",template:'\n\x3c!-- TODO: En dependencia del valor de `appearance`, se aplican las clases CSS para lograr la apariencia deseada. \n     Actualmente, `appearance = \'outline\'` es el único que está hecho. --\x3e\n<fieldset class="static-geo-names-city-fieldset">\n    <legend class="static-geo-names-city-fieldset-legend">{{ desc }}</legend>\n\n    <static-text *ngIf="value.id" [desc]="\'Identificador GeoNames\'" [value]="value.id"></static-text>\n    <static-text *ngIf="value.city" [desc]="\'Nombre de la ciudad\'" [value]="value.city"></static-text>\n    <static-table *ngIf="value.geonames_admin1" [desc]="\'geonames_admin1\'" [value]="getGeoNamesAdmin1"\n        [columnsObjectProperty]="[\'property\', \'value\']"\n        [columnsHeaderText]="[\'Property\', \'Value\']"\n    >\n    </static-table>\n    <static-table *ngIf="value.geonames_admin2" [desc]="\'geonames_admin2\'" [value]="getGeoNamesAdmin2"\n        [columnsObjectProperty]="[\'property\', \'value\']"\n        [columnsHeaderText]="[\'Property\', \'Value\']"\n    >\n    </static-table>\n    <static-table *ngIf="value.nuts_level1" [desc]="\'nuts_level1\'" [value]="getNutsLevel1"\n        [columnsObjectProperty]="[\'property\', \'value\']"\n        [columnsHeaderText]="[\'Property\', \'Value\']"\n    >\n    </static-table>\n    <static-table *ngIf="value.nuts_level2" [desc]="\'nuts_level2\'" [value]="getNutsLevel2"\n        [columnsObjectProperty]="[\'property\', \'value\']"\n        [columnsHeaderText]="[\'Property\', \'Value\']"\n    >\n    </static-table>\n    <static-table *ngIf="value.nuts_level3" [desc]="\'nuts_level3\'" [value]="getNutsLevel3"\n        [columnsObjectProperty]="[\'property\', \'value\']"\n        [columnsHeaderText]="[\'Property\', \'Value\']"\n    >\n    </static-table>\n</fieldset>\n',styles:[".static-geo-names-city-fieldset{width:auto;margin:-4px 0 24px;padding:14px 10px;cursor:default;background-color:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px}.static-geo-names-city-fieldset-legend{padding:0 4px;background-color:#fff;color:rgba(0,0,0,.6);font-size:10px}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={appearance:[{type:e.Input}],desc:[{type:e.Input}],value:[{type:e.Input}]},t}();var ya=function(){function t(){this.value=void 0}return t.decorators=[{type:e.Component,args:[{selector:"toco-org-view-relationship",template:'\n<a mat-button *ngFor="let link of value.links"\n    class="aling-left"\n    color="warn"\n    [routerLink]="link.url"\n    [ngStyle]="{\'line-height\': \'initial\', \'padding\': \'10px 16px\'}"\n>\n    {{ link.name }}\n</a>\n\n\x3c!--\n  href="{{ link.url }}"\n\n  <static-table *ngIf="value.identifiers && value.identifiers.length" [desc]="\'Identificadores de la organización\'" [value]="value.identifiers"\n    [columnsObjectProperty]="[\'idtype\', \'value\']"\n    [columnsHeaderText]="[\'Identifier type\', \'Identifier value\']"\n>\n</static-table>\n<static-text *ngIf="value.type" [desc]="\'Tipo de la relación\'" [value]="value.type"></static-text>\n<static-text *ngIf="value.label" [desc]="\'Nombre de la organización relacionada\'" [value]="value.label"></static-text> --\x3e\n',styles:[".aling-left{text-align:left;white-space:normal!important}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={value:[{type:e.Input}]},t}();var ba=function(){function t(t,e){this._router=t,this._activatedRoute=e,this.operationAction=oo,this.panelFormSection=new V.FormGroup({},[])}return t.prototype.ngOnInit=function(){this.panelContent=this._initPanelContent()},t.prototype._initPanelContent=function(){return{formSection:this.panelFormSection,name:"panel",label:"Edita la organización seleccionada",controlType:po,description:"",iconName:void 0,formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"name",label:"Name typically used to refer to the institute",controlType:Lo,required:!0,value:this.org.name,width:"100%",appearance:yo.outline,ariaLabel:"Name typically used to refer to the institute"},{formControl:Do.getFormControlByDefault(),name:"status",label:"Institute status",controlType:Do,required:!0,value:this.org.status,width:"45%",appearance:yo.outline,ariaLabel:"Institute status",selectOptions:[{label:"Active",value:"active"},{label:"Closed",value:"closed"},{label:"Unknown",value:"unknown"}],multiple:!1},this._initIdentifiersContent("Organization Identifiers, different from GRID mapping",this.org.identifiers,!1),{formControl:Do.getFormControlByDefault(),name:"aliases",label:"The list of other names the institute is known as",controlType:Do,required:!1,value:this.org.aliases,width:"100%",appearance:yo.outline,ariaLabel:"The list of other names the institute is known as",multiple:!0},{formControl:Do.getFormControlByDefault(),name:"acronyms",label:"The of short acronyms the institute is known as (e.g. MRC for the Medical Research Council)",controlType:Do,required:!1,value:this.org.acronyms,width:"100%",appearance:yo.outline,ariaLabel:"The list of short acronyms the institute is known as (e.g. MRC for the Medical Research Council)",multiple:!0},{formControl:Do.getFormControlByDefault(),name:"types",label:"The list of types describing the institute",controlType:Do,required:!0,value:this.org.types,width:"100%",appearance:yo.outline,ariaLabel:"The list of types describing the institute",selectOptions:[{label:"Education",value:"Education"},{label:"Healthcare",value:"Healthcare"},{label:"Company",value:"Company"},{label:"Archive",value:"Archive"},{label:"Nonprofit",value:"Nonprofit"},{label:"Government",value:"Government"},{label:"Facility",value:"Facility"},{label:"Other",value:"Other"}],multiple:!0},{formControl:Fo.getFormControlByDefault(),name:"wikipedia_url",label:"URL of the wikipedia page for the institute",controlType:Fo,required:!1,value:this.org.wikipedia_url,width:"45%",appearance:yo.outline,ariaLabel:"URL of the wikipedia page for the institute"},{formControl:_o.getFormControlByDefault(),name:"email_address",label:"Contact email address for the institute",controlType:_o,required:!0,value:this.org.email_address,width:"45%",appearance:yo.outline,ariaLabel:"Contact email address for the institute"},{formControl:Do.getFormControlByDefault(),name:"ip_addresses",label:"The list of IP addresses known to belong to the institute",controlType:Do,required:!1,value:this.org.ip_addresses,width:"100%",appearance:yo.outline,ariaLabel:"The list of IP addresses known to belong to the institute",multiple:!0},{formControl:Lo.getFormControlByDefault(),name:"established",label:"Year the institute opened, CE",controlType:Lo,required:!0,value:this.org.established,width:"45%",appearance:yo.outline,ariaLabel:"Year the institute opened, CE"},{formControl:Do.getFormControlByDefault(),name:"links",label:"The list of URLs linking to things like the homepage for the institute",controlType:Do,required:!1,value:this.org.links,width:"100%",appearance:yo.outline,ariaLabel:"The list of URLs linking to things like the homepage for the institute",multiple:!0},this._initLabelsSimpleContent(),this._initRelationshipsSimpleContent(),this._initAddressesSimpleContent()]}},t.prototype._initIdentifiersContent=function(t,e,n){var o={formSection:mo.getFormArrayByDefault(),name:"identifiers",label:t,controlType:mo,value:e,width:"100%",required:!0,ariaLabel:t,isDynamic:n,formSectionContent:[{formSection:mo.getFormGroupByDefault(),name:"0",label:"Organization Identifier",controlType:mo,width:"100%",ariaLabel:"Organization Identifier",formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"idtype",label:"Identifier type",controlType:Lo,required:!0,width:"50%",appearance:yo.outline,ariaLabel:"Identifier type"},{formControl:Lo.getFormControlByDefault(),name:"value",label:"Identifier value",controlType:Lo,required:!0,width:"50%",appearance:yo.outline,ariaLabel:"Identifier value",startHint:new Qn(Kn.start,"Un identificador es una secuencia de letras")}]}]};return n&&o.formSectionContent[0].formSectionContent.push(this._initRemoveButtonContent("Remove identifier")),o},t.prototype._initLabelsSimpleContent=function(){return{formSection:mo.getFormArrayByDefault(),name:"labels",label:"Name of the institute in different languages",controlType:mo,value:this.org.labels,width:"100%",ariaLabel:"Name of the institute in different languages",formSectionContent:[{formSection:mo.getFormGroupByDefault(),name:"0",label:"Label diff lang",controlType:mo,width:"100%",ariaLabel:"Label diff lang",formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"label",label:"Institute name in a language variant",controlType:Lo,required:!0,width:"70%",appearance:yo.outline,ariaLabel:"Institute name in a language variant"},{formControl:Lo.getFormControlByDefault(),name:"iso639",label:"ISO-639-1 language code",controlType:Lo,required:!0,width:"30%",appearance:yo.outline,ariaLabel:"ISO-639-1 language code"},this._initRemoveButtonContent("Remove label")]}]}},t.prototype._initRelationshipsSimpleContent=function(){return{formSection:mo.getFormArrayByDefault(),name:"relationships",label:"Any relationships the institute has to others",controlType:mo,value:this.org.relationships,required:!1,width:"100%",ariaLabel:"Any relationships the institute has to others",formSectionContent:[{formSection:mo.getFormGroupByDefault(),name:"0",label:"Relationship",controlType:mo,width:"100%",ariaLabel:"Relationship",formSectionContent:[this._initIdentifiersContent("Related Organization Identifiers",void 0,!0),{formControl:Do.getFormControlByDefault(),name:"type",label:"Relationship type",controlType:Do,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Relationship type",selectOptions:[{label:"Parent",value:"parent"},{label:"Related",value:"related"},{label:"Child",value:"child"}],multiple:!1},{formControl:Lo.getFormControlByDefault(),name:"label",label:"Name of the related institute",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Name of the related institute"},this._initRemoveButtonContent("Remove relationship")]}]}},t.prototype._initAddressesSimpleContent=function(){return{formSection:mo.getFormArrayByDefault(),name:"addresses",label:"An array of addresses associated with the institute",controlType:mo,value:this.org.addresses,required:!0,width:"100%",ariaLabel:"An array of addresses associated with the institute",formSectionContent:[{formSection:mo.getFormGroupByDefault(),name:"0",label:"Address",controlType:mo,width:"100%",ariaLabel:"Address",formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"city",label:"Name of the city",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Name of the city"},{formControl:Lo.getFormControlByDefault(),name:"country",label:"Name of the country",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Name of the country"},{formControl:Lo.getFormControlByDefault(),name:"country_code",label:"ISO 3166-1 alpha-2 code of the country",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"ISO 3166-1 alpha-2 code of the country"},{formControl:Lo.getFormControlByDefault(),name:"lat",label:"Latitute of the institute",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Latitute of the institute"},{formControl:Lo.getFormControlByDefault(),name:"lng",label:"Longitude of the institute",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Longitude of the institute"},{formControl:Lo.getFormControlByDefault(),name:"line_1",label:"First line of the address",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"First line of the address"},{formControl:Lo.getFormControlByDefault(),name:"line_2",label:"Second line of the address",controlType:Lo,required:!1,width:"45%",appearance:yo.outline,ariaLabel:"Second line of the address"},{formControl:Lo.getFormControlByDefault(),name:"line_3",label:"Third line of the address",controlType:Lo,required:!1,width:"45%",appearance:yo.outline,ariaLabel:"Third line of the address"},{formControl:Lo.getFormControlByDefault(),name:"postcode",label:"Postcode/zipcode",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Postcode/zipcode"},{formControl:Lo.getFormControlByDefault(),name:"state",label:"Name of the state/region",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"Name of the state/region"},{formControl:Lo.getFormControlByDefault(),name:"state_code",label:"ISO 3166-2 region code",controlType:Lo,required:!0,width:"45%",appearance:yo.outline,ariaLabel:"ISO 3166-2 region code"},this._initRemoveButtonContent("Remove address")]}]}},t.prototype._initRemoveButtonContent=function(t){return{name:"remove",label:"Remove",controlType:so,width:"30%",ariaLabel:"Remove",icon:new $n(Yn.external,Xn.prefix,"remove_circle"),tooltip:new Qn(Kn.start,t),click:function(t){t.parentContainerControl.parentContainerControl.removeFromFormArray(+t.parentContainerControl.content.name)},isDisabled:function(t){return!t.parentContainerControl.parentContainerControl.canRemoveFromFormArray}}},t.prototype.doOperationAction=function(t){console.log("panelContent: ",this.panelContent),console.log("panelContent.parentFormSection: ",this.panelContent.parentFormSection),console.log("panelContent.formSection",this.panelContent.formSection)},Object.defineProperty(t.prototype,"isResetActionDisabled",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSubmitActionDisabled",{get:function(){return this.panelFormSection.invalid},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"toco-org-edit",template:'\n<container-panel [content]="panelContent"></container-panel>\n\x3c!-- <test-container-control></test-container-control> --\x3e\n\n\x3c!-- <container-panel [content]="addressesPanelContent"></container-panel> --\x3e\n\x3c!-- <br /> --\x3e\n\x3c!-- <container-simple [content]="labelsSimpleContent"></container-simple> --\x3e\n\n<div [ngStyle]="{\'margin\': \'1em 0 1em 0\'}">\n    <button mat-raised-button color="primary" (click)="doOperationAction(operationAction.cancel)">Cancel</button>\n    <button mat-raised-button color="primary" [disabled]="isResetActionDisabled" (click)="doOperationAction(operationAction.reset)">Reset</button>\n    <button mat-raised-button color="primary" (click)="doOperationAction(operationAction.delete)">Delete</button>\n    <button mat-raised-button color="primary" [disabled]="isSubmitActionDisabled" (click)="doOperationAction(operationAction.submit)">Submit</button>\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:B.Router},{type:B.ActivatedRoute}]},t.propDecorators={org:[{type:e.Input}]},t}();var va=function(){function t(t,e){this._router=t,this._activatedRoute=e,this.operationAction=oo,this.panelFormSection=new V.FormGroup({},[])}return t.prototype.ngOnInit=function(){this.panelContent=this._initPanelContent()},t.prototype._initPanelContent=function(){return{formSection:this.panelFormSection,name:"panel",label:"Adiciona una nueva organización",controlType:po,title:"Adiciona una nueva organización",description:"",iconName:void 0,formSectionContent:[]}},t.prototype.doOperationAction=function(t){this._router.navigate(["../",{operation:t}])},Object.defineProperty(t.prototype,"isSubmitActionDisabled",{get:function(){return this.panelFormSection.invalid},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"toco-org-add",template:'\n<container-panel [content]="panelContent"></container-panel>\n\n<h3>Add the rest of <span [ngStyle]="{ \'color\': \'red\' }">readonly</span> content to `panelContent.formSectionContent` field!</h3>\n\n<div [ngStyle]="{\'margin\': \'1em 0 1em 0\'}">\n    <button mat-raised-button color="primary" (click)="doOperationAction(operationAction.cancel)">Cancel</button>\n    <button mat-raised-button color="primary" [disabled]="isSubmitActionDisabled" (click)="doOperationAction(operationAction.submit)">Submit</button>\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:B.Router},{type:B.ActivatedRoute}]},t}();var xa=function(){function t(t){this._orgService=t,this.orgCtrl=new V.FormControl,this.filteredOrg=new At,this.params=new R.HttpParams,this.placeholder="Escriba al menos 3 letras",this.label="Busque una organización",this.appearance="outline",this.cleaning=!1,this.selectedOrg=new e.EventEmitter,this.toSearch=0}return t.prototype.ngOnInit=function(){var t,e,n=this;if(this.params=this.params.set("size","10"),this.params=this.params.set("page","1"),null!=this.orgFilter)if(G.isArray(this.orgFilter)){var o=this.orgFilter;try{for(var a=ot(o),r=a.next();!r.done;r=a.next()){var i=r.value;this.params=this.params.set(i.type,i.value)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}else{var s=this.orgFilter.type,l=this.orgFilter.value;this.params=this.params.set(s,l)}this.orgCtrl.valueChanges.subscribe({next:function(t){n.toSearch++,n.toSearch>3&&"string"==typeof t?(n.toSearch=0,n.params=n.params.set("q",t),n._orgService.getOrganizations(n.params).subscribe({next:function(t){n.filteredOrg=t.hits}})):"object"==typeof t&&(n.toSearch=0,n.selectedOrg.emit(t),n.cleaning&&n.orgCtrl.setValue(""))}})},t.prototype.displayFn=function(t){return t?t.name:void 0},t.decorators=[{type:e.Component,args:[{selector:"toco-org-search",template:'\n<mat-form-field [ngStyle]="{\'width\': \'100%\'}" appearance="{{appearance}}">\n    <mat-label>{{label}}</mat-label>\n    <input matInput placeholder="{{placeholder}}" aria-label="Buscar" [matAutocomplete]="auto" [formControl]="orgCtrl">\n\n    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">\n\n        <mat-option *ngFor="let org of filteredOrg.hits" [value]="org.metadata">\n            <span title="{{org.metadata.name}}">{{org.metadata.name}}</span>\n        </mat-option>\n\n    </mat-autocomplete>\n  </mat-form-field>',styles:[""]}]}],t.ctorParameters=function(){return[{type:Dn}]},t.propDecorators={orgCtrl:[{type:e.Input}],orgFilter:[{type:e.Input}],placeholder:[{type:e.Input}],label:[{type:e.Input}],appearance:[{type:e.Input}],cleaning:[{type:e.Input}],selectedOrg:[{type:e.Output}]},t}();var _a=function(){function t(t,e,n){this._router=t,this._activatedRoute=e,this._organizationService=n}return t.prototype.ngOnInit=function(){this.tableContent=this._initTableContent()},t.prototype._initSearchContent=function(){return{formControl:Lo.getFormControlByDefault(),width:"65%",label:"Write a text to search",controlType:Lo,textAlign:Wn.left,ariaLabel:"Search",appearance:yo.outline,prefixIcon:new $n(Yn.external,Xn.prefix,"search"),startHint:new Qn(Kn.start,"Searches when typing stops.")}},t.prototype._initTableContent=function(){var t=this;return{columnsObjectProperty:["name","status","email_address"],columnsHeaderText:["Nombre","Estatus","Dirección de Correo"],columnsWidth:["60%","22%","18%"],columnContentWrap:[ho.ellipsis,ho.ellipsis,ho.responsible],createCssClassesForRow:function(e){return{"selected-row":e[t.tableContent.propertyNameToIdentify]==t._tableControl.selectedRow}},propertyNameToIdentify:"id",sort:{active:"id",direction:nn.desc},pageIndex:0,pageSize:5,pageSizeOptions:[5,10,20,50],showFirstLastButtons:!0,endpoint:this._getMySources.bind(this),actions:[{icon:"visibility",route:"ver",tooltip:"Ver"},{icon:"edit",route:"editar",tooltip:"Editar"}]}},t.prototype._getMySources=function(t){return this._organizationService.get(On.organizations,[]).pipe(W.map((function(e){return console.log("Organizations Response: ",e),{data:e,totalData:e.length,pageIndex:t.paginator.pageIndex,pageSize:t.paginator.pageSize}})))},t.prototype.doOperation=function(){this._router.navigate(["organizaciones/adicionar"])},t.decorators=[{type:e.Component,args:[{selector:"toco-org-table-edit",template:'\n\x3c!-- <container-simple [content]="identifiersContent"></container-simple> --\x3e\n\x3c!-- <container-simple [content]="identifiersContent_Complex"></container-simple> --\x3e\n\n<div [ngStyle]="{\'margin\': \'1em 0 1em 0\'}">\n    <button mat-raised-button color="primary" (click)="doOperation()">Add Organization</button>\n    \x3c!-- <input-text #input_search [content]="searchContent"></input-text> --\x3e\n  </div>\n  \n  \x3c!-- <toco-table></toco-table> --\x3e\n  <toco-table [content]="tableContent"></toco-table>\n  ',styles:[""]}]}],t.ctorParameters=function(){return[{type:B.Router},{type:B.ActivatedRoute},{type:Pn}]},t.propDecorators={_tableControl:[{type:e.ViewChild,args:[fo,{static:!0}]}]},t}();var Ca=function(t,e,n,o,a){void 0===n&&(n=1),void 0===o&&(o=!1),void 0===a&&(a=!1),this.item=t,this.parent=e,this.level=n,this.expandable=o,this.isLoading=a};var wa=function(){function t(t,e){this._treeControl=t,this.orgService=e,this.dataChange=new z.BehaviorSubject([]),this.orgRelationshipType=null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.dataChange.value},set:function(t){this._treeControl.dataNodes=t,this.dataChange.next(t)},enumerable:!0,configurable:!0}),t.prototype.connect=function(t){var e=this;return this._treeControl.expansionModel.onChange.subscribe((function(t){(t.added||t.removed)&&e.handleTreeControl(t)})),z.merge(t.viewChange,this.dataChange).pipe(W.map((function(){return e.data})))},t.prototype.handleTreeControl=function(t){var e=this;t.added&&t.added.forEach((function(t){return e.toggleNode(t,!0)})),t.removed&&t.removed.slice().reverse().forEach((function(t){return e.toggleNode(t,!1)}))},t.prototype.toggleNode=function(t,e){var n=this;t.isLoading=!0;var o=this.data.indexOf(t);if(!(t.item.metadata.relationships.length<=0||o<0))if(e)this.orgService.getOrganizationRelationships(t.item.metadata.id,this.orgRelationshipType).subscribe((function(e){var a,r=e.map((function(e){return new Ca(e,t,t.level+1,e.metadata.relationships.length>0)}));(a=n.data).splice.apply(a,rt([o+1,0],r)),n.dataChange.next(n.data),t.isLoading=!1}),(function(t){}),(function(){}));else{for(var a=0,r=o+1;r<this.data.length&&this.data[r].level>t.level;r++)a++;this.data.splice(o+1,a),this.dataChange.next(this.data),t.isLoading=!1}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:X.FlatTreeControl},{type:Dn}]},t}();var Ia=function(){function t(t){this.orgService=t,this.organizations=new Array,this.orgRelationshipType=null,this.iconAction="visibility",this.labelAction="",this.ngStyle=null,this.action=new e.EventEmitter,this.error=!1,this.getLevel=function(t){return t.level},this.isExpandable=function(t){return t.expandable},this.hasChild=function(t,e){return e.expandable},this.treeControl=new X.FlatTreeControl(this.getLevel,this.isExpandable),this.dataSource=new wa(this.treeControl,t)}return t.prototype.ngOnInit=function(){this.dataSource.orgRelationshipType=this.orgRelationshipType,this.dataSource.data=this.organizations.map((function(t){return new Ca(t,null,1,t.metadata.relationships.length>0)}))},t.prototype.emitAction=function(t){this.action.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"toco-org-tree-viewer",template:'<mat-tree\n  [dataSource]="dataSource"\n  [treeControl]="treeControl"\n  [ngStyle]="ngStyle"\n>\n  <mat-tree-node\n    *matTreeNodeDef="let node"\n    matTreeNodePadding\n  >\n    <button mat-icon-button disabled></button>\n    {{ node.item.metadata.name }}\n    <button\n        mat-icon-button\n        matTooltip="labelAction"\n        (click)="emitAction(node)"\n      >\n        <mat-icon>{{iconAction}}</mat-icon>\n      </button>\n  </mat-tree-node>\n  <mat-tree-node\n    *matTreeNodeDef="let node; when: hasChild"\n    matTreeNodePadding\n  >\n    <button\n      mat-icon-button\n      [attr.aria-label]="\'toggle \' + node.filename"\n      matTreeNodeToggle\n    >\n      <mat-icon class="mat-icon-rtl-mirror">\n        {{ treeControl.isExpanded(node) ? "expand_more" : "chevron_right" }}\n      </mat-icon>\n    </button>\n    {{ node.item.metadata.name }}\n    <button\n        mat-icon-button\n        matTooltip="labelAction"\n        (click)="emitAction(node)"\n      >\n        <mat-icon>{{iconAction}}</mat-icon>\n      </button>\n    <mat-progress-bar\n      *ngIf="node.isLoading"\n      mode="indeterminate"\n      class="example-tree-progress-bar"\n    ></mat-progress-bar>\n  </mat-tree-node>\n</mat-tree>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:Dn}]},t.propDecorators={organizations:[{type:e.Input}],orgRelationshipType:[{type:e.Input}],iconAction:[{type:e.Input}],labelAction:[{type:e.Input}],ngStyle:[{type:e.Input}],action:[{type:e.Output}]},t}();var Sa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[ha,ma,fa,ga,ya,ba,va,xa,_a,Ia],imports:[j.FlexLayoutModule,N.CommonModule,V.FormsModule,R.HttpClientModule,ct,V.ReactiveFormsModule,B.RouterModule,Wo,I.MatAutocompleteModule,I.MatChipsModule,pa],exports:[ha,ba,va,xa,Ia],schemas:[e.CUSTOM_ELEMENTS_SCHEMA]}]}],t}(),Ta=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-person",template:"<p>\n  person works!\n</p>\n\x3c!-- <router-outlet></router-outlet> --\x3e",styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),Aa=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-person-view",template:"<p>\n  person-view works!\n</p>\n",styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),Oa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Ta,Aa],imports:[ut],exports:[Ta,Aa]}]}],t}(),Pa=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-record",template:'<mat-card *ngIf="record">\n    <mat-card-header>\n        <mat-card-title>{{record.title}}</mat-card-title>\n        <mat-card-subtitle>{{record.source_repo}}</mat-card-subtitle>\n    </mat-card-header>\n\n    <mat-card-content>\n        {{record.description}}\n    </mat-card-content>\n    <mat-card-actions>\n        <mat-chip-list>\n            <mat-chip *ngFor="let keyword of record.keywords">{{keyword}}</mat-chip>\n        </mat-chip-list>\n    </mat-card-actions>\n</mat-card>\n<mat-divider>\n</mat-divider>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={record:[{type:e.Input}]},t}();var Da=function(){function t(){this.aggregations={},this.selectedAggr={},this.keySelect=new e.EventEmitter,this.keys=[]}return t.prototype.ngOnInit=function(){for(var t in this.aggregations)if(this.aggregations.hasOwnProperty(t)){this.aggregations[t];this.keys.push({key:t,sp:this._translate(t)})}console.log("cola"),console.log(this.keys)},t.prototype._translate=function(t){switch(t){case"status":return"Estado";case"country":return"País";case"state":return"Provincia (Estado)";case"types":return"Tipos";default:return this.aggregations[t].label}return t},t.prototype.isSelected=function(t,e){if(this.selectedAggr.hasOwnProperty(t))for(var n=0;n<this.selectedAggr[t].length;n++){if(this.selectedAggr[t][n]==e.key)return!0}return!1},t.prototype.selectionChange=function(t,e){this.selectedAggr.hasOwnProperty(t)||(this.selectedAggr[t]=[]),this.selectedAggr[t].find((function(t){return t==e.key}))?this.selectedAggr[t]=this.selectedAggr[t].filter((function(t){return t!=e.key})):this.selectedAggr[t].push(e.key),this.keySelect.emit(this.selectedAggr)},t.decorators=[{type:e.Component,args:[{selector:"toco-search-aggregations",template:'<ng-container *ngFor="let key of keys">\n  <mat-card *ngIf="aggregations[key.key].buckets.length != 0" class="m-1">\n    <mat-card-header>\n      <mat-card-title class="text-capitalize">{{ key.sp }} </mat-card-title>\n    </mat-card-header>\n    <mat-card-content fxLayout="column">\n      <mat-checkbox\n        *ngFor="let bucket of aggregations[key.key].buckets"\n        [checked]="isSelected(key.key, bucket)"\n        (change)="selectionChange(key.key, bucket)"\n        class="text-capitalize"\n      >\n        {{ bucket.key }} ({{ bucket.doc_count }})\n      </mat-checkbox>\n    </mat-card-content>\n  </mat-card>\n</ng-container>\n',styles:[".m-1{margin:1em}.text-capitalize{text-transform:capitalize!important}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={aggregations:[{type:e.Input}],selectedAggr:[{type:e.Input}],keySelect:[{type:e.Output}]},t}();var La=function(){function t(){this.query="",this.minWordCount=3,this.appearance="outline",this.inputColor="",this.buttonColor="primary",this.showButton=!0,this.width=100,this.queryChange=new e.EventEmitter,this.queryCtrl=new V.FormControl}return t.prototype.ngOnInit=function(){},t.prototype.riseQuery=function(){this.queryChange.emit(this.queryCtrl.value?this.queryCtrl.value:"")},t.decorators=[{type:e.Component,args:[{selector:"toco-search-query-input",template:'<div fxLayout="row" [ngStyle]="{\'align-items\': \'center\', \'width.%\': width }">\n    \n    <mat-form-field *ngIf="appearance == \'outline\';else templateMatFormField" appearance="{{appearance}}" [color]="inputColor" class="query-input" [ngStyle]="{\'width.%\': 100 }">\n        <mat-label>{{ \'TOCO_SEARCH_QUERY_INPUT.INPUT_SEARCH_LABEL\' | translate }}</mat-label>\n        <input matInput placeholder="{{ \'TOCO_SEARCH_QUERY_INPUT.INPUT_SEARCH_PLACEHOLDER\' | translate }}" type="search" [value]="query" [formControl]="queryCtrl" (keyup.enter)= "riseQuery()">\n    </mat-form-field>\n    \n    <ng-template #templateMatFormField>\n        <mat-form-field [ngStyle]="{\'width.%\': width }">\n            <mat-label>{{ \'TOCO_SEARCH_QUERY_INPUT.INPUT_SEARCH_LABEL\' | translate }}</mat-label>\n            <input matInput placeholder="{{ \'TOCO_SEARCH_QUERY_INPUT.INPUT_SEARCH_PLACEHOLDER\' | translate }}" type="search" [value]="query" [formControl]="queryCtrl" (keyup.enter)= "riseQuery()">\n        </mat-form-field>\n    </ng-template>\n    \n    <button mat-raised-button *ngIf="showButton && appearance == \'outline\'" (click)="riseQuery()" color="{{buttonColor}}" [ngStyle]="{\'height\': \'59.5px\', \'margin-left\': \'1em\'}">{{ \'TOCO_SEARCH_QUERY_INPUT.BUTTON_SEARCH\' | translate }}</button>\n    <button mat-raised-button *ngIf="showButton && appearance != \'outline\'" (click)="riseQuery()" color="{{buttonColor}}" [ngStyle]="{\'margin-left\': \'1em\'}">{{ \'TOCO_SEARCH_QUERY_INPUT.BUTTON_SEARCH\' | translate }}</button>\n\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={query:[{type:e.Input}],minWordCount:[{type:e.Input}],appearance:[{type:e.Input}],inputColor:[{type:e.Input}],buttonColor:[{type:e.Input}],showButton:[{type:e.Input}],width:[{type:e.Input}],queryChange:[{type:e.Output}]},t}();var ka=function(){function t(){}return t.prototype.ngOnInit=function(){console.log(this.hitList)},t.decorators=[{type:e.Component,args:[{selector:"toco-record-list",template:'\n<div *ngIf="hitList">\n    <div *ngFor="let hit of hitList.hits">\n        <toco-record [record]="hit.metadata"></toco-record>\n    </div>\n\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={hitList:[{type:e.Input}]},t}();var Fa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Pa,Da,La,ka],imports:[N.CommonModule,ut,V.ReactiveFormsModule,M.TranslateModule,ut],exports:[Pa,Da,La,ka]}]}],t}(),Ea={default:0,title:1,subtitle:2,shortname:3,issnP:4,issnE:5,issnL:6,rnpsP:7,rnpsE:21,url:8,email:9,logo:10,purpose:11,start_year:12,end_year:13,frequency:14,seriadas_cubanas:15,facebook:16,twitter:17,linkedin:18,description:19,term:20,oaiurl:22};Ea[Ea.default]="default",Ea[Ea.title]="title",Ea[Ea.subtitle]="subtitle",Ea[Ea.shortname]="shortname",Ea[Ea.issnP]="issnP",Ea[Ea.issnE]="issnE",Ea[Ea.issnL]="issnL",Ea[Ea.rnpsP]="rnpsP",Ea[Ea.rnpsE]="rnpsE",Ea[Ea.url]="url",Ea[Ea.email]="email",Ea[Ea.logo]="logo",Ea[Ea.purpose]="purpose",Ea[Ea.start_year]="start_year",Ea[Ea.end_year]="end_year",Ea[Ea.frequency]="frequency",Ea[Ea.seriadas_cubanas]="seriadas_cubanas",Ea[Ea.facebook]="facebook",Ea[Ea.twitter]="twitter",Ea[Ea.linkedin]="linkedin",Ea[Ea.description]="description",Ea[Ea.term]="term",Ea[Ea.oaiurl]="oaiurl";var Na=function(){function t(t,e,n,o){this.metadata=t,this.env=e,this._snackBar=n,this.dialog=o,this.topMainOrganization=null,this.panelOpenState=!1,this.defaultLogo=this.env.sceibaHost+"static/favicon.ico",this.journalDataType=Ea,this.showVersions=!1,this.editVersion=!1}return t.prototype.ngOnInit=function(){this.isDisabledNavigatePrevious=!0,this.isDisabledNavigateNext=!1,this.vocabularies=we,this.lengthVersion=this.versions.length,this.selectedVersion=this.getSelectedJournalPosition(),this.SelectJournalVersion(),this.metadata.setStandardMeta("Revista Científica "+this.editingJournal.data.title,this.editingJournal.data.description,"")},t.prototype.nextVersion=function(){this.selectedVersion<this.lengthVersion-1?(this.isDisabledNavigateNext=!1,this.isDisabledNavigatePrevious=!1,this.selectedVersion++,this.SelectJournalVersion()):(this.isDisabledNavigateNext=!0,new Ue(this._snackBar).showMessage(Be.OK,"No hay más versiones para mostrar"));this.selectedVersion==this.lengthVersion-1&&(this.isDisabledNavigateNext=!0)},t.prototype.previousVersion=function(){this.selectedVersion>0?(this.isDisabledNavigatePrevious=!1,this.isDisabledNavigateNext=!1,this.selectedVersion--,this.SelectJournalVersion()):(this.isDisabledNavigatePrevious=!0,new Ue(this._snackBar).showMessage(Be.OK,"No hay más versiones para mostrar"));0==this.selectedVersion&&(this.isDisabledNavigatePrevious=!0)},t.prototype.SelectJournalVersion=function(){if(this.versions.length>=0&&this.selectedVersion>=0&&this.selectedVersion<this.versions.length){var t=new be;t.deepcopy(this.versions[this.selectedVersion]),this.selectedJournal=t}},t.prototype.getSelectedJournalPosition=function(){var t=0;return this.versions.forEach((function(e,n){if(null!=e.reviewed&&e.reviewed)return t=n})),t},t.prototype.sourceEditDone=function(t){this.editVersion=!1,console.log("AAaAAAAAAAAAAAAAAAAAA")},t.prototype.toogleShowVersions=function(){this.showVersions=!this.showVersions,this.editVersion=!1},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-view",template:'<div *ngIf="editingJournal != undefined" fxLayout="row wrap" style="margin: 1em">\n  \x3c!-- navigate buttons --\x3e\n  <mat-toolbar>\n    <mat-toolbar-row fxLayoutGap="1em" fxLayoutAlign="end center">\n      \x3c!-- <mat-slide-toggle\n        (change)="editVersion = !editVersion"\n        color="primary"\n        matTooltip="Vista Edicion"\n    >\n    </mat-slide-toggle>\n\n      <mat-slide-toggle\n        *ngIf="!editVersion"\n        (change)="showVersions = !showVersions"\n        color="accent"\n        matTooltip="Ver Revisiones"\n      >\n      </mat-slide-toggle> --\x3e\n\n      <button\n        *ngIf="!editVersion"\n        mat-icon-button\n        aria-label="Editar la Revisión actual"\n        matTooltip="Editar la Revisión actual"\n        (click)="editVersion = !editVersion"\n      >\n        <mat-icon>edit</mat-icon>\n      </button>\n\n      <button\n        *ngIf="editVersion"\n        mat-icon-button\n        aria-label="Vista Revisiones"\n        matTooltip="Vista Revisiones"\n        (click)="editVersion = !editVersion"\n      >\n        <mat-icon>visibility</mat-icon>\n      </button>\n\n      <button\n        *ngIf="!editVersion && !showVersions"\n        mat-icon-button\n        aria-label="Ver Revisiones"\n        matTooltip="Ver Revisiones"\n        (click)="showVersions = !showVersions"\n      >\n        <mat-icon>history</mat-icon>\n      </button>\n\n      <button\n        *ngIf="!editVersion && showVersions"\n        mat-icon-button\n        aria-label="Ocultar Revisiones"\n        matTooltip="Ocultar Revisiones"\n        (click)="showVersions = !showVersions"\n      >\n        <mat-icon>history</mat-icon>\n      </button>\n\n      <div *ngIf="!editVersion && showVersions">\n        <button\n          mat-icon-button\n          aria-label="Previous version"\n          [disabled]="isDisabledNavigatePrevious"\n          matTooltip="Revisión Anterior"\n          (click)="previousVersion()"\n        >\n          <mat-icon>navigate_before</mat-icon>\n        </button>\n        <button\n          mat-icon-button\n          aria-label="Next version"\n          [disabled]="isDisabledNavigateNext"\n          matTooltip="Revisión Siguiente"\n          (click)="nextVersion()"\n        >\n          <mat-icon>navigate_next</mat-icon>\n        </button>\n      </div>\n    </mat-toolbar-row>\n  </mat-toolbar>\n\n  <ng-container *ngIf="versions != undefined">\n    <toco-journal-edit\n      *ngIf="editVersion"\n      [journalVersion]="editingJournal"\n      (journalEditDone)="sourceEditDone($event)"\n      [showEditHeader]="false"\n      [showFinalStep]="false"\n      [topMainOrganization]="topMainOrganization"\n    >\n    </toco-journal-edit>\n    <toco-journal-view-info\n      *ngIf="!editVersion && !showVersions"\n      [journalVersion]="editingJournal"\n      fxFlex="1 2 calc(15em + 20px)"\n      style="margin: 0.5em"\n    >\n    </toco-journal-view-info>\n    <ng-container *ngIf="!editVersion && showVersions">\n      <toco-journal-view-info\n        #journalViewInfo\n        [journalVersion]="editingJournal"\n        fxFlex="1 2 calc(15em + 20px)"\n        style="margin: 0.5em"\n      >\n      </toco-journal-view-info>\n\n      <toco-journal-view-version\n        #versionsPanel\n        [editingJournal]="editingJournal"\n        [currentJournal]="selectedJournal"\n        (editingJournalChange)="\n          journalViewInfo.editingJournalChange(editingJournal)\n        "\n        fxFlex="1 2 calc(15em + 20px)"\n        style="margin: 0.5em"\n      ></toco-journal-view-version>\n    </ng-container>\n  </ng-container>\n\n  <mat-card *ngIf="versions == undefined" style="margin: 1em">\n    <mat-card-content>\n      <h1>Este componente necesita las revisiones de la revista.</h1>\n    </mat-card-content>\n  </mat-card>\n</div>\n\n<mat-card *ngIf="editingJournal == undefined" style="margin: 1em">\n  <mat-card-content>\n    <h1>No se encontró la información solicitada</h1>\n  </mat-card-content>\n</mat-card>\n',styles:[".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]}]}],t.ctorParameters=function(){return[{type:ft},{type:pt},{type:I.MatSnackBar},{type:I.MatDialog}]},t.propDecorators={topMainOrganization:[{type:e.Input}],editingJournal:[{type:e.Input}],versions:[{type:e.Input}]},t}();var Ra=function(){function t(t,n,o,a,r,i){this.metadata=t,this.sourceService=n,this.catalogService=o,this.taxonomyService=a,this.snackBar=r,this.formBuilder=i,this.pageTitle="",this.journalData=null,this.journalVersion=null,this.showEditHeader=!1,this.description="",this.topMainOrganization=null,this.showFinalStep=!0,this.identifiersPanel=null,this.informationPanel=null,this.finalPanel=null,this.journalEditDone=new e.EventEmitter,this.editCanceled=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.journalData=new ge,this.journalData.deepcopy(this.journalVersion.data),this.pageTitle=this.journalData.isNew?"Nueva Revista":"Editando: "+this.journalData.title,this.metadata.setStandardMeta(this.pageTitle,"",""),console.log("journal edit INIT"),this.resetStepper(),this.initStep2(),this.initStep0Identifiers(),this.initStep1(),this.initStep3(),this.initStepFinal()},t.prototype.resetStepper=function(){this.identifiersPanel=null,this.identifiersFormGroup=null,this.informationPanel=null,this.informationFormGroup=null,this.informationSocialFormGroup=null,this.organizationFormGroup=null,this.indexesFormGroup=null},t.prototype.initStep0Identifiers=function(){this.identifiersFormGroup=this.formBuilder.group({}),this.identifiersPanel={name:"identifiersPanel",label:"Identificadores",controlType:po,description:"",iconName:"",formSection:this.identifiersFormGroup,formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"issn_l",label:"ISSN de Enlace",type:Zn.text,controlType:Lo,required:!1,startHint:new Qn(Kn.start,"XXXX-XXXX"),width:"23%",value:this.journalData?this.journalData.getIdentifierValue(_t.issn_l):""},{formControl:Lo.getFormControlByDefault(),name:"issn_p",label:"ISSN Impreso",type:Zn.text,controlType:Lo,required:!1,startHint:new Qn(Kn.start,"XXXX-XXXX"),width:"23%",value:this.journalData?this.journalData.getIdentifierValue(_t.issn_p):""},{formControl:Lo.getFormControlByDefault(),name:"issn_e",label:"ISSN Electrónico",type:Zn.text,controlType:Lo,required:!1,startHint:new Qn(Kn.start,"XXXX-XXXX"),width:"23%",value:this.journalData?this.journalData.getIdentifierValue(_t.issn_e):""},{formControl:Po.getFormControlByDefault(),name:"rnps_p",label:"RNPS Impreso",type:Zn.rnps,controlType:Po,required:!0,startHint:new Qn(Kn.start,"XXXX."),width:"23%",value:this.journalData?this.journalData.getIdentifierValue(_t.prnps):""},{formControl:Po.getFormControlByDefault(),name:"rnps_e",label:"RNPS Electrónico",type:Zn.rnps,controlType:Po,required:!0,startHint:new Qn(Kn.start,"XXXX."),width:"23%",value:this.journalData?this.journalData.getIdentifierValue(_t.ernps):""}]}},t.prototype.initStep1=function(){this.informationFormGroup=this.formBuilder.group({start_year:new V.FormControl(""),end_year:new V.FormControl("")}),this.informationSocialFormGroup=this.formBuilder.group({}),this.informationPanel={name:"informationPanel",label:"Datos de la Revista",description:"",iconName:"",controlType:po,formSection:this.informationFormGroup,formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"title",label:"Título",type:Zn.text,controlType:Lo,required:!0,width:"100%",value:this.journalData?this.journalData.title:""},{formControl:Lo.getFormControlByDefault(),name:"subtitle",label:"Subtítulo",type:Zn.text,controlType:Lo,required:!1,width:"30%",startHint:new Qn(Kn.start,""),value:this.journalData?this.journalData.subtitle:""},{formControl:Lo.getFormControlByDefault(),name:"shortname",label:"Título abreviado",type:Zn.text,controlType:Lo,required:!1,width:"30%",startHint:new Qn(Kn.start,""),value:this.journalData?this.journalData.shortname:""},{formControl:Lo.getFormControlByDefault(),name:"source_type",label:"Tipo de Revista",type:Zn.select_expr,controlType:Vo,required:!0,width:"30%",value:this.journalData?this.journalData.source_type:"",extraContent:{multiple:!1,getOptions:function(){return[{label:ae.JOURNAL.label,value:ae.JOURNAL.value},{label:ae.STUDENT.label,value:ae.STUDENT.value},{label:ae.POPULARIZATION.label,value:ae.POPULARIZATION.value}]}}},{formControl:Lo.getFormControlByDefault(),name:"description",label:"Descripción",type:Zn.textarea,controlType:jo,required:!0,width:"100%",value:this.journalData?this.journalData.description:""},{formControl:Fo.getFormControlByDefault(),name:"url",label:"URL",type:Zn.url,controlType:Fo,required:!0,startHint:new Qn(Kn.start,"Escriba una URL válida."),width:"100%",value:this.journalData?this.journalData.getIdentifierValue(_t.url):""},{formControl:Lo.getFormControlByDefault(),name:"source_system",label:"Tipo de Sistema que soporta la revista",type:Zn.select_expr,controlType:Vo,required:!1,width:"35%",value:this.journalData?this.journalData.source_system:"",extraContent:{multiple:!1,getOptions:function(){return[{label:oe.OJS.label,value:oe.OJS.value},{label:oe.CMS.label,value:oe.CMS.value},{label:oe.OTHER.label,value:oe.OTHER.value}]}}},{formControl:Fo.getFormControlByDefault(),name:"oaiurl",label:"OAI-PMH",type:Zn.url,controlType:Fo,required:!1,startHint:new Qn(Kn.start,"Escriba una URL válida."),width:"60%",value:this.journalData?this.journalData.getIdentifierValue(_t.oaiurl):""},{formControl:_o.getFormControlByDefault(),name:"email",label:"Correo Electrónico",type:Zn.email,controlType:_o,required:!0,startHint:new Qn(Kn.start,"Escriba un email válido."),width:"45%",value:this.journalData?this.journalData.email:""},{formControl:Lo.getFormControlByDefault(),name:"licence",label:"Licencia",type:Zn.vocabulary,controlType:Eo,required:!1,width:"45%",extraContent:{multiple:!1,selectedTermsIds:this.journalData?this.journalData.classifications.map((function(t){return t.id})):null,vocab:we.LICENCES,level:0}},{formControl:Lo.getFormControlByDefault(),name:"start_year",label:"Año de inicio",type:Zn.datepicker,controlType:Bo,required:!1,width:"30%",value:this.journalData?this.journalData.start_year:""},{formControl:Lo.getFormControlByDefault(),name:"end_year",label:"Año final",type:Zn.datepicker,controlType:Bo,required:!1,width:"30%",value:this.journalData?this.journalData.end_year:""},{formControl:Lo.getFormControlByDefault(),name:"frequency",label:"Frecuencia",type:Zn.text,controlType:Lo,required:!1,startHint:new Qn(Kn.start,""),width:"30%",value:this.journalData?this.journalData.frequency:""},{formControl:Lo.getFormControlByDefault(),name:"subjects",label:"Materias",type:Zn.vocabulary_tree,controlType:No,required:!1,width:"80%",extraContent:{multiple:!0,selectedTermsIds:this.journalData?this.journalData.classifications.map((function(t){return t.id})):null,vocab:we.SUBJECTS,level:1}},{formControl:Fo.getFormControlByDefault(),name:"facebook",label:"Facebook",type:Zn.url,controlType:Fo,required:!1,width:"33%",value:this.journalData?this.journalData.socialNetworks.facebook:""},{formControl:Fo.getFormControlByDefault(),name:"twitter",label:"Twitter",type:Zn.url,controlType:Fo,required:!1,width:"33%",value:this.journalData?this.journalData.socialNetworks.twitter:""},{formControl:Fo.getFormControlByDefault(),name:"linkedin",label:"LinkedIN",type:Zn.url,controlType:Fo,required:!1,width:"33%",value:this.journalData?this.journalData.socialNetworks.linkedin:""}]}},t.prototype.initStep2=function(){this.organizationFormGroup=this.formBuilder.group({institutions:new V.FormControl("")})},t.prototype.initStep3=function(){this.indexesFormGroup=this.formBuilder.group({})},t.prototype.indexerStepper=function(){},t.prototype.initStepFinal=function(){this.finalFormGroup=this.formBuilder.group({}),this.finalPanel={name:"finalPanel",label:"",description:"",iconName:"",formSection:this.finalFormGroup,controlType:po,formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"comment",label:"Puede agregar aquí un comentario.",type:Zn.textarea,controlType:jo,required:!1,startHint:new Qn(Kn.start,""),width:"100%",minWidth:"100%",value:this.journalData?this.journalData._save_info.comment:""}]}},t.prototype.fillJournalFields=function(){var t=this;this.journalData.setIdentifierValue(_t.issn_p,this.identifiersFormGroup.value.issn_p),this.journalData.setIdentifierValue(_t.issn_e,this.identifiersFormGroup.value.issn_e),this.journalData.setIdentifierValue(_t.issn_l,this.identifiersFormGroup.value.issn_l),this.journalData.setIdentifierValue(_t.prnps,this.identifiersFormGroup.value.rnps_p),this.journalData.setIdentifierValue(_t.ernps,this.identifiersFormGroup.value.rnps_e),console.log(this.informationFormGroup),this.journalData.deepcopy(this.informationFormGroup.value),this.journalData.socialNetworks.deepcopy(this.informationFormGroup.value),this.journalData.setIdentifierValue(_t.url,this.informationFormGroup.value.url),this.journalData.setIdentifierValue(_t.oaiurl,this.informationFormGroup.value.oaiurl),this.journalData.source_type=this.informationFormGroup.value.source_type;var e=this.journalData.classifications.filter((function(t){return t.vocabulary==we.INDEXES}));this.journalData.classifications=[],this.informationFormGroup.value.licence&&this.informationFormGroup.value.licence.forEach((function(e){var n=new se;n.description=e.description,n.id=e.uuid,n.vocabulary=e.vocabulary_id,t.journalData.classifications.push(n)})),this.informationFormGroup.value.subjects&&this.informationFormGroup.value.subjects.forEach((function(e){var n=new se;n.description=e.description,n.id=e.uuid,n.vocabulary=e.vocabulary_id,t.journalData.classifications.push(n)})),console.log(e),this.journalData.classifications=this.journalData.classifications.concat(e),this.journalData._save_info.comment=this.finalFormGroup.value.comment,this.journalVersion.comment=this.finalFormGroup.value.comment,this.journalVersion.data.deepcopy(this.journalData),console.log(this.identifiersFormGroup),console.log(this.informationFormGroup),console.log(this.organizationFormGroup),console.log(this.indexesFormGroup),console.log(this.journalData)},t.prototype.finishStepper=function(){console.log(this.journalData),this.fillJournalFields(),console.log(this.journalData),this.journalEditDone.emit(this.journalVersion)},t.prototype.cancelStepper=function(){this.editCanceled.emit(!0)},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-edit",template:'<mat-card [ngStyle]="{ margin: \'1em\' }">\n  <mat-card-header\n    *ngIf="showEditHeader"\n    fxLayout="column wrap"\n    fxLayoutAlign="start center"\n  >\n    <div\n      fxLayout="row wrap"\n      fxLayoutAlign="space-between center"\n      [ngStyle]="{ width: \'100%\' }"\n    >\n      <h2>\n        {{ pageTitle }}\n      </h2>\n      <button mat-stroked-button color="warn" (click)="cancelStepper()">\n        Cancelar\n      </button>\n    </div>\n    <mat-card-subtitle>{{ description }}</mat-card-subtitle>\n  </mat-card-header>\n\n  <mat-card-content>\n    <mat-horizontal-stepper labelPosition="end" [linear]="true" #stepper>\n      <mat-step *ngIf="identifiersPanel" [stepControl]="identifiersFormGroup">\n        <ng-template matStepLabel>Identificadores</ng-template>\n        <form [formGroup]="identifiersFormGroup">\n          <container-panel\n            [content]="identifiersPanel"\n          >\n          </container-panel>\n          \x3c!-- <toco-form-container\n            #informationPanelContainer\n            [panelsContent]="identifiersPanel"\n            [useAccordion]="false"\n            fxLayout="row"\n            [formGroup]="identifiersFormGroup"\n            [deleteValuesAfterAction]="false"\n          >\n          </toco-form-container> --\x3e\n        </form>\n        <div fxLayout="row wrap" fxLayoutAlign="end center">\n          <button mat-stroked-button color="primary" matStepperNext>\n            Siguiente\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step\n        *ngIf="organizationFormGroup"\n        [stepControl]="organizationFormGroup"\n      >\n        <ng-template matStepLabel>Organizaciones</ng-template>\n        <h2>Organizaciones</h2>\n        <form [formGroup]="organizationFormGroup">\n          <toco-source-organizations\n            [topMainOrganization]="topMainOrganization"\n            [sourceData]="journalData"\n          >\n          </toco-source-organizations>\n        </form>\n        <div fxLayout="row wrap" fxLayoutAlign="space-between center">\n          <button mat-stroked-button color="accent" matStepperPrevious>\n            Atrás\n          </button>\n          <button mat-stroked-button color="primary" matStepperNext>\n            Siguiente\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step *ngIf="informationPanel" [stepControl]="informationFormGroup">\n        <ng-template matStepLabel>Datos</ng-template>\n        <form [formGroup]="informationFormGroup">\n          <container-panel\n            [content]="informationPanel"\n          >\n          </container-panel>\n          \x3c!-- <toco-form-container\n            #informationPanelContainer\n            [panelsContent]="informationPanel"\n            [useAccordion]="false"\n            fxLayout="row"\n            [formGroup]="informationFormGroup"\n            [deleteValuesAfterAction]="false"\n          >\n          </toco-form-container> --\x3e\n        </form>\n        <div fxLayout="row wrap" fxLayoutAlign="space-between center">\n          <button mat-stroked-button color="accent" matStepperPrevious>\n            Atrás\n          </button>\n          <button mat-stroked-button color="primary" matStepperNext>\n            Siguiente\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step *ngIf="indexesFormGroup" [stepControl]="indexesFormGroup">\n        <ng-template matStepLabel>Indizaciones</ng-template>\n        <h2>Indizaciones</h2>\n        <toco-source-indexes [sourceData]="journalData"> </toco-source-indexes>\n\n        <div\n          *ngIf="showFinalStep"\n          fxLayout="row wrap"\n          fxLayoutAlign="space-between center"\n        >\n          <button mat-stroked-button color="accent" matStepperPrevious>\n            Atrás\n          </button>\n          <button\n            mat-stroked-button\n            color="primary"\n            matStepperNext\n            (click)="indexerStepper()"\n          >\n            Siguiente\n          </button>\n        </div>\n        <div\n          *ngIf="!showFinalStep"\n          fxLayout="row wrap"\n          fxLayoutAlign="space-between center"\n        >\n          <button mat-stroked-button color="accent" matStepperPrevious>\n            Atrás\n          </button>\n\n          <button mat-stroked-button color="primary" (click)="finishStepper()">\n            Aceptar\n          </button>\n        </div>\n      </mat-step>\n\n      <mat-step *ngIf="showFinalStep">\n        <ng-template matStepLabel>Fin</ng-template>\n        <h3>Ha completado el formulario</h3>\n        <h4>\n          Antes de aceptar puede revisar nuevamente los valores que ha\n          introducido.\n        </h4>\n        \x3c!-- <toco-journal-view-info [journal]="journal"></toco-journal-view-info> --\x3e\n\n        <form [formGroup]="finalFormGroup">\n          <container-panel\n            [content]="finalPanel"\n          >\n          </container-panel>\n          \x3c!-- <toco-form-container\n            #indexPanelContainer\n            [panelsContent]="finalPanel"\n            [useAccordion]="false"\n            fxLayout="row"\n            [formGroup]="finalFormGroup"\n            [deleteValuesAfterAction]="false"\n            [ngStyle]="{ width: \'100%\' }"\n          >\n          </toco-form-container> --\x3e\n        </form>\n\n        <div fxLayout="row wrap" fxLayoutAlign="space-between center">\n          <button mat-stroked-button color="accent" matStepperPrevious>\n            Atrás\n          </button>\n\n          <button mat-stroked-button color="primary" (click)="finishStepper()">\n            Aceptar\n          </button>\n        </div>\n      </mat-step>\n    </mat-horizontal-stepper>\n  </mat-card-content>\n</mat-card>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:ft},{type:kn},{type:Sn},{type:In},{type:I.MatSnackBar},{type:V.FormBuilder}]},t.propDecorators={journalVersion:[{type:e.Input}],showEditHeader:[{type:e.Input}],description:[{type:e.Input}],topMainOrganization:[{type:e.Input}],showFinalStep:[{type:e.Input}],journalEditDone:[{type:e.Output}],editCanceled:[{type:e.Output}]},t}();var Va=function(){function t(){}return t.prototype.ngOnInit=function(){null==this.terms&&(this.terms=new Array(0)),null==this.vocab_id&&(this.vocab_id=0),null==this.title&&(this.title="")},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-view-term",template:'\n<mat-card style="margin: 1em; background-color: whitesmoke;">\n\n    <mat-card-header>\n        <mat-card-title>\n            {{ title }}\n        </mat-card-title>\n        <mat-label *ngIf="terms.length == 0" class="text-muted text-through">Vacío</mat-label>\n    </mat-card-header>\n\n    <mat-card-content>\n\n        <mat-chip-list class="mat-chip-list-stacked" fxLayout="row" fxLayoutAlign="start center">\n\n            <ng-container *ngFor="let termSource of terms">\n\n                <mat-chip>\n                    {{ termSource.description }}\n                </mat-chip>\n\n            </ng-container>\n\n        </mat-chip-list>\n    </mat-card-content>\n\n</mat-card>\n',styles:[".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={title:[{type:e.Input}],vocab_id:[{type:e.Input}],terms:[{type:e.Input}]},t}();var ja=function(){function t(t,e){this.dialog=t,this.service=e,this.editable=!0,this.databases=null,this.selectedDatabases=null}return t.prototype.ngOnInit=function(){var t=this;this.service.getTermsTreeByVocab(we.INDEXES,1).subscribe((function(e){e.data.tree.term_node&&(t.databases=e.data.tree.term_node,t.initIndexes())}),(function(t){console.log("ERROR: "+t+".")}),(function(){}))},t.prototype.initIndexes=function(){this.selectedDatabases=new Array(this.databases.length),this._setSelectedDatabses(),this._setIndexesToSource(),console.log("******* complete process")},t.prototype._setSelectedDatabses=function(){for(var t=this,e=function(e){n.selectedDatabases[e]={dbclass:n.databases[e].term,dblist:n.sourceData.classifications.filter((function(n){return n.vocabulary==we.INDEXES&&null!=t.databases[e].children.find((function(t){return t.term.uuid==n.id}))}))}},n=this,o=0;o<this.databases.length;o++)e(o);for(o=0;o<this.databases.length;o++)for(var a=0;a<this.selectedDatabases[o].dblist.length;a++){this.selectedDatabases[o].dblist[a];this.selectedDatabases[o].dblist[a].data||(this.selectedDatabases[o].dblist[a].data={}),this.selectedDatabases[o].dblist[a].data.url||(this.selectedDatabases[o].dblist[a].data.url=""),this.selectedDatabases[o].dblist[a].data.initial_cover||(this.selectedDatabases[o].dblist[a].data.initial_cover=""),this.selectedDatabases[o].dblist[a].data.end_cover||(this.selectedDatabases[o].dblist[a].data.end_cover="")}},t.prototype._setIndexesToSource=function(){var t=this;this.sourceData.classifications=this.sourceData.classifications.filter((function(t){return t.vocabulary!=we.INDEXES})),this.selectedDatabases.forEach((function(e){if(e.dblist.length>0){var n=new se;n.id=e.dbclass.uuid,n.description=e.dbclass.description,n.vocabulary=e.dbclass.vocabulary_id,t.sourceData.classifications.push(n),t.sourceData.classifications=t.sourceData.classifications.concat(e.dblist)}})),console.log(this.sourceData)},t.prototype.addIndexAction=function(t){var e=this,n=(this.selectedDatabases[t].dbclass,this.databases[t].children.filter((function(n){return null==e.selectedDatabases[t].dblist.find((function(t){return t.id==n.term.uuid}))})));n.length>0&&this.dialog.open(Ma,{data:{dbclass:this.selectedDatabases[t].dbclass,options:n,editing:null,addIndex:function(n){e.dialog.closeAll(),e.selectedDatabases[t].dblist=e.selectedDatabases[t].dblist.filter((function(t){return t.id!=n.id})),e.selectedDatabases[t].dblist.push(n),e._setIndexesToSource()}}})},t.prototype.editIndexAction=function(t,e){var n=this;this.selectedDatabases[t].dbclass;if(e){var o=this.databases[t].children.filter((function(o){return null==n.selectedDatabases[t].dblist.find((function(t){return t.id==o.term.uuid}))||o.term.uuid==e.id}));(o.length>0||e)&&this.dialog.open(Ma,{data:{dbclass:this.selectedDatabases[t].dbclass,options:o,editing:e,addIndex:function(o){n.dialog.closeAll();var a=[];n.selectedDatabases[t].dblist.forEach((function(t){t.id!=o.id&&t.id!=e.id&&a.push(t)})),n.selectedDatabases[t].dblist=a,n.selectedDatabases[t].dblist.push(o),n._setIndexesToSource()}}})}},t.prototype.deleteIndexAction=function(t,e){this.selectedDatabases[t].dblist=this.selectedDatabases[t].dblist.filter((function(t){return t.id!=e.id})),this._setIndexesToSource()},t.decorators=[{type:e.Component,args:[{selector:"toco-source-indexes",template:'<mat-progress-bar\n  *ngIf="!selectedDatabases"\n  mode="indeterminate"\n></mat-progress-bar>\n\n<mat-accordion *ngIf="selectedDatabases">\n  <mat-expansion-panel\n    *ngFor="let clasification of selectedDatabases; let classIndex = index"\n  >\n    <mat-expansion-panel-header>\n      {{ clasification.dbclass.description }} ({{clasification.dblist.length}})\n    </mat-expansion-panel-header>\n    <mat-action-row *ngIf="editable">\n      <button\n          mat-icon-button\n          aria-label="Adicionar"\n          matTooltip="Adicionar"\n          (click)="addIndexAction(classIndex)"\n        >\n          <mat-icon>add</mat-icon>\n        </button>\n    </mat-action-row>\n    <mat-card *ngFor="let db of clasification.dblist; let dbIndex = index">\n      <mat-card-header>\n        <mat-card-title><mat-label>{{ db.description }}</mat-label></mat-card-title>\n        <mat-card-subtitle>\n          <mat-label style="font-weight: bold;">URL: </mat-label>\n          {{ db.data["url"] }}\n        </mat-card-subtitle>\n      </mat-card-header>\n      <mat-card-content>\n          <mat-label style="font-weight: bold;">Cobertura: </mat-label>\n          <mat-label>\n            {{ db.data["initial_cover"] }} - {{ db.data["end_cover"] }}\n          </mat-label>\n      </mat-card-content>\n      <mat-card-actions *ngIf="editable">\n        <button\n          mat-icon-button\n          aria-label="Editar"\n          matTooltip="Editar"\n          (click)="editIndexAction(classIndex, db)"\n        >\n          <mat-icon>edit</mat-icon>\n        </button>\n        <button\n          mat-icon-button\n          aria-label="Eliminar"\n          matTooltip="Eliminar"\n          (click)="deleteIndexAction(classIndex, db)"\n        >\n          <mat-icon>delete</mat-icon>\n        </button>\n      </mat-card-actions>\n    </mat-card>\n  </mat-expansion-panel>\n</mat-accordion>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:I.MatDialog},{type:In}]},t.propDecorators={sourceData:[{type:e.Input}],editable:[{type:e.Input}]},t}();var Ma=function(){function t(t,e,n){this.service=t,this._formBuilder=e,this.data=n,this.indexPanel=null,this.editing=null,this.dbclass=n.dbclass,this.options=n.options,n.editing&&(this.editing=n.editing),this.addIndex=n.addIndex}return t.prototype.ngOnInit=function(){var t=this;this.indexFormGroup=this._formBuilder.group({}),this.dbclass&&(this.indexPanel=[{title:this.editing?"Editar":"Adicionar",description:"",iconName:"",formSection:this.indexFormGroup,formSectionContent:[{formControl:Lo.getFormControlByDefault(),name:"indexes",label:this.dbclass.description,type:Zn.select_expr,controlType:Vo,required:!0,width:"100%",value:this.editing?this.editing.id:null,extraContent:{multiple:!1,getOptions:function(e){var n=[];return t.options.forEach((function(t){n.push({value:t.term.uuid,label:t.term.description})})),n},selectionChange:function(t){console.log(t)}}},{formControl:Fo.getFormControlByDefault(),name:"url",label:"URL",type:Zn.url,controlType:Fo,required:!1,startHint:new Qn(Kn.start,"URL de la revista en el índice."),width:"100%",value:this.editing?[this.editing.data.url]:""},{formControl:Lo.getFormControlByDefault(),name:"initial_cover",label:"Cobertura inicio",type:Zn.text,controlType:Lo,required:!1,startHint:new Qn(Kn.start,""),width:"45%",value:this.editing?[this.editing.data.initial_cover]:""},{formControl:Lo.getFormControlByDefault(),name:"end_cover",label:"Cobertura",type:Zn.text,controlType:Lo,required:!1,startHint:new Qn(Kn.start,""),width:"45%",value:this.editing?[this.editing.data.end_cover]:""}]}]),this.addIndexAction={doit:function(e){if(t.indexFormGroup.valid){var n=new se;if(t.indexFormGroup.controls.indexes.value){var o=t.options.find((function(e){return e.term.uuid==t.indexFormGroup.controls.indexes.value}));o&&(n.vocabulary=o.term.vocabulary_id,n.description=o.term.description,n.id=o.term.uuid,n.data={url:t.indexFormGroup.controls.url.value,initial_cover:t.indexFormGroup.controls.initial_cover.value,end_cover:t.indexFormGroup.controls.end_cover.value},t.addIndex(n))}}}}},t.decorators=[{type:e.Component,args:[{selector:"toco-source-addindex",template:'\n    <toco-form-container\n      #indexPanelContainer\n      [panelsContent]="indexPanel"\n      [useAccordion]="false"\n      fxLayout="row"\n      [formGroup]="indexFormGroup"\n      [action]="addIndexAction"\n      [actionLabel]="\'OK\'"\n      [deleteValuesAfterAction]="false"\n    ></toco-form-container>\n  ',styles:[""]}]}],t.ctorParameters=function(){return[{type:In},{type:V.FormBuilder},{type:void 0,decorators:[{type:e.Inject,args:[I.MAT_DIALOG_DATA]}]}]},t}();var Ja=function(){function t(t,e){this.dialog=t,this.orgService=e,this.editable=!0,this.topMainOrganization=null,this.roles=re}return t.prototype.ngOnInit=function(){console.log(this.sourceData.organizations),this.sourceData.organizations=this.sourceData.organizations.filter((function(t){return t&&t.role})),console.log(this.sourceData.organizations)},t.prototype.addOrg=function(t,e){var n=this;void 0===t&&(t=!0),void 0===e&&(e=!1),e&&this.topMainOrganization?this.dialog.open(Ba,{width:"500px",data:{topMainOrganization:this.topMainOrganization,selectOrg:function(t,e){n.addOrgToSource(t,re.MAIN.value),e.forEach((function(t){n.addOrgToSource(t,re.COLABORATOR.value)}))}}}):this.dialog.open(za,{width:"500px",data:{filter:t?{type:"country",value:"Cuba"}:null,canSelectRole:null==this.topMainOrganization,selectOrg:function(t,e,o){n.addOrgToSource(t,e),o.forEach((function(t){n.addOrgToSource(t,re.COLABORATOR.value)}))}}})},t.prototype.addOrgToSource=function(t,e){if(!this.sourceData.organizations.find((function(e){return e.id==t.id}))){var n=new ie;n.deepcopy(t),n.role=e,this.sourceData.organizations.push(n),re.MAIN.value==e&&this.setAsMain(t)}},t.prototype.setAsMain=function(t){this.sourceData.organizations.forEach((function(e){t.id==e.id?e.role=re.MAIN.value:e.role=re.COLABORATOR.value}))},t.prototype.removeInst=function(t){var e=this,n=this.sourceData.organizations[t],o=new Ue(null,this.dialog),a=this.childToRemove(n);if(null==a){for(var r=this.getOrgToDelete(n),i=[],s="",l=0;l<r.length;l++){var c=r[l];i.push(this.sourceData.organizations[c]),s+=this.sourceData.organizations[c].name+", "}i.push(n),console.log(i),i.length>0&&o.showMessage(Be.OK,s,Je.dialog,"Se eliminó también: ");var u=[],p=function(t){i.find((function(n){return n.id==e.sourceData.organizations[t].id}))||u.push(d.sourceData.organizations[t])},d=this;for(l=0;l<this.sourceData.organizations.length;l++)p(l);console.log(u),this.sourceData.organizations=u}else o.showMessage(Be.OK,a.name,Je.dialog,"Para eliminar este elemento debe eliminar:")},t.prototype.childToRemove=function(t){if(t.relationships){for(var e=0;e<t.relationships.length;e++){var n=t.relationships[e];if(n.type==Bt.CHILD.value){var o=this.getIndexByPid(n.identifiers[0].value);if(null!=o)return this.sourceData.organizations[o]}}return null}},t.prototype.getOrgToDelete=function(t){var e=this,n=[];return t.relationships&&t.relationships.forEach((function(t){if(t.type==Bt.PARENT.value){var o=e.getIndexByPid(t.identifiers[0].value);o&&(n.push(o),n.concat(e.getOrgToDelete(e.sourceData.organizations[o])))}})),n},t.prototype.getIndexByPid=function(t){for(var e=0;e<this.sourceData.organizations.length;e++)for(var n=this.sourceData.organizations[e],o=0;o<n.identifiers.length;o++){var a=n.identifiers[o];if(console.log(a.value+"=="+t),a.value==t)return console.log(a.value+"=="+t+"  iguales!!!"),e}return null},t.decorators=[{type:e.Component,args:[{selector:"toco-source-organizations",template:'<ng-container>\n  <mat-toolbar\n    *ngIf="editable"\n    fxLayout="row wrap"\n    fxLayoutAlign="space-between center"\n    fxLayoutGap="20px"\n  >\n    <span>Adicionar</span>\n    <div\n      fxLayout="row wrap"\n      fxLayoutAlign="space-between center"\n      fxLayoutGap="20px"\n    >\n    <button *ngIf="topMainOrganization" mat-raised-button (click)="addOrg(true, true)">\n      Organización Principal\n    </button>\n      <button mat-raised-button (click)="addOrg(true)">\n        Organizaciones Cubanas\n      </button>\n      <button mat-raised-button (click)="addOrg(false)">\n        Otras\n      </button>\n    </div>\n  </mat-toolbar>\n\n  \n  <mat-accordion>\n    <mat-expansion-panel\n      *ngFor="let org of sourceData.organizations; let index = index"\n      [expanded]="false"\n    >\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          {{ roles[org.role].label }}\n        </mat-panel-title>\n        <mat-panel-description>\n          {{ org.name }}\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n      <mat-action-row *ngIf="editable">\n        <button\n          mat-stroked-button\n          [disabled]="org.length === 1"\n          (click)="setAsMain(org)"\n          *ngIf="!topMainOrganization"\n        >\n          Establecer como Principal\n        </button>\n        <button\n          mat-stroked-button\n          [disabled]="org.length === 1"\n          (click)="removeInst(index)"\n        >\n          Eliminar\n        </button>\n      </mat-action-row>\n      <toco-org-view [org]="org" [showContent]="false"></toco-org-view>\n    </mat-expansion-panel>\n  </mat-accordion>\n</ng-container>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:I.MatDialog},{type:Dn}]},t.propDecorators={sourceData:[{type:e.Input}],editable:[{type:e.Input}],topMainOrganization:[{type:e.Input}]},t}();var Ba=function(){function t(t,e,n){this.dialogRef=t,this.data=e,this.orgService=n,this.topMainOrganization=null,this.toSelect=null,this.selected=-1}return t.prototype.ngOnInit=function(){var t=this;this.topMainOrganization=this.data.topMainOrganization,this.toSelect=new Array,this.topMainOrganization.relationships.forEach((function(e){e.type==Bt.CHILD.value&&t.toSelect.push(e)})),console.log(this.toSelect)},t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.ok=function(){var t=this;this.selected>=0&&(console.log(this.toSelect[this.selected]),this.orgService.getOrganizationByPID(this.toSelect[this.selected].identifiers[0].value).subscribe({next:function(e){t.data.selectOrg(e.metadata,[t.topMainOrganization]),t.dialogRef.close()}}))},t.decorators=[{type:e.Component,args:[{selector:"toco-source-organizations-select-top-main",template:'<mat-dialog-content class="height-auto">\n    <ng-container *ngIf="toSelect"\n      >{{ topMainOrganization.name }}\n      <br />\n      <mat-form-field>\n        <mat-label>Seleccione la Organización Principal: </mat-label>\n        <mat-select [(value)]="selected" required>\n          <mat-option\n            *ngFor="let item of toSelect; let index = index"\n            value="{{ index }}"\n            >{{ item.label }}</mat-option\n          >\n        </mat-select>\n      </mat-form-field>\n\n      <br />\n      <mat-label *ngIf="selected >= 0">{{\n        toSelect[selected].label\n      }}</mat-label>\n      <br />\n    </ng-container>\n    <br />\n    <button mat-raised-button (click)="ok()">OK</button>\n  </mat-dialog-content>'}]}],t.ctorParameters=function(){return[{type:I.MatDialogRef},{type:void 0,decorators:[{type:e.Inject,args:[I.MAT_DIALOG_DATA]}]},{type:Dn}]},t}();var za=function(){function t(t,e,n){this.dialogRef=t,this.data=e,this.orgService=n,this.roles=[{label:"Principal",value:"MAIN"},{label:"Colaborador",value:"COLABORATOR"}],this.role=null,this.parents=new Array,this.placeholder="Buscar una organización",this.canSelectRole=!0}return t.prototype.ngOnInit=function(){console.log(this.data),this.canSelectRole=this.data.canSelectRole,this.data.filter&&(this.placeholder="Buscar una organización cubana")},t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.selectedOrg=function(t){console.log(t),this.org=t,this.addParent(this.org)},t.prototype.addParent=function(t){var e=this;t.relationships.forEach((function(t){t.type==Bt.PARENT.value&&t.identifiers.length>0&&t.identifiers[0].value&&e.orgService.getOrganizationByPID(t.identifiers[0].value).subscribe({next:function(t){console.log(t),e.parents.push(t.metadata),e.addParent(t.metadata)}})}))},t.prototype.ok=function(){this.canSelectRole?this.role&&(this.data.selectOrg(this.org,this.role,this.parents),this.dialogRef.close()):(this.data.selectOrg(this.org,re.COLABORATOR.value,this.parents),this.dialogRef.close())},t.decorators=[{type:e.Component,args:[{selector:"toco-source-organizations-select-dialog",template:'<mat-dialog-content class="height-auto">\n    <toco-org-search\n      [orgFilter]="data.filter"\n      (selectedOrg)="selectedOrg($event)"\n      [placeholder]="placeholder"\n    >\n    </toco-org-search>\n    <br />\n    <mat-label *ngIf="org">{{ org.name }}</mat-label>\n    <br />\n    <mat-form-field *ngIf="canSelectRole">\n      <mat-label>Rol</mat-label>\n      <mat-select [(value)]="role" required>\n        <mat-option *ngFor="let item of roles" value="{{ item.value }}">{{\n          item.label\n        }}</mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <br />\n\n    <ng-container *ngIf="parents.length > 0">\n      <mat-label>Se añadirá también: </mat-label>\n      <ng-container *ngFor="let item of parents">\n        <br />\n        <mat-label>{{ item.name }}</mat-label>\n        <br />\n      </ng-container>\n      <br />\n    </ng-container>\n\n    <button mat-raised-button (click)="ok()">OK</button>\n  </mat-dialog-content>'}]}],t.ctorParameters=function(){return[{type:I.MatDialogRef},{type:void 0,decorators:[{type:e.Inject,args:[I.MAT_DIALOG_DATA]}]},{type:Dn}]},t}();var qa=function(){function t(t,e){this._sourveService=t,this._snackBar=e,this.showVersionLabel=!0,this.tipos=ae,this.sistemas=oe,this.panelOpenState=!1,this.IdentifierSchemas=_t}return t.prototype.ngOnInit=function(){this.loadJournalData()},t.prototype.ngOnChanges=function(){console.log("changes...."),this.loadJournalData()},t.prototype.loadJournalData=function(){var t=this;null==this.journalData&&(this.journalData=new ge),this.journalData.deepcopy(this.journalVersion.data),this.dataBaseTerms=new Array,this.groupTerms=new Array,this.institutionTerms=new Array,this.licenceTerms=new Array,this.provinceTerms=new Array,this.subjectTerms=new Array,this.vocabularies=we,this.journalData.classifications&&this.journalData.classifications.forEach((function(e){switch(e.vocabulary.toString()){case we.CUBAN_INTITUTIONS:case we.EXTRA_INSTITUTIONS:t.institutionTerms.push(e);break;case we.INDEXES:t.dataBaseTerms.push(e);break;case we.INDEXES_CLASIFICATION:t.groupTerms.push(e);break;case we.LICENCES:t.licenceTerms.push(e);break;case we.CUBAN_PROVINCES:t.provinceTerms.push(e);break;case we.SUBJECTS:t.subjectTerms.push(e)}}))},t.prototype.getIdentifier=function(t){return this.journalData?this.journalData.getIdentifierValue(t):""},t.prototype.editingJournalChange=function(t){console.log("*****llego....",t,this.journalData),this.loadJournalData(),this.orgs.ngOnInit(),this.indexes.initIndexes()},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-view-info",template:'\x3c!-- Journal Information --\x3e\n<mat-card *ngIf="journalVersion && journalData">\n  <mat-card-header *ngIf="showVersionLabel">\n    \x3c!-- <img mat-card-avatar *ngIf="journal.data.logo; else logotemplate" [style.background-size]="\'cover\'" src="journal.data.logo">\n        <ng-template #logotemplate>\n            <img mat-card-avatar [src]="defaultLogo" alt="">\n        </ng-template> --\x3e\n\n    <mat-card-title> </mat-card-title>\n\n    <mat-card-subtitle> Revisión actual </mat-card-subtitle>\n  </mat-card-header>\n\n  <mat-divider  *ngIf="showVersionLabel" [inset]="true" style="margin-bottom: 1em"></mat-divider>\n\n  <mat-card-content>\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Título\'"\n        [value]="journalData.title"\n      ></toco-journal-view-info-field>\n    </p>\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Subtítulo\'"\n        [value]="journalData.subtitle"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Nombre Abreviado\'"\n        [value]="journalData.shortname"\n      ></toco-journal-view-info-field>\n    </p>\n    <p>\n      <toco-journal-view-info-field *ngIf="journalData.source_type"\n        [label]="\'Tipo\'"\n        [value]="tipos[journalData.source_type].label"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <mat-label style="font-weight: bold">ISSN: </mat-label>\n    <div style="margin-left: 0.8em">\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Impreso\'"\n          [value]="getIdentifier(IdentifierSchemas.issn_p)"\n        ></toco-journal-view-info-field>\n      </p>\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Electrónico\'"\n          [value]="getIdentifier(IdentifierSchemas.issn_e)"\n        ></toco-journal-view-info-field>\n      </p>\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'De enlace\'"\n          [value]="getIdentifier(IdentifierSchemas.issn_l)"\n        ></toco-journal-view-info-field>\n      </p>\n    </div>\n    <mat-label style="font-weight: bold">RNPS: </mat-label>\n    <div style="margin-left: 0.8em">\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Impreso\'"\n          [value]="getIdentifier(IdentifierSchemas.prnps)"\n        ></toco-journal-view-info-field>\n      </p>\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Electrónico\'"\n          [value]="getIdentifier(IdentifierSchemas.ernps)"\n        ></toco-journal-view-info-field>\n      </p>\n    </div>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'URL\'"\n        [value]="getIdentifier(IdentifierSchemas.url)"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'OAIURL\'"\n        [value]="getIdentifier(IdentifierSchemas.oaiurl)"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field *ngIf="journalData.source_system"\n        [label]="\'Sistema\'"\n        [value]="sistemas[journalData.source_system].label"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Email\'"\n        [value]="journalData.email"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Seriadas Cubanas\'"\n        [value]="journalData.seriadas_cubanas"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Propósito\'"\n        [value]="journalData.purpose"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Año de Inicio\'"\n        [value]="journalData.start_year | date"\n      ></toco-journal-view-info-field>\n      \x3c!-- <mat-label style="font-weight: bold;"> Año de Inicio: </mat-label>\n      <mat-label *ngIf="journalData.start_year">\n        {{ journalData.start_year | date }}\n      </mat-label>\n      <mat-label\n        *ngIf="!journalData.start_year"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      > --\x3e\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Año de Fin\'"\n        [value]="journalData.end_year | date"\n      ></toco-journal-view-info-field>\n    </p>\n\n    <p>\n      <toco-journal-view-info-field\n        [label]="\'Frecuencia de Publicación\'"\n        [value]="journalData.frequency"\n      ></toco-journal-view-info-field>\n    </p>\n    <mat-label style="font-weight: bold"> Descripción:</mat-label>\n    <mat-label *ngIf="!journalData.description" class="text-muted text-through"\n      >Vacío</mat-label\n    >\n    <div\n      *ngIf="journalData.description"\n      class="e2e-inner-html-bound text-align-justify"\n      [innerHTML]="journalData.description"\n    ></div>\n\n    <mat-label style="font-weight: bold">Redes Sociales:</mat-label>\n    <div style="margin-left: 0.8em">\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Facebook\'"\n          [value]="journalData.socialNetworks.facebook"\n        ></toco-journal-view-info-field>\n      </p>\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Twitter\'"\n          [value]="journalData.socialNetworks.twitter"\n        ></toco-journal-view-info-field>\n      </p>\n      <p>\n        <toco-journal-view-info-field\n          [label]="\'Linkedin\'"\n          [value]="journalData.socialNetworks.linkedin"\n        ></toco-journal-view-info-field>\n      </p>\n    </div>\n\n    \x3c!-- show terms --\x3e\n\n    <mat-divider\n      [inset]="true"\n      style="margin-bottom: 1em; margin-top: 1em"\n    ></mat-divider>\n\n    \x3c!-- <toco-journal-view-term\n      title="Grupo:"\n      [terms]="groupTerms"\n      [vocab_id]="vocabularies.INDEXES_CLASIFICATION"\n    ></toco-journal-view-term>\n\n    <toco-journal-view-term\n      title="Provincia:"\n      [terms]="provinceTerms"\n      [vocab_id]="vocabularies.CUBAN_PROVINCES"\n    ></toco-journal-view-term> --\x3e\n\n    <toco-journal-view-term\n      title="Licencia:"\n      [terms]="licenceTerms"\n      [vocab_id]="vocabularies.LICENCES"\n    ></toco-journal-view-term>\n\n    <toco-journal-view-term\n      title="Materias:"\n      [terms]="subjectTerms"\n      [vocab_id]="vocabularies.SUBJECTS"\n    ></toco-journal-view-term>\n\n    <mat-card style="margin: 1em; background-color: whitesmoke">\n      <mat-card-header>\n        <mat-card-title>Organizaciones:</mat-card-title>\n      </mat-card-header>\n      <mat-card-content>\n        <toco-source-organizations\n          [sourceData]="journalData"\n          [editable]="false"\n          [ngStyle]="{ margin: \'1em\' }"\n        >\n        </toco-source-organizations>\n      </mat-card-content>\n    </mat-card>\n\n    <mat-card style="margin: 1em; background-color: whitesmoke">\n      <mat-card-header>\n        <mat-card-title> Indizaciones:</mat-card-title>\n      </mat-card-header>\n      <mat-card-content>\n        <toco-source-indexes\n          [sourceData]="journalData"\n          [editable]="false"\n          [ngStyle]="{ margin: \'1em\' }"\n        >\n        </toco-source-indexes>\n        \x3c!-- <mat-accordion>\n          <ng-container *ngFor="let termSource of dataBaseTerms">\n            <mat-expansion-panel\n              *ngIf="termSource.term.vocabulary == vocabularies.INDEXES"\n              (opened)="panelOpenState = true"\n              (closed)="panelOpenState = false"\n            >\n              <mat-expansion-panel-header>\n                <mat-panel-title>\n                  {{ termSource.term.description }}\n                </mat-panel-title>\n                <mat-panel-description> </mat-panel-description>\n              </mat-expansion-panel-header>\n              <p *ngIf="termSource.data">\n                <strong>URL: </strong> {{ termSource.data.url }}\n              </p>\n              <p *ngIf="termSource.data && termSource.data[\'initial_cover\']">\n                <strong>Cobertura inicio: </strong>\n                {{ termSource.data["initial_cover"] }}\n              </p>\n              <p *ngIf="termSource.data && termSource.data[\'end_cover\']">\n                <strong>Cobertura hasta: </strong>\n                {{ termSource.data["end_cover"] }}\n              </p>\n            </mat-expansion-panel>\n          </ng-container>\n        </mat-accordion> --\x3e\n      </mat-card-content>\n    </mat-card>\n  </mat-card-content>\n\n  <mat-divider [inset]="true"></mat-divider>\n</mat-card>\n',styles:[".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]}]}],t.ctorParameters=function(){return[{type:kn},{type:I.MatSnackBar}]},t.propDecorators={journalVersion:[{type:e.Input}],showVersionLabel:[{type:e.Input}],orgs:[{type:e.ViewChild,args:[Ja,{static:!1}]}],indexes:[{type:e.ViewChild,args:[ja,{static:!1}]}]},t}();var Ha=function(){function t(){this.emptyLabel="Vacío"}return t.decorators=[{type:e.Component,args:[{selector:"toco-journal-view-info-field",template:'\n    <mat-label style="font-weight: bold;">{{label}}: </mat-label>\n    <mat-label *ngIf="value">\n      {{ value }}\n    </mat-label>\n    <mat-label\n      *ngIf="!value"\n      class="text-muted text-through"\n      >{{emptyLabel}}\n    </mat-label\n    >',styles:[".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]}]}],t.propDecorators={label:[{type:e.Input}],value:[{type:e.Input}],emptyLabel:[{type:e.Input}]},t}();var Ga=function(){function t(){this.editingJournalChange=new e.EventEmitter,this.journalDataType=Ea,this.IdentifierSchemas=_t}return t.prototype.ngOnInit=function(){null==this.editingJournal.data&&(this.editingJournal.data=new ge),null==this.currentJournal.data&&(this.currentJournal.data=new ge),null==this.type&&(this.type=Ea.default)},t.prototype.replace=function(t,e){switch(void 0===e&&(e=!1),t){case Ea.description:e?this.editingJournal.data.description+=" "+this.currentJournal.data.description:this.editingJournal.data.description=this.currentJournal.data.description;break;case Ea.email:e?this.editingJournal.data.email+=" "+this.currentJournal.data.email:this.editingJournal.data.email=this.currentJournal.data.email;break;case Ea.end_year:e?this.editingJournal.data.end_year+=" "+this.currentJournal.data.end_year:this.editingJournal.data.end_year=this.currentJournal.data.end_year;break;case Ea.facebook:e?this.editingJournal.data.socialNetworks.facebook+=" "+this.currentJournal.data.socialNetworks.facebook:this.editingJournal.data.socialNetworks.facebook=this.currentJournal.data.socialNetworks.facebook;break;case Ea.frequency:e?this.editingJournal.data.frequency+=" "+this.currentJournal.data.frequency:this.editingJournal.data.frequency=this.currentJournal.data.frequency;break;case Ea.issnP:e?this.editingJournal.data.setIdentifierValue(_t.issn_p,this.editingJournal.data.getIdentifierValue(_t.issn_p)+" "+this.currentJournal.data.getIdentifierValue(_t.issn_p)):this.editingJournal.data.setIdentifierValue(_t.issn_p,this.currentJournal.data.getIdentifierValue(_t.issn_p));break;case Ea.issnE:e?this.editingJournal.data.setIdentifierValue(_t.issn_e,this.editingJournal.data.getIdentifierValue(_t.issn_e)+" "+this.currentJournal.data.getIdentifierValue(_t.issn_e)):this.editingJournal.data.setIdentifierValue(_t.issn_e,this.currentJournal.data.getIdentifierValue(_t.issn_e));break;case Ea.issnL:e?this.editingJournal.data.setIdentifierValue(_t.issn_l,this.editingJournal.data.getIdentifierValue(_t.issn_l)+" "+this.currentJournal.data.getIdentifierValue(_t.issn_l)):this.editingJournal.data.setIdentifierValue(_t.issn_l,this.currentJournal.data.getIdentifierValue(_t.issn_l));break;case Ea.rnpsP:e?this.editingJournal.data.setIdentifierValue(_t.prnps,this.editingJournal.data.getIdentifierValue(_t.prnps)+" "+this.currentJournal.data.getIdentifierValue(_t.prnps)):this.editingJournal.data.setIdentifierValue(_t.prnps,this.currentJournal.data.getIdentifierValue(_t.prnps));break;case Ea.rnpsE:e?this.editingJournal.data.setIdentifierValue(_t.ernps,this.editingJournal.data.getIdentifierValue(_t.ernps)+" "+this.currentJournal.data.getIdentifierValue(_t.ernps)):this.editingJournal.data.setIdentifierValue(_t.ernps,this.currentJournal.data.getIdentifierValue(_t.ernps));break;case Ea.end_year:e?this.editingJournal.data.end_year+=" "+this.currentJournal.data.end_year:this.editingJournal.data.end_year=this.currentJournal.data.end_year;break;case Ea.linkedin:e?this.editingJournal.data.socialNetworks.linkedin+=" "+this.currentJournal.data.socialNetworks.linkedin:this.editingJournal.data.socialNetworks.linkedin=this.currentJournal.data.socialNetworks.linkedin;break;case Ea.logo:e?this.editingJournal.data.logo+=" "+this.currentJournal.data.logo:this.editingJournal.data.logo=this.currentJournal.data.logo;break;case Ea.purpose:e?this.editingJournal.data.purpose+=" "+this.currentJournal.data.purpose:this.editingJournal.data.purpose=this.currentJournal.data.purpose;break;case Ea.seriadas_cubanas:e?this.editingJournal.data.seriadas_cubanas+=" "+this.currentJournal.data.seriadas_cubanas:this.editingJournal.data.seriadas_cubanas=this.currentJournal.data.seriadas_cubanas;break;case Ea.shortname:e?this.editingJournal.data.shortname+=" "+this.currentJournal.data.shortname:this.editingJournal.data.shortname=this.currentJournal.data.shortname;break;case Ea.start_year:e?this.editingJournal.data.start_year+=" "+this.currentJournal.data.start_year:this.editingJournal.data.start_year=this.currentJournal.data.start_year;break;case Ea.subtitle:e?this.editingJournal.data.subtitle+=" "+this.currentJournal.data.subtitle:this.editingJournal.data.subtitle=this.currentJournal.data.subtitle;break;case Ea.title:e?this.editingJournal.data.title+=" "+this.currentJournal.data.title:this.editingJournal.data.title=this.currentJournal.data.title;break;case Ea.twitter:e?this.editingJournal.data.socialNetworks.twitter+=" "+this.currentJournal.data.socialNetworks.twitter:this.editingJournal.data.socialNetworks.twitter=this.currentJournal.data.socialNetworks.twitter;break;case Ea.url:e?this.editingJournal.data.setIdentifierValue(_t.url,this.editingJournal.data.getIdentifierValue(_t.url)+" "+this.currentJournal.data.getIdentifierValue(_t.url)):this.editingJournal.data.setIdentifierValue(_t.url,this.currentJournal.data.getIdentifierValue(_t.url));break;case Ea.oaiurl:e?this.editingJournal.data.setIdentifierValue(_t.oaiurl,this.editingJournal.data.getIdentifierValue(_t.oaiurl)+" "+this.currentJournal.data.getIdentifierValue(_t.oaiurl)):this.editingJournal.data.setIdentifierValue(_t.oaiurl,this.currentJournal.data.getIdentifierValue(_t.oaiurl))}this.editingJournalChange.emit(this.editingJournal)},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-view-version-field",template:'<div>\n  <button\n    mat-icon-button\n    aria-label="Next version"\n    matTooltip="Remplazar"\n    (click)="replace(type)"\n  >\n    <mat-icon color="warn">layers</mat-icon>\n  </button>\n\n  \x3c!-- <button mat-icon-button aria-label="Next version" matTooltip="Mezclar" (click)="concat(type)">\n        <mat-icon color="warn">merge_type</mat-icon>\n    </button> --\x3e\n\n  <ng-container [ngSwitch]="type">\n    <ng-container *ngSwitchCase="journalDataType.title">\n      <mat-label style="font-weight: bold">Título:</mat-label>\n      <mat-label *ngIf="currentJournal.data.title">\n        {{ currentJournal.data.title }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.title"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.subtitle">\n      <mat-label style="font-weight: bold">Subtítulo:</mat-label>\n      <mat-label *ngIf="currentJournal.data.subtitle">\n        {{ currentJournal.data.subtitle }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.subtitle"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.shortname">\n      <mat-label style="font-weight: bold">Nombre Abreviado:</mat-label>\n      <mat-label *ngIf="currentJournal.data.shortname">\n        {{ currentJournal.data.shortname }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.shortname"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.issnP">\n      <toco-journal-view-info-field\n        [label]="\'Impreso\'"\n        [value]="\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_p)\n        "\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.issnE">\n      <toco-journal-view-info-field\n        [label]="\'Electrónico\'"\n        [value]="\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_e)\n        "\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.issnL">\n      <toco-journal-view-info-field\n        [label]="\'De enlace\'"\n        [value]="\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.issn_l)\n        "\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.rnpsP">\n      <toco-journal-view-info-field\n        [label]="\'Impreso\'"\n        [value]="\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.prnps)\n        "\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.rnpsE">\n      <toco-journal-view-info-field\n        [label]="\'Electrónico\'"\n        [value]="\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.ernps)\n        "\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.url">\n      <toco-journal-view-info-field\n        [label]="\'URL\'"\n        [value]="currentJournal.data.getIdentifierValue(IdentifierSchemas.url)"\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.oaiurl">\n      <toco-journal-view-info-field\n        [label]="\'OAIURL\'"\n        [value]="\n          currentJournal.data.getIdentifierValue(IdentifierSchemas.oaiurl)\n        "\n      ></toco-journal-view-info-field>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.email">\n      <mat-label style="font-weight: bold">Email:</mat-label>\n      <mat-label *ngIf="currentJournal.data.email">\n        {{ currentJournal.data.email }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.email"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.purpose">\n      <mat-label style="font-weight: bold">Propósito:</mat-label>\n      <mat-label *ngIf="currentJournal.data.purpose">\n        {{ currentJournal.data.purpose }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.purpose"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.start_year">\n      <mat-label style="font-weight: bold">Año de Inicio:</mat-label>\n      <mat-label *ngIf="currentJournal.data.start_year">\n        {{ currentJournal.data.start_year | date }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.start_year"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.end_year">\n      <mat-label style="font-weight: bold">Año de Fin:</mat-label>\n      <mat-label *ngIf="currentJournal.data.end_year">\n        {{ currentJournal.data.end_year | date }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.end_year"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.frequency">\n      <mat-label style="font-weight: bold"\n        >Frecuencia de Publicación:</mat-label\n      >\n      <mat-label *ngIf="currentJournal.data.frequency">\n        {{ currentJournal.data.frequency }}\n      </mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.frequency"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.seriadas_cubanas">\n      <mat-label style="font-weight: bold">Seriadas Cubanas:</mat-label>\n      <a\n        href="{{ currentJournal.data.seriadas_cubanas }}"\n        target="_blanck"\n        *ngIf="currentJournal.data.seriadas_cubanas"\n      >\n        {{ currentJournal.data.seriadas_cubanas }}\n      </a>\n      <mat-label\n        *ngIf="!currentJournal.data.seriadas_cubanas"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.facebook">\n      <mat-label style="font-weight: bold">Facebook:</mat-label>\n      <a\n        href="{{ currentJournal.data.socialNetworks.facebook }}"\n        target="_blanck"\n        *ngIf="currentJournal.data.socialNetworks.facebook"\n      >\n        {{ currentJournal.data.socialNetworks.facebook }}\n      </a>\n      <mat-label\n        *ngIf="!currentJournal.data.socialNetworks.facebook"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.twitter">\n      <mat-label style="font-weight: bold">Twitter:</mat-label>\n      <a\n        href="{{ currentJournal.data.socialNetworks.twitter }}"\n        target="_blanck"\n        *ngIf="currentJournal.data.socialNetworks.twitter"\n      >\n        {{ currentJournal.data.socialNetworks.twitter }}\n      </a>\n      <mat-label\n        *ngIf="!currentJournal.data.socialNetworks.twitter"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.linkedin">\n      <mat-label style="font-weight: bold">Linkedin:</mat-label>\n      <a\n        href="{{ currentJournal.data.socialNetworks.linkedin }}"\n        target="_blanck"\n        *ngIf="currentJournal.data.socialNetworks.linkedin"\n      >\n        {{ currentJournal.data.socialNetworks.linkedin }}\n      </a>\n      <mat-label\n        *ngIf="!currentJournal.data.socialNetworks.linkedin"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n\n    <ng-container *ngSwitchCase="journalDataType.description">\n      <mat-label style="font-weight: bold">Descripción:</mat-label>\n      <mat-label\n        *ngIf="!currentJournal.data.description"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n    </ng-container>\n  </ng-container>\n\n  \x3c!-- <mat-icon class="mat-18" color="accent" *ngIf="currentJournal.data.data && currentJournal.data.subtitle !== \'\' && currentJournal.data.subtitle !== currentcurrentJournal.data.subtitle" matTooltip="Tiene cambios">notifications</mat-icon> --\x3e\n</div>\n',styles:[".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={editingJournal:[{type:e.Input}],currentJournal:[{type:e.Input}],type:[{type:e.Input}],editingJournalChange:[{type:e.Output}]},t}();var Ua=function(){function t(t){this._snackBar=t,this.journalDataType=Ea,this.panelOpenState=!1,this.currentJournalChecked=!1,this.editingJournalChange=new e.EventEmitter}return t.prototype.ngOnInit=function(){null==this.currentJournal&&(this.currentJournal=new be),this.loadJournalData(),null==this.type&&(this.type=Ea.default)},t.prototype.ngOnChanges=function(){console.log("***////****////***///"),this.ngOnInit()},t.prototype.loadJournalData=function(){var t=this;this.currentDataBaseTerms=new Array,this.currentGroupTerms=new Array,this.currentInstitutionTerms=new Array,this.currentLicenceTerms=new Array,this.currentProvinceTerms=new Array,this.currentSubjectTerms=new Array,this.vocabularies=we,this.currentJournal.data.classifications&&this.currentJournal.data.classifications.forEach((function(e){switch(e.vocabulary.toString()){case we.CUBAN_INTITUTIONS:t.currentInstitutionTerms.push(e);break;case we.INDEXES:t.currentDataBaseTerms.push(e);break;case we.INDEXES_CLASIFICATION:t.currentGroupTerms.push(e);break;case we.LICENCES:t.currentLicenceTerms.push(e);break;case we.CUBAN_PROVINCES:t.currentProvinceTerms.push(e);break;case we.SUBJECTS:t.currentSubjectTerms.push(e)}}))},t.prototype.markAsViewed=function(){this.currentJournalChecked&&(this.currentJournal.data.reviewed=!0,new Ue(this._snackBar).showMessage(Be.OK,"Revisión marcada como vista!!!"))},t.prototype.fieldEditingJournalChange=function(){this.editingJournalChange.emit(this.editingJournal)},t.prototype.replace=function(){this.editingJournal=this.currentJournal,this.editingJournalChange.emit(this.editingJournal),console.log("editingJournal remplazado",this.editingJournal)},t.prototype.concat=function(t,e){if(t==Ea.term){for(var n=!0,o=0;o<this.editingJournal.data.classifications.length;o++){this.editingJournal.data.classifications[o].id==e.id&&(this.editingJournal.data.classifications[o].data=e.data,n=!1)}n&&this.editingJournal.data.classifications.push(e),this.editingJournalChange.emit(this.editingJournal)}},t.prototype.replaceSubjects=function(){this.replaceClassifications(we.SUBJECTS)},t.prototype.replaceIndexes=function(){this.replaceClassifications(we.INDEXES)},t.prototype.replaceClassifications=function(t){var e=[];this.editingJournal.data.classifications.forEach((function(n){n.vocabulary!=t&&e.push(n)})),this.currentJournal.data.classifications.forEach((function(n){n.vocabulary==t&&e.push(n)})),this.editingJournal.data.classifications=e,this.editingJournalChange.emit(this.editingJournal)},t.prototype.replaceOrganizations=function(){var t=[];this.currentJournal.data.organizations.forEach((function(e){t.push(e)})),this.editingJournal.data.organizations=t,this.editingJournalChange.emit(this.editingJournal)},t.decorators=[{type:e.Component,args:[{selector:"toco-journal-view-version",template:'<mat-card *ngIf="currentJournal.data">\n  <mat-card-header>\n    \x3c!-- <img mat-card-avatar *ngIf="currentJournal.data.logo; else logotemplate" [style.background-size]="\'cover\'" src="currentJournal.data.logo">\n            <ng-template #logotemplate>\n                <img mat-card-avatar [src]="defaultLogo" alt="">\n            </ng-template> --\x3e\n\n    <mat-card-title>\n      <div fxLAyout="row" fxLayoutAlign="space-between start">\n        <mat-icon\n          class="mat-18 notification-position"\n          color="accent"\n          *ngIf="currentJournal.is_current"\n          matTooltip="{{ currentJournal.comment }}"\n          >star</mat-icon\n        >\n        <mat-icon\n          class="mat-18 notification-position"\n          color="accent"\n          *ngIf="!currentJournal.reviewed"\n          matTooltip="{{ currentJournal.comment }}"\n          >adjust</mat-icon\n        >\n      </div>\n    </mat-card-title>\n\n    <mat-card-subtitle>\n      <mat-label> {{ currentJournal.created_at | date }}. </mat-label>\n      <mat-label>\n        {{ currentJournal.userprofile.identify() }}\n      </mat-label>\n    </mat-card-subtitle>\n  </mat-card-header>\n\n  <mat-divider [inset]="true" style="margin-bottom: 1em"></mat-divider>\n\n  <mat-card-content>\n    <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.title"\n    ></toco-journal-view-version-field>\n\n    \x3c!-- subtitle --\x3e\n    <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.subtitle"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.shortname"\n    ></toco-journal-view-version-field>\n\n    <mat-label style="font-weight: bold">ISSN: </mat-label>\n    <div style="margin-left: 0.8em">\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.issnP"\n      ></toco-journal-view-version-field>\n\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.issnE"\n      ></toco-journal-view-version-field>\n\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.issnL"\n      ></toco-journal-view-version-field>\n    </div>\n    <mat-label style="font-weight: bold">RNPS: </mat-label>\n    <div style="margin-left: 0.8em">\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.rnpsP"\n      ></toco-journal-view-version-field>\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.rnpsE"\n      ></toco-journal-view-version-field>\n    </div>\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.url"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.oaiurl"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.email"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.seriadas_cubanas"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.purpose"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.start_year"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.end_year"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.frequency"\n    ></toco-journal-view-version-field>\n\n    <toco-journal-view-version-field\n    (editingJournalChange)="fieldEditingJournalChange()"\n      [editingJournal]="editingJournal"\n      [currentJournal]="currentJournal"\n      [type]="journalDataType.description"\n    ></toco-journal-view-version-field>\n\n    <div\n      *ngIf="currentJournal.data.description"\n      class="e2e-inner-html-bound text-align-justify"\n      [innerHTML]="currentJournal.data.description"\n    ></div>\n\n    <mat-label style="font-weight: bold">Redes Sociales:</mat-label>\n    <div style="margin-left: 0.8em">\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.facebook"\n      ></toco-journal-view-version-field>\n\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.twitter"\n      ></toco-journal-view-version-field>\n\n      <toco-journal-view-version-field\n      (editingJournalChange)="fieldEditingJournalChange()"\n        [editingJournal]="editingJournal"\n        [currentJournal]="currentJournal"\n        [type]="journalDataType.linkedin"\n      ></toco-journal-view-version-field>\n    </div>\n\n    \x3c!-- show terms --\x3e\n    <mat-divider\n      [inset]="true"\n      style="margin-bottom: 1em; margin-top: 1em"\n    ></mat-divider>\n\n    \x3c!-- <p>\n      <mat-label style="font-weight: bold;"> Institución: </mat-label>\n      <mat-label\n        *ngIf="currentInstitutionTerms.length == 0"\n        class="text-muted text-through"\n        >Vacío</mat-label\n      >\n      <ng-container *ngFor="let termSource of currentInstitutionTerms">\n        <mat-label style="padding-left: 1em;">\n          {{ termSource.description }}\n        </mat-label>\n      </ng-container>\n    </p> --\x3e\n    \x3c!-- <mat-card style="margin: 1em; background-color: whitesmoke;">\n      <mat-card-header>\n        <mat-card-title> Grupo: </mat-card-title>\n        <mat-label\n          *ngIf="currentGroupTerms.length == 0"\n          class="text-muted text-through"\n          >Vacío</mat-label\n        >\n      </mat-card-header>\n      <mat-card-content>\n        <mat-chip-list>\n          <ng-container *ngFor="let termSource of currentGroupTerms">\n            <mat-chip>\n              <button\n                mat-icon-button\n                color="accent"\n                matTooltip="Agregar"\n                (click)="concat(journalDataType.term, termSource)"\n              >\n                <mat-icon class="mat-18">merge_type</mat-icon>\n              </button>\n              {{ termSource.description }}\n            </mat-chip>\n          </ng-container>\n        </mat-chip-list>\n      </mat-card-content>\n    </mat-card>\n\n    <mat-card style="margin: 1em; background-color: whitesmoke;">\n      <mat-card-header>\n        <mat-card-title> Provincia: </mat-card-title>\n        <mat-label\n          *ngIf="currentProvinceTerms.length == 0"\n          class="text-muted text-through"\n          >Vacío</mat-label\n        >\n      </mat-card-header>\n      <mat-card-content>\n        <mat-chip-list>\n          <ng-container *ngFor="let termSource of currentProvinceTerms">\n            <mat-chip>\n              <button\n                mat-icon-button\n                color="accent"\n                matTooltip="Agregar"\n                (click)="concat(journalDataType.term, termSource)"\n              >\n                <mat-icon class="mat-18">merge_type</mat-icon>\n              </button>\n              {{ termSource.description }}\n            </mat-chip>\n          </ng-container>\n        </mat-chip-list>\n      </mat-card-content>\n    </mat-card> --\x3e\n\n    <mat-card style="margin: 1em; background-color: whitesmoke">\n      <mat-card-header>\n        <mat-card-title> Licencia: </mat-card-title>\n        <mat-label\n          *ngIf="currentLicenceTerms.length == 0"\n          class="text-muted text-through"\n          >Vacío</mat-label\n        >\n      </mat-card-header>\n      <mat-card-content>\n        <mat-chip-list>\n          <ng-container *ngFor="let termSource of currentLicenceTerms">\n            <mat-chip>\n              <button\n                mat-icon-button\n                color="accent"\n                matTooltip="Agregar"\n                (click)="concat(journalDataType.term, termSource)"\n              >\n                <mat-icon class="mat-18">merge_type</mat-icon>\n              </button>\n              {{ termSource.description }}\n            </mat-chip>\n          </ng-container>\n        </mat-chip-list>\n      </mat-card-content>\n    </mat-card>\n\n    <mat-card style="margin: 1em; background-color: whitesmoke">\n      <mat-card-header>\n        <mat-card-title>\n          <button\n            mat-icon-button\n            color="accent"\n            matTooltip="Reemplazar"\n            (click)="replaceSubjects()"\n          >\n            <mat-icon class="mat-18">merge_type</mat-icon>\n          </button>\n\n          Materias:\n        </mat-card-title>\n        <mat-label\n          *ngIf="currentSubjectTerms.length == 0"\n          class="text-muted text-through"\n          >Vacío</mat-label\n        >\n      </mat-card-header>\n      <mat-card-content>\n        <mat-chip-list>\n          <ng-container *ngFor="let termSource of currentSubjectTerms">\n            <mat-chip>\n              \x3c!-- <button\n                mat-icon-button\n                color="accent"\n                matTooltip="Agregar"\n                (click)="concat(journalDataType.term, termSource)"\n              >\n                <mat-icon class="mat-18">merge_type</mat-icon>\n              </button> --\x3e\n              {{ termSource.description }}\n            </mat-chip>\n          </ng-container>\n        </mat-chip-list>\n      </mat-card-content>\n    </mat-card>\n\n    <mat-card style="margin: 1em; background-color: whitesmoke">\n      <mat-card-header>\n        <mat-card-title>\n          <button\n            mat-icon-button\n            color="accent"\n            matTooltip="Reemplazar"\n            (click)="replaceOrganizations()"\n          >\n            <mat-icon class="mat-18">merge_type</mat-icon>\n          </button>\n          Organizaciones:\n        </mat-card-title>\n      </mat-card-header>\n      <mat-card-content>\n        <toco-source-organizations\n          [sourceData]="currentJournal.data"\n          [editable]="false"\n          [ngStyle]="{ margin: \'1em\' }"\n        >\n        </toco-source-organizations>\n      </mat-card-content>\n    </mat-card>\n\n    <mat-card style="margin: 1em; background-color: whitesmoke">\n      <mat-card-header>\n        <mat-card-title>\n          <button\n            mat-icon-button\n            color="accent"\n            matTooltip="Reemplazar"\n            (click)="replaceIndexes()"\n          >\n            <mat-icon class="mat-18">merge_type</mat-icon>\n          </button>\n\n          Indizaciones:\n        </mat-card-title>\n        \x3c!-- <mat-label\n          *ngIf="currentDataBaseTerms.length == 0"\n          class="text-muted text-through"\n          >Vacío</mat-label\n        > --\x3e\n      </mat-card-header>\n      <mat-card-content>\n        <toco-source-indexes\n          [sourceData]="currentJournal.data"\n          [editable]="false"\n          [ngStyle]="{ margin: \'1em\' }"\n        >\n        </toco-source-indexes>\n        \x3c!-- <mat-accordion>\n          <ng-container *ngFor="let termSource of currentDataBaseTerms">\n            <mat-expansion-panel\n              (opened)="panelOpenState = true"\n              (closed)="panelOpenState = false"\n            >\n              <mat-expansion-panel-header>\n                <mat-panel-title>\n                  <button\n                    mat-icon-button\n                    color="accent"\n                    matTooltip="Agregar"\n                    (click)="concat(journalDataType.term, termSource)"\n                  >\n                    <mat-icon class="mat-18">merge_type</mat-icon>\n                  </button>\n                  {{ termSource.description }}\n                </mat-panel-title>\n                <mat-panel-description> </mat-panel-description>\n              </mat-expansion-panel-header>\n              <p *ngIf="termSource.data">\n                <strong>URL: </strong> {{ termSource.data.url }}\n              </p>\n              <p *ngIf="termSource.data && termSource.data[\'initial_cover\']">\n                <strong>Cobertura inicio: </strong>\n                {{ termSource.data["initial_cover"] }}\n              </p>\n              <p *ngIf="termSource.data && termSource.data[\'end_cover\']">\n                <strong>Cobertura hasta: </strong>\n                {{ termSource.data["end_cover"] }}\n              </p>\n            </mat-expansion-panel>\n          </ng-container>\n        </mat-accordion> --\x3e\n      </mat-card-content>\n    </mat-card>\n  </mat-card-content>\n\n  <mat-divider [inset]="true"></mat-divider>\n\n  \x3c!-- <mat-card-actions\n    fxLayout="row wrap"\n    fxLayoutAlign="space-between center"\n    fxLayoutGap="10px"\n    style="padding: 1em"\n  >\n    <mat-checkbox\n                [(ngModel)]="currentJournalChecked"\n                (change)="markAsViewed()"\n            >\n                Marcar como Visto\n            </mat-checkbox>\n\n    <div fxLayoutGap="10px">\n      <button mat-stroked-button color="primary" (click)="replace()">\n        Sustituir todos los campos\n      </button>\n      \x3c!-- <button mat-raised-button color="accent">Descartar</button>\n    </div>\n  </mat-card-actions> --\x3e\n</mat-card>\n',styles:[".text-muted{color:rgba(0,0,0,.54);padding-left:.2em}.text-through{text-decoration:line-through}.notification-position{position:absolute;top:0;right:0}p{padding-top:.8em}.overlay{opacity:.4;background:#000;width:100%;height:100%;z-index:10;top:0;left:0;position:fixed}"]}]}],t.ctorParameters=function(){return[{type:I.MatSnackBar}]},t.propDecorators={currentJournal:[{type:e.Input}],type:[{type:e.Input}],editingJournal:[{type:e.Input}],editingJournalChange:[{type:e.Output}]},t}();var Wa=function(t){function n(e,n,o,a,r,i){var s=t.call(this,e,n)||this;return s.componentFactoryResolver=e,s.childrenService=n,s.service=o,s.taxonomyService=a,s._snackBar=r,s.env=i,s}return et(n,t),n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.addOperator(),Xa.forEach((function(t){e.filters_data.push(t)})),this.service.getJournalsVocab().pipe(W.catchError((function(t){return new Ue(e._snackBar).showMessage(Be.serverError,t.message),z.of(null)}))).subscribe((function(t){t?t.data.vocabularies.forEach((function(t){we.CUBAN_INTITUTIONS===t.id&&""!==e.env.topOrganizationPID?(console.log(e.env.topOrganizationPID),e.taxonomyService.getTermByUUID(e.env.topOrganizationPID).subscribe((function(n){e.filters_data.push({index:e.filters_data.length,field:"terms",type:"tree",placeholder:t.human_name,name:t.human_name,idVocab:t.id,selectOptions:n.data.term_node.children,is_enabled:!0})}))):e.service.getTerminosByVocab(t.id).subscribe((function(n){e.filters_data.push({index:e.filters_data.length,field:"terms",type:"select-autocomplete",placeholder:t.human_name,name:t.human_name,idVocab:t.id,selectOptions:n.data.terms,is_enabled:!0})}))})):new Ue(e._snackBar).showMessage(Be.serverError,"No puedo cargar los vocabularios")}))},n.prototype.addOperator=function(){var t=new En(Mn,{field:"op",value:!0,name:["AND","OR"],is_enabled:!1,index:-1}),e=this.componentFactoryResolver.resolveComponentFactory(t.component);this.adHost.viewContainerRef.createComponent(e).instance.data=t.data},n.decorators=[{type:e.Component,args:[{selector:"toco-catalog-filters-container",template:'\x3c!-- <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutAlign.xs="center center" fxLayoutGap="1em" fxLayoutGap.xs="0"> --\x3e\n\n  <ng-template toco-Filter></ng-template>\n\n\x3c!-- </div> --\x3e\n\n<button mat-icon-button [matMenuTriggerFor]="menu">\n    <mat-icon>add</mat-icon>\n</button>\n  <mat-menu #menu="matMenu" >\n    <ng-container *ngFor="let item of filters_data,let i=index">\n        <ng-container *ngIf="item.is_enabled">\n          <button mat-menu-item (click)="addFilter(i)">\n            {{item.name}}\n          </button>\n        </ng-container>\n    </ng-container>\n    \n\n    \n  </mat-menu>',styles:[".width-100{width:100%}.mat-menu-item{height:37px}"]}]}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:jn},{type:Sn},{type:In},{type:I.MatSnackBar},{type:pt}]},n}(Gn);var Xa=[{index:0,field:"title",type:"search",placeholder:"Título",name:"Título",is_enabled:!0},{index:1,field:"issn",type:"text",placeholder:"ISSN",name:"ISSN",is_enabled:!0},{index:2,field:"rnps",type:"number",placeholder:"RNPS",name:"RNPS",is_enabled:!0}],Ya=function(){function t(t,e,n,o,a,r){this.service=t,this.metadata=e,this.filterService=n,this.env=o,this._snackBar=a,this.dialog=r,this.loading=!0,this.hasErrors=!1,this.dataSource=new w.MatTableDataSource,this.columnsToDisplay=["title","rnps","p-issn","url"],this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15,20],this.sceibaHost="",this.layoutPosition=[{name:"Derecha",layout:"row-reverse",aling:"center baseline",width:"22"},{name:"Izquierda",layout:"row",aling:"center baseline",width:"22"},{name:"Arriba",layout:"column",aling:"center center",width:"90"},{name:"Abajo",layout:"column-reverse",aling:"center center",width:"90"}],this.currentlayout=this.layoutPosition[1],this.sceibaHost=o.sceibaHost+"/catalog",o.topOrganizationPID}return t.prototype.ngOnInit=function(){var t=this;this.metadata.setStandardMeta("Catálogo de Revistas Científicas","",""),this.paginator.firstPage(),this.paginator.pageSize=5;try{this.fetchJournalData(),this.filterService.paramsChanged.pipe(W.catchError((function(e){return new Ue(t._snackBar).showMessage(Be.serverError,e.message),z.of([])}))).subscribe((function(e){t.params=e,t.fetchJournalData()}))}catch(t){new Ue(this._snackBar).showMessage(Be.serverError,t.message)}},t.prototype.fetchJournalData=function(){var t=this,e=new Array;z.merge().pipe(W.startWith({}),W.switchMap((function(){return t.service.getJournalsPage(t.paginator.pageSize,t.paginator.pageIndex,t.params)})),W.map((function(n){return t.loading=!1,t.length=n.data.sources.count,n.data.sources.data.forEach((function(t){var n=new ye;n.id=t.id,n.uuid=t.uuid;var o=new ge;o.url=null!=t.data?t.data.url:"",o.title=t.name,o.subtitle=t.subtitle,o.shortname=t.shortname;var a=new he;a.e=null!=t.data?t.data.issn.e:"",a.l=null!=t.data?t.data.issn.l:"",a.p=null!=t.data?t.data.issn.p:"",o.issn=a,o.rnps=null!=t.data?t.data.rnps:"",o.logo=null!=t.data?t.data.logo:"",o.purpose=t.purpose,o.description=null!=t.data?t.data.description:"",n.data=o,e.push(n)})),e})),W.catchError((function(e){return t.loading=!1,t.hasErrors=!0,new Ue(t._snackBar).showMessage(Be.serverError,e.message),z.of([])}))).subscribe((function(e){return t.dataSource.data=e}))},t.prototype.onScrollUp=function(){},t.prototype.isEmpty=function(){return!(0!==this.dataSource.data.length||!this.hasErrors)},t.prototype.isLoading=function(){return this.loading},t.prototype.openme=function(){var t=navigator.userAgent.match(/Android/i),e=navigator.userAgent.match(/BlackBerry/i),n=navigator.userAgent.match(/iPhone|iPad|iPod/i),o=navigator.userAgent.match(/Opera Mini/i),a=navigator.userAgent.match(/IEMobile/i);return null==t&&null==e&&null==n&&null==o&&null==a},t.prototype.changeLayoutPosition=function(t){this.currentlayout=this.layoutPosition[t]},t.prototype.viewJournal=function(t){var e=this;this.service.getSourceByUUID(t).subscribe((function(n){if(console.log(n),"success"==n.status){var o=new be;o.deepcopy(n.data.sources),e.dialog.open($a,{data:{journalVersion:o,journalUUID:t}}).afterClosed()}else{new Ue(e._snackBar).showMessage(Be.serverError,"No fue posible encontrar la Revista")}}),(function(t){console.log("error")}),(function(){}))},t.decorators=[{type:e.Component,args:[{selector:"toco-catalog",template:'\x3c!-- <div infiniteScroll [infiniteScrollDistance]="0" [infiniteScrollUpDistance]="0.5" [infiniteScrollThrottle]="10" (scrolled)="onScrollDown()"\n  (scrolledUp)="onScrollUp()"> --\x3e\n\n\x3c!-- <toco-page-header [info]="[\'Catálogo de Revistas Científicas Cubanas\']">\n    </toco-page-header> --\x3e\n<div fxLayoutAlign="end center" fxLayout="row">\n    <button mat-icon-button [matMenuTriggerFor]="menu">\n        <mat-icon>view_quilt</mat-icon>\n    </button>\n    <mat-menu #menu="matMenu">\n        <button mat-menu-item (click)="changeLayoutPosition(0)">\n            <mat-icon>arrow_forward</mat-icon>\n            <span>{{layoutPosition[0].name}}</span>\n        </button>\n        <button mat-menu-item (click)="changeLayoutPosition(1)">\n            <mat-icon>arrow_back</mat-icon>\n            <span>{{layoutPosition[1].name}}</span>\n        </button>\n        <button mat-menu-item (click)="changeLayoutPosition(2)">\n            <mat-icon>arrow_upward</mat-icon>\n            <span>{{layoutPosition[2].name}}</span>\n        </button>\n        <button mat-menu-item (click)="changeLayoutPosition(3)">\n            <mat-icon>arrow_downward</mat-icon>\n            <span>{{layoutPosition[3].name}}</span>\n        </button>\n    </mat-menu>\n</div>\n\n\n<div fxLayout="{{currentlayout.layout}}" fxLayout.xs="column nowrap"\n    fxLayoutAlign="{{currentlayout.aling}}">\n\n    <toco-catalog-filters-container *ngIf="!isEmpty()" fxLayout="row wrap" fxLayout.xs="column wrap" fxFlex="{{currentlayout.width}}"\n        fxLayoutAlign="start center" fxLayoutAlign.xs="center center" fxLayoutGap="1em"\n        class="width-90 back-grey mat-elevation-z8">\n    </toco-catalog-filters-container>\n\n\n\n    <div class="mat-elevation-z8 width-90 margin1em">\n        <table *ngIf="!isEmpty()" mat-table [dataSource]="dataSource" multiTemplateDataRows>\n            <ng-container matColumnDef="title">\n                <th mat-header-cell *matHeaderCellDef>Titulo</th>\n                <td mat-cell *matCellDef="let element"> {{element.data.title}} </td>\n            </ng-container>\n            <ng-container matColumnDef="rnps">\n                <th mat-header-cell *matHeaderCellDef>RNPS</th>\n                <td mat-cell *matCellDef="let element"> {{element.data.rnps}} </td>\n            </ng-container>\n            <ng-container matColumnDef="p-issn">\n                <th mat-header-cell *matHeaderCellDef>P-ISSN</th>\n                <td mat-cell *matCellDef="let element"> {{element.data.issn.p}} </td>\n            </ng-container>\n            <ng-container matColumnDef="url">\n                <th mat-header-cell *matHeaderCellDef>URL</th>\n                <td mat-cell *matCellDef="let element"> {{element.data.url}} </td>\n            </ng-container>\n\n            \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n            <ng-container matColumnDef="expandedDetail">\n                <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">\n                    <div class="example-element-detail"\n                        [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'">\n                        <div class="example-element-description e2e-inner-html-bound"\n                            [innerHTML]="element.data.description"></div>\n                        <div class="example-element-description" fxLayout="row" fxLayoutAlign="center end">\n                            <button mat-stroked-button color="primary" (click)="viewJournal(element.uuid)">\n                                Ver\n                            </button>\n                        </div>\n\n                    </div>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n            <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"\n                [class.example-expanded-row]="expandedElement === element" (click)="expandedElement = element">\n            </tr>\n            <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="example-detail-row"></tr>\n        </table>\n\n        <h1 *ngIf="isEmpty()">No hay Información para Mostrar</h1>\n\n        <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"\n            (page)="fetchJournalData()">\n        </mat-paginator>\n    </div>\n\n\n</div>\n<mat-card *ngIf="isLoading()" class="center-spinner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="gappx">\n    <mat-spinner></mat-spinner>\n    \x3c!--<mat-progress-bar mode="indeterminate"></mat-progress-bar>--\x3e\n</mat-card>\n\n\n\x3c!--\n      </mat-drawer-content>\n\n    </mat-drawer-container> --\x3e\n\n\x3c!-- </div> --\x3e',animations:[Q.trigger("detailExpand",[Q.state("collapsed",Q.style({height:"0px",minHeight:"0",display:"none"})),Q.state("expanded",Q.style({height:"*"})),Q.transition("expanded <=> collapsed",Q.animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],styles:[".width-card{width:30%;min-width:240px;margin-left:24px;margin-top:24px}.card-float-left{float:left}.center-spinner{width:90.5%;min-width:240px;margin-left:24px;margin-right:24px;margin-top:24px}.back-grey{background:rgba(0,0,0,.01);margin:1.5em 1em;padding:1em;min-width:18em}.width-90{width:90%}.width-93{width:93.5%}table{width:90%}.margin1em{margin:1em}.menu-pull-right{flex:1 1 auto}table.mat-table{width:100%}tr.example-detail-row{height:0}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex}.example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}.height-auto{height:auto!important}"]}]}],t.ctorParameters=function(){return[{type:Sn},{type:ft},{type:Rn},{type:pt},{type:I.MatSnackBar},{type:I.MatDialog}]},t.propDecorators={paginator:[{type:e.ViewChild,args:[g.MatPaginator,{static:!0}]}],filter_component:[{type:e.ViewChild,args:[Wa,{static:!0}]}]},t}();var $a=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.ngOnInit=function(){console.log(this.data)},t.prototype.onNoClick=function(){this.dialogRef.close()},t.decorators=[{type:e.Component,args:[{selector:"dialog-catalog-journal-info",template:'<mat-dialog-content class="height-auto">\n                    <toco-journal-view-info\n                        [journalVersion]="data.journalVersion"\n                    >\n                    </toco-journal-view-info>\n                </mat-dialog-content>'}]}],t.ctorParameters=function(){return[{type:I.MatDialogRef},{type:void 0,decorators:[{type:e.Inject,args:[I.MAT_DIALOG_DATA]}]}]},t}();var Ka=function(){function t(t,e,n,o){this.service=t,this.metadata=e,this.filterService=n,this.env=o,this.journalList=[],this.loading=!0,this.dataSource=new w.MatTableDataSource,this.columnsToDisplay=["title","rnps","p-issn"],this.length=0,this.pageSize=5,this.pageSizeOptions=[5,10,15,20],this.sceibaHost="",this.layoutPosition=[{name:"Derecha",layout:"row-reverse",aling:"center baseline",width:"22"},{name:"Izquierda",layout:"row",aling:"center baseline",width:"22"},{name:"Arriba",layout:"column",aling:"center center",width:"90"},{name:"Abajo",layout:"column-reverse",aling:"center center",width:"90"}],this.currentlayout=this.layoutPosition[1],this.sceibaHost=o.sceibaHost+"/catalog"}return t.prototype.ngOnInit=function(){var t=this;this.metadata.setStandardMeta("Catálogo de Revistas Científicas","",""),this.paginator.firstPage(),this.paginator.pageSize=5,this.service.getJournalsCount().subscribe((function(e){t.length=e.data.count})),this.fetchJournalData(),this.filterService.paramsChanged.subscribe((function(e){t.params=e,t.fetchJournalData()}))},t.prototype.fetchJournalData=function(){var t=this;this.loading=!0;var e=new Array;z.merge().pipe(W.startWith({}),W.switchMap((function(){return t.loading=!0,t.service.getJournalsPage(t.paginator.pageSize,t.paginator.pageIndex,t.params)})),W.map((function(n){return t.loading=!1,t.length=n.data.sources.count,n.data.sources.data.forEach((function(t){var n=new ye;n.id=t.id,n.uuid=t.uuid;var o=new ge;o.url=null!=t.data?t.data.url:"",o.title=t.name,o.subtitle=t.subtitle,o.shortname=t.shortname;var a=new he;a.e=null!=t.data?t.data.issn.e:"",a.l=null!=t.data?t.data.issn.l:"",a.p=null!=t.data?t.data.issn.p:"",o.issn=a,o.rnps=null!=t.data?t.data.rnps:"",o.logo=null!=t.data?t.data.logo:"",o.purpose=t.purpose,o.description=null!=t.data?t.data.description:"",n.data=o,e.push(n)})),e})),W.catchError((function(e){return t.loading=!1,console.log("ERRORRR "+e),z.of([])}))).subscribe((function(e){return t.dataSource.data=e}))},t.prototype.onScrollUp=function(){},t.prototype.isEmpty=function(){return 0==this.journalList.length&&(this.loading=!1,!0)},t.prototype.isLoading=function(){return this.loading},t.prototype.openme=function(){var t=navigator.userAgent.match(/Android/i),e=navigator.userAgent.match(/BlackBerry/i),n=navigator.userAgent.match(/iPhone|iPad|iPod/i),o=navigator.userAgent.match(/Opera Mini/i),a=navigator.userAgent.match(/IEMobile/i);return null==t&&null==e&&null==n&&null==o&&null==a},t.prototype.changeLayoutPosition=function(t){this.currentlayout=this.layoutPosition[t]},t.decorators=[{type:e.Component,args:[{selector:"toco-sources-list",template:'\x3c!-- <div infiniteScroll [infiniteScrollDistance]="0" [infiniteScrollUpDistance]="0.5" [infiniteScrollThrottle]="10" (scrolled)="onScrollDown()"\n  (scrolledUp)="onScrollUp()"> --\x3e\n\n\n    \x3c!-- <toco-page-header [info]="[\'Catálogo de Revistas Científicas Cubanas\']">\n    </toco-page-header> --\x3e\n    <div fxLayoutAlign="end center" fxLayout="row">\n      <button mat-icon-button [matMenuTriggerFor]="menu">\n        <mat-icon>view_quilt</mat-icon>\n      </button>\n      <mat-menu #menu="matMenu">\n        <button mat-menu-item (click)="changeLayoutPosition(0)">\n          <mat-icon>arrow_forward</mat-icon>\n          <span>{{layoutPosition[0].name}}</span>\n        </button>\n        <button mat-menu-item (click)="changeLayoutPosition(1)">\n          <mat-icon>arrow_back</mat-icon>\n          <span>{{layoutPosition[1].name}}</span>\n        </button>\n        <button mat-menu-item (click)="changeLayoutPosition(2)">\n          <mat-icon>arrow_upward</mat-icon>\n          <span>{{layoutPosition[2].name}}</span>\n        </button>\n        <button mat-menu-item (click)="changeLayoutPosition(3)">\n          <mat-icon>arrow_downward</mat-icon>\n          <span>{{layoutPosition[3].name}}</span>\n        </button>\n      </mat-menu>\n    </div>\n\n\n    <div fxLayout="{{currentlayout.layout}}" fxLayout.xs="column nowrap" fxLayoutAlign="{{currentlayout.aling}}">\n\n      <toco-catalog-filters-container fxLayout="row wrap" fxLayout.xs="column wrap" fxFlex="{{currentlayout.width}}" fxLayoutAlign="start center" fxLayoutAlign.xs="center center"\n        fxLayoutGap="1em" class="width-90 back-grey mat-elevation-z8">\n      </toco-catalog-filters-container>\n\n\n\n      <div class="mat-elevation-z8 width-90 margin1em">\n        <table mat-table [dataSource]="dataSource" multiTemplateDataRows>\n          <ng-container matColumnDef="title">\n            <th mat-header-cell *matHeaderCellDef>Titulo</th>\n            <td mat-cell *matCellDef="let element"> {{element.data.title}} </td>\n          </ng-container>\n          <ng-container matColumnDef="rnps">\n            <th mat-header-cell *matHeaderCellDef>RNPS</th>\n            <td mat-cell *matCellDef="let element"> {{element.data.rnps}} </td>\n          </ng-container>\n          <ng-container matColumnDef="p-issn">\n            <th mat-header-cell *matHeaderCellDef>P-ISSN</th>\n            <td mat-cell *matCellDef="let element"> {{element.data.issn.p}} </td>\n          </ng-container>\n\n          \x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\x3e\n          <ng-container matColumnDef="expandedDetail">\n            <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">\n              <div class="example-element-detail" [@detailExpand]="element == expandedElement ? \'expanded\' : \'collapsed\'">\n                <div class="example-element-description e2e-inner-html-bound" [innerHTML]="element.data.description"></div>\n\n              </div>\n            </td>\n          </ng-container>\n\n          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>\n          <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row" [class.example-expanded-row]="expandedElement === element"\n            (click)="expandedElement = element">\n          </tr>\n          <tr mat-row *matRowDef="let row; columns: [\'expandedDetail\']" class="example-detail-row"></tr>\n        </table>\n        <mat-paginator [length]="length"\n              [pageSize]="pageSize"\n              [pageSizeOptions]="pageSizeOptions"\n              (page)="fetchJournalData()">\n        </mat-paginator>\n      </div>\n\n      <mat-card *ngIf="!isEmpty()" class="center-spinner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="gappx">\n        <mat-spinner></mat-spinner>\n        \x3c!--<mat-progress-bar mode="indeterminate"></mat-progress-bar>--\x3e\n      </mat-card>\n\n      \x3c!-- <mat-card *ngIf="isEmpty()" class="center-spinner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="gappx">\n        <h1>No hay Información para Mostrar</h1>\n      </mat-card> --\x3e\n    </div>\n\n    \x3c!--\n      </mat-drawer-content>\n\n\n\n    </mat-drawer-container> --\x3e\n\n\x3c!-- </div> --\x3e\n',animations:[Q.trigger("detailExpand",[Q.state("collapsed",Q.style({height:"0px",minHeight:"0",display:"none"})),Q.state("expanded",Q.style({height:"*"})),Q.transition("expanded <=> collapsed",Q.animate("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])],styles:[".width-card{width:30%;min-width:240px;margin-left:24px;margin-top:24px}.card-float-left{float:left}.center-spinner{width:90.5%;min-width:240px;margin-left:24px;margin-right:24px;margin-top:24px}.back-grey{background:rgba(0,0,0,.01);margin:1.5em 1em;padding:1em;min-width:18em}.width-90{width:90%}.width-93{width:93.5%}table{width:90%}.margin1em{margin:1em}.menu-pull-right{flex:1 1 auto}table.mat-table{width:100%}tr.example-detail-row{height:0}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex}.example-element-diagram{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol{font-weight:700;font-size:40px;line-height:normal}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}"]}]}],t.ctorParameters=function(){return[{type:Sn},{type:ft},{type:Rn},{type:pt}]},t.propDecorators={paginator:[{type:e.ViewChild,args:[g.MatPaginator,{static:!0}]}],filter_component:[{type:e.ViewChild,args:[Wa,{static:!0}]}]},t}();var Qa={displayDefaultIndicatorType:!1},Za=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Na,Va,qa,Ha,Ga,Ra,Ma,Ua,Ya,Wa,Ka,$a,Ja,za,Ba,ja],entryComponents:[Ma,$a,za,Ba],imports:[ut,Ye,V.ReactiveFormsModule,Wo,Sa],exports:[Na,Ra,qa,Ya,Ka],providers:[kn,In,{provide:Z.STEPPER_GLOBAL_OPTIONS,useValue:Qa}]}]}],t}(),tr=function(){function t(t,e,n,o,a){this.service=t,this._formBuilder=e,this.dialogRef=n,this._snackBar=o,this.data=a,this.actionLabel="Aceptar",this.hasService=!1,a.accept&&(this.accept=a.accept,this.hasService=!0,this.vocab=new Ae,null===a.vocab?this.vocab.isNew=!0:(this.vocab.deepcopy(a.vocab),this.actionLabel="Actualizar"))}return t.prototype.ngOnInit=function(){var t=this;this.hasService&&(this.formGroup=this._formBuilder.group({}),this.panels=[{title:this.vocab.isNew?"Nuevo Vocabulario":"Editar Vocabulario",description:"",iconName:"",formSection:this.formGroup,formSectionContent:[{name:"name",label:"Identificador",type:Zn.identifier,required:!0,width:"100%",value:this.vocab.name,startHint:new Qn(Kn.start,"Un identificador es una secuencia de letras")},{name:"human_name",label:"Nombre",type:Zn.text,required:!1,width:"100%",value:this.vocab.human_name,startHint:new Qn(Kn.start,"")},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,width:"100%",value:this.vocab.description,startHint:new Qn(Kn.start,"")}]}],this.action={doit:function(e){t.formGroup.valid?(t.vocab.name=t.formGroup.value.name,t.vocab.human_name=t.formGroup.value.human_name,t.vocab.description=t.formGroup.value.description,t.accept(t.vocab)):new Ue(t._snackBar).showMessage(Be.OK,"El identificador no es válido.")}})},t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.acceptAction=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-vocabulary-dialog",template:'<form *ngIf="hasService">\n    <toco-form-container\n        [panelsContent]="panels"\n        [formGroup]="formGroup"\n        [useAccordion]="false"\n        [action]="action"\n        [actionLabel]="actionLabel"\n    ></toco-form-container>\n\n\n    \x3c!-- <div>\n        <button mat-raised-button color="primary" (click)="acceptAction()">{{actionLabel}}</button>\n    </div> --\x3e\n</form>\n\n<h2 *ngIf="!hasService"> No Service</h2>\n'}]}],t.ctorParameters=function(){return[{type:In},{type:V.FormBuilder},{type:u.MatDialogRef},{type:C.MatSnackBar},{type:void 0,decorators:[{type:e.Inject,args:[u.MAT_DIALOG_DATA]}]}]},t}();var er=function(){function t(t,n,o,a){var r=this;this.service=t,this.oautheStorage=n,this.dialog=o,this._snackBar=a,this.vocabulariesChangeObserver={next:function(t){r.dialog.closeAll(),r.loadVocabularies();var e=new Ae;e.deepcopy(t.data.vocabulary),r.selectVocab(e),new Ue(r._snackBar).showMessage(Be.OK,t.message)},error:function(t){console.log("error: "+t+".")},complete:function(){console.log("complete.")}},this.vocabCtrl=new V.FormControl,this.selectedVocab=new e.EventEmitter,this.currentVocab=null,this.vocabularies=[],this.loading=!1,this.emiterShowTerms=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.getAuthenticatedUserPermissions(),this.loadVocabularies()},t.prototype.ngOnDestroy=function(){},t.prototype.selectVocab=function(t){this.currentVocab=t},t.prototype.loadVocabularies=function(){var t=this;this.loading=!0,this.service.getVocabularies().pipe(W.catchError((function(e){return new Ue(t._snackBar).showMessage(Be.serverError,e.message),z.of(null)})),W.finalize((function(){return t.loading=!1}))).subscribe((function(e){e?(t.vocabularies=e.data.vocabularies,t.filteredVocabularies=t.vocabCtrl.valueChanges.pipe(W.startWith(""),W.map((function(e){return t.vocabularies.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})))):t.vocabularies=[]}))},t.prototype.newVocab=function(){this.openVocabDialog(null)},t.prototype.editVocab=function(t){this.openVocabDialog(t)},t.prototype.openVocabDialog=function(t){var e=this;this.dialog.open(tr,{data:{vocab:t,accept:function(t){e.dialog.closeAll(),t.isNew?e.service.newVocabulary(t).pipe().subscribe(e.vocabulariesChangeObserver):e.service.editVocabulary(t).pipe().subscribe(e.vocabulariesChangeObserver)}}}).afterClosed().subscribe((function(t){console.log("dialog closed")}))},t.prototype.deleteVocab=function(t){},t.prototype.onSelectionChange=function(){this.selectedVocab.emit(this.currentVocab)},t.prototype.getAuthenticatedUserPermissions=function(){var t=this;this.service.getCurrentUserPermissions().pipe(W.catchError((function(e){return new Ue(t._snackBar).showMessage(Be.serverError,e.message),z.of(null)}))).subscribe((function(e){if("success"==e.status){var n=JSON.stringify(e.data.permissions.actions);t.oautheStorage.setItem("user_permissions",n)}}))},t.prototype.hasPermission=function(t,e){var n=JSON.parse(this.oautheStorage.getItem("user_permissions"));if(!n)return!1;switch(t){case"add":return null===n.taxonomy_full_editor_actions;case"edit":if(null===n.taxonomy_full_editor_actions)return!0;if(n.vocabulary_editor_actions){if(n.vocabulary_editor_actions.includes(e))return!0}else if(n.taxonomy_full_editor_actions)return!0;return!1;default:return!1}},t.decorators=[{type:e.Component,args:[{selector:"toco-vocabularies",template:'<mat-card>\n  <mat-card-header>\n    <mat-card-title>\n      <div fxLayout="row" fxLayoutAlign="space-between none">\n        Vocabularios\n        <button *ngIf="hasPermission(\'add\')" mat-icon-button (click)="newVocab()" matTooltip="Adicionar Vocabulario">\n          <mat-icon>library_add</mat-icon>\n        </button>\n      </div>\n    </mat-card-title>\n  </mat-card-header>\n  <mat-card-content [style.overflow]="\'auto\'" [style.height]="\'25em\'">\n    <mat-spinner *ngIf="loading; else elseTemplate"></mat-spinner>\n    <ng-template #elseTemplate>\n\n\n      <mat-form-field [ngStyle]="{\'width\': \'100%\'}">\n        <mat-label>Vocabularios</mat-label>\n        <mat-select\n          [(value)]="currentVocab"\n          (selectionChange)="onSelectionChange()"\n        >\n          <mat-option *ngFor="let option of vocabularies" [value]="option">\n            {{option.human_name}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      \n\n      \x3c!-- <mat-form-field>\n        <input matInput placeholder="Vocabularios" aria-label="Vocabularios" [matAutocomplete]="auto"\n          [formControl]="vocabCtrl">\n        <mat-autocomplete #auto="matAutocomplete">\n          <mat-option *ngFor="let item of filteredVocabularies | async" [value]="item.human_name" (click)=selectVocab(item) (keydown.enter)=selectVocab(item)>\n            {{item.human_name}}\n          </mat-option>\n        </mat-autocomplete>\n      </mat-form-field> --\x3e\n\n\n      <mat-card *ngIf="currentVocab">\n        <mat-card-header>\n          <mat-card-title></mat-card-title>\n          <mat-card-subtitle>\n              <strong>Identificador: </strong> {{ currentVocab.name }}\n              </mat-card-subtitle>\n        </mat-card-header>\n        <mat-card-content>\n            <strong>Nombre: </strong> {{ currentVocab.human_name }}\n          <p> <strong> Descripción: </strong> </p>\n          <div class="e2e-inner-html-bound  text-align-justify" [innerHTML]="currentVocab.description"></div>\n\n        </mat-card-content>\n        <mat-card-actions>\n          <button mat-flat-button *ngIf="hasPermission(\'edit\', currentVocab.id)" (click)="editVocab(currentVocab)">Editar \n            <mat-icon>edit</mat-icon>\n          </button>\n        </mat-card-actions>\n      </mat-card>\n      \n    </ng-template>\n  </mat-card-content>\n</mat-card>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:In},{type:J.OAuthStorage},{type:u.MatDialog},{type:C.MatSnackBar}]},t.propDecorators={selectedVocab:[{type:e.Output}],emiterShowTerms:[{type:e.Output}]},t}();var nr=function(){function t(t,e,n){this._formBuilder=t,this._snackBar=e,this.data=n,this.panels=[],this.actionLabel="Adicionar",this.hasService=!1,n.accept&&n.currentVocab&&(this.accept=n.accept,this.hasService=!0,this.vocab=n.currentVocab,n.term?(this.actionLabel="Actualizar",this.data.term.data||(this.data.term.data=this._getTermDataObject())):(this.data.term=new Ie,this.data.term.isNew=!0,this.data.term.vocabulary_id=n.currentVocab.id))}return t.prototype.ngOnInit=function(){this.formGroup=this._formBuilder.group({}),this.panels=[{title:"Término",description:"",iconName:"",formSection:this.formGroup,formSectionContent:this._getContent()}],this.action={doit:function(t){if(this.formGroup.valid){var e=new Ie;e.deepcopy(this.data.term),e.deepcopy(this.formGroup.value),e.data=this._getTermDataObject(),e.data.deepcopy(this.formGroup.value);var n=this.formGroup.value.parent_id;if(n&&n[0]?e.parent_id=n[0].id:e.parent_id=null,this.vocab.id==we.INDEXES){e.class_ids=[];var o=this.formGroup.value.miar_class,a=this.formGroup.value.group_mes;o&&o[0]&&e.class_ids.push(o[0].id),a&&a[0]&&e.class_ids.push(a[0].id)}this.accept(e)}}}},t.prototype._getContent=function(){switch(this.vocab.id){case we.CUBAN_INTITUTIONS:return[{name:"name",label:"Nombre",type:Zn.text,required:!0,value:this.data.term.name?this.data.term.name:null,width:"100%"},{name:"grid",label:"Identificador GRID",type:Zn.text,required:!1,value:this.data.term.data.grid?this.data.term.data.grid:null,width:"50%"},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,value:this.data.term.description?this.data.term.description:null,width:"100%"},{name:"email",label:"Email",type:Zn.email,required:!0,value:this.data.term.data.email?this.data.term.data.email:null,width:"45%"},{name:"website",label:"Sitio Web Oficial",type:Zn.url,required:!1,value:this.data.term.data.website?this.data.term.data.website:null,width:"45%"},{name:"address",label:"Dirección",type:Zn.textarea,required:!1,value:this.data.term.data.address?this.data.term.data.address:null,width:"100%"},{name:"parent_id",label:"Jerarquía Institucional (Institución Superior)",type:Zn.vocabulary,required:!1,extraContent:{multiple:!1,selectedTermsIds:this.data.term.parent_id?[this.data.term.parent_id]:null,vocab:this.vocab.id},width:"100%"}];case we.INDEXES:return[{name:"name",label:"Nombre",type:Zn.text,required:!0,value:this.data.term.name?this.data.term.name:null,width:"100%"},{name:"url",label:"URL",type:Zn.url,required:!1,value:this.data.term.data.url?this.data.term.data.url:null,width:"100%"},{name:"abrev",label:"Identificadores",type:Zn.text,required:!1,value:this.data.term.data.abrev?this.data.term.data.abrev:null,width:"30%"},{name:"initial_cover",label:"Cobertura inicio",type:Zn.text,required:!1,value:this.data.term.data.initial_cover?this.data.term.data.initial_cover:null,width:"30%"},{name:"end_cover",label:"Cobertura",type:Zn.text,required:!1,value:this.data.term.data.end_cover?this.data.term.data.end_cover:null,width:"30%"},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,value:this.data.term.description?this.data.term.description:null,width:"100%"},{name:"miar_class",label:"Tipología de sistemas de indización",type:Zn.vocabulary,required:!1,extraContent:{multiple:!1,selectedTermsIds:this.data.term.class_ids?this.data.term.class_ids:null,vocab:we.INDEXES_CLASIFICATION},width:"48%"},{name:"group_mes",label:"Grupos, Categorías según criterios de “calidad” de las publicaciones ",type:Zn.vocabulary,startHint:new Qn(Kn.start,""),required:!1,extraContent:{multiple:!1,selectedTermsIds:this.data.term.class_ids?this.data.term.class_ids:null,vocab:we.INDEXES_CLASIFICATION},width:"48%"}];default:return[{name:"name",label:"Nombre",type:Zn.text,required:!0,width:"100%",value:this.data.term.name?this.data.term.name:null},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,width:"100%",value:this.data.term.description?this.data.term.description:null},{name:"parent_id",label:"Término Padre",type:Zn.vocabulary,startHint:new Qn(Kn.start,""),required:!1,extraContent:{multiple:!1,selectedTermsIds:this.data.term.parent_id?[this.data.term.parent_id]:null,vocab:this.vocab.id},width:"50%"}]}},t.prototype._getTermDataObject=function(){switch(this.vocab.id){case we.CUBAN_INTITUTIONS:return new Se;case we.INDEXES:return new Te;default:return new bt}},t.decorators=[{type:e.Component,args:[{selector:"toco-term-generic",template:'\n<toco-form-container\n    [panelsContent]="panels"\n    [useAccordion]="\'false\'"\n    [action]="action"\n    [actionLabel]="actionLabel"\n    [formGroup]="formGroup"\n></toco-form-container>\n\n<h2 *ngIf="!hasService"> No Service</h2>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:V.FormBuilder},{type:I.MatSnackBar},{type:void 0,decorators:[{type:e.Inject,args:[u.MAT_DIALOG_DATA]}]}]},t}();var or=function(){function t(t,e,n,o){var a=this;this.service=t,this.oautheStorage=e,this.dialog=n,this._snackBar=o,this.loading=!1,this.termsTreeObserver={next:function(t){a.dataSource.data=t.data.tree.term_node,a.loading=!a.loading},error:function(t){console.log("error: "+t+".")},complete:function(){console.log("complete")}},this.termChangeObserver={next:function(t){a.loading=!a.loading,a.service.getTermsTreeByVocab(a.currentVocab.id).subscribe(a.termsTreeObserver),a.dialog.closeAll(),new Ue(a._snackBar).showMessage(Be.OK,t.message)},error:function(t){console.log("error: "+t+".")},complete:function(){console.log("complete")}},this.currentVocab=null,this.treeFlattener=new L.MatTreeFlattener(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new X.FlatTreeControl(this.getLevel,this.isExpandable),this.dataSource=new L.MatTreeFlatDataSource(this.treeControl,this.treeFlattener)}return t.prototype.ngOnInit=function(){this.oautheStorage.getItem("user_permission")||this.getAuthenticatedUserPermissions()},t.prototype.ngOnChanges=function(){var t=this;null!=this.currentVocab&&(this.loading=!0,this.service.getTermsTreeByVocab(this.currentVocab.id).subscribe((function(e){t.dataSource.data=e.data.tree.term_node}),(function(t){console.log("error: "+t+".")}),(function(){t.loading=!1})))},t.prototype.ngOnDestroy=function(){},t.prototype.transformer=function(t,e){return{name:t.term.identifier,term:t.term,level:e,expandable:t.children.length>0}},t.prototype.getLevel=function(t){return t.level},t.prototype.isExpandable=function(t){return t.expandable},t.prototype.hasChild=function(t,e){return e.expandable},t.prototype.getChildren=function(t){return z.of(t.children)},t.prototype.addTerm=function(){this.openTermDialog(null)},t.prototype.editTerm=function(t){this.openTermDialog(t.term)},t.prototype.openTermDialog=function(t){var e=this;this.dialog.open(nr,{data:{term:t,terms:this.dataSource.data,currentVocab:this.currentVocab,accept:function(t){e.dialog.closeAll(),t.isNew?e.service.newTerm(t).pipe().subscribe(e.termChangeObserver):e.service.editTerm(t).pipe().subscribe(e.termChangeObserver)}}}).afterClosed().subscribe((function(t){console.log("dialog closed")}))},t.prototype.deleteTerm=function(t){console.log(t)},t.prototype.getAuthenticatedUserPermissions=function(){var t=this;this.service.getCurrentUserPermissions().pipe(W.catchError((function(e){return new Ue(t._snackBar).showMessage(Be.serverError,e.message),z.of(null)}))).subscribe((function(e){if("success"==e.status){var n=JSON.stringify(e.data.permissions.actions);t.oautheStorage.setItem("user_permissions",n)}}))},t.prototype.hasPermission=function(t,e){var n=JSON.parse(this.oautheStorage.getItem("user_permissions"));if(!n)return!1;switch(t){case"add":return null===n.taxonomy_full_editor_actions;case"edit":if(null===n.taxonomy_full_editor_actions)return!0;if(n.vocabulary_editor_actions){if(n.vocabulary_editor_actions.includes(e))return!0}else if(n.taxonomy_full_editor_actions)return!0;return!1;default:return!1}},t.decorators=[{type:e.Component,args:[{selector:"toco-terms",template:'<mat-card>\n    <mat-card-header>\n        <mat-card-title>\n            <div fxLayout="row" fxLayoutAlign="space-between none">\n                Términos\n                <ng-container *ngIf="currentVocab"> de {{ currentVocab.human_name}} </ng-container>\n\n                <button mat-icon-button *ngIf="currentVocab && hasPermission(\'add\')" (click)="addTerm()"\n                    matTooltip="Adicionar Término">\n                    <mat-icon>library_add</mat-icon>\n                </button>\n\n            </div>\n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-content [style.overflow]="\'auto\'" [style.height]="\'25em\'">\n        <mat-spinner *ngIf="loading; else elseTemplate"></mat-spinner>\n\n        <ng-template #elseTemplate>\n            <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="padd">\n                <mat-tree-node class="hover" *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding\n                    fxLayout="row" fxLayoutAlign="space-between center">\n                    <div fxLayout="row" fxLayoutAlign="start center">\n                        <button mat-icon-button disabled></button>\n                        {{ node.name }}\n                    </div> \n                    <button mat-icon-button *ngIf="currentVocab && hasPermission(\'edit\', currentVocab.id)" (click)="editTerm(node)" matTooltip="Editar">\n                    <mat-icon>edit</mat-icon>\n                    </button>\n                </mat-tree-node>\n\n                <mat-tree-node class="hover" *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>\n                    <button mat-icon-button matTreeNodeToggle [attr.aria-label]="\'toggle \' + node.name">\n                        <mat-icon class="mat-icon-rtl-mirror">\n                            {{treeControl.isExpanded(node) ? \'expand_more\' : \'chevron_right\'}}\n                        </mat-icon>\n                    </button>\n                    <div class="item-width" fxLayout="row" fxLayoutAlign="space-between center">\n                        {{ node.name }}\n                        <div>\n                            <button mat-icon-button *ngIf="currentVocab && hasPermission(\'edit\', currentVocab.id)" (click)="editTerm(node)" matTooltip="Editar">\n                                <mat-icon>edit</mat-icon>\n                            </button>\n                            \x3c!-- <button mat-icon-button (click)="deleteTerm(node)" matTooltip="Eliminar">\n                                <mat-icon>delete</mat-icon>\n                            </button> --\x3e\n                        </div>\n                    </div>\n\n                </mat-tree-node>\n            </mat-tree>\n        </ng-template>\n    </mat-card-content>\n</mat-card>',styles:[".type-icon{color:#757575;margin-right:5px}.item-width{width:100%}.padd{padding:.7em}.hover:hover{transform:scale(1.02);box-shadow:0 0 10px 0 rgba(0,0,0,.4);border-radius:3px}"]}]}],t.ctorParameters=function(){return[{type:In},{type:J.OAuthStorage},{type:u.MatDialog},{type:C.MatSnackBar}]},t.propDecorators={currentVocab:[{type:e.Input}]},t}();var ar=function(){function t(){this.vocabs={title:"Vocabularios",cols:1,rows:1},this.terms={title:"Terminos de",cols:1,rows:2},this.current_vocab={name:"",description:""}}return t.prototype.ngOnInit=function(){},t.prototype.vocabChange=function(t){this.currentVocab=t},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Component,args:[{selector:"toco-taxonomy",template:'<div class="grid-container">\n  \x3c!-- <h1 class="mat-h1">Taxonomía</h1> --\x3e\n  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap=”32px” fxLayoutAlign="space-around none">\n    \n    <toco-vocabularies \n      fxFlex="38%" \n      (selectedVocab)="vocabChange($event)"\n    ></toco-vocabularies>\n\n    <toco-terms \n      fxFlex="58%" \n      [currentVocab]="currentVocab"\n    ></toco-terms>\n  </div>\n</div>',styles:[".grid-container{margin:20px}.dashboard-card{position:absolute;top:15px;left:15px;right:15px;bottom:15px;overflow:hidden;display:flex;flex-direction:column}.dashboard-card>.mat-card-title-group{display:block}.dashboard-card>.mat-card-content{overflow-y:auto}"]}]}],t.ctorParameters=function(){return[]},t}();var rr=function(){function t(t){this.taxonomyService=t,this.vocabulary_id=null,this.ids=null,this.terms=[]}return t.prototype.ngOnInit=function(){var t=this;this.vocabulary_id&&(console.log(this.ids),this.taxonomyService.getTermListByIDs(this.ids).subscribe((function(e){console.log(e),e.data.term&&e.data.term.forEach((function(e){e.vocabulary_id==t.vocabulary_id&&t.terms.push(e)}))}),(function(t){}),(function(){})))},t.decorators=[{type:e.Component,args:[{selector:"toco-terms-viewer",template:'<mat-chip-list>\n  <mat-chip *ngFor="let term of terms">{{ term.name }}</mat-chip>\n</mat-chip-list>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:In}]},t.propDecorators={vocabulary_id:[{type:e.Input}],ids:[{type:e.Input}]},t}();var ir=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[er,tr,or,ar,nr,rr],entryComponents:[tr,nr],imports:[ut,V.ReactiveFormsModule,Wo],exports:[ar,er,rr],providers:[]}]}],t}(),sr=function(){function t(){}return t.getPanelContentToEdit=function(t){var e=null;if(t)switch(t.vocabulary_id){case we.CUBAN_INTITUTIONS:e=[{name:"name",label:"Nombre",type:Zn.text,required:!0,value:t.identifier?t.identifier:null,width:"100%"},{name:"grid",label:"Identificador GRID",type:Zn.text,required:!1,value:t.data.grid?t.data.grid:null,width:"50%"},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,value:t.description?t.description:null,width:"100%"},{name:"email",label:"Email",type:Zn.email,required:!0,value:t.data.email?t.data.email:null,width:"45%"},{name:"website",label:"Sitio Web Oficial",type:Zn.url,required:!1,value:t.data.website?t.data.website:null,width:"45%"},{name:"address",label:"Dirección",type:Zn.textarea,required:!1,value:t.data.address?t.data.address:null,width:"100%"},{name:"parent_id",label:"Jerarquía Institucional (Institución Superior)",type:Zn.vocabulary,required:!1,extraContent:{multiple:!1,selectedTermsIds:t.parent_id?[t.parent_id]:null,vocab:t.vocabulary_id},width:"100%"}];break;case we.INDEXES:e=[{name:"name",label:"Nombre",type:Zn.text,required:!0,value:t.identifier?t.identifier:null,width:"100%"},{name:"url",label:"URL",type:Zn.url,required:!1,value:t.data.url?t.data.url:null,width:"100%"},{name:"abrev",label:"Identificadores",type:Zn.text,required:!1,value:t.data.abrev?t.data.abrev:null,width:"30%"},{name:"initial_cover",label:"Cobertura inicio",type:Zn.text,required:!1,value:t.data.initial_cover?t.data.initial_cover:null,width:"30%"},{name:"end_cover",label:"Cobertura",type:Zn.text,required:!1,value:t.data.end_cover?t.data.end_cover:null,width:"30%"},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,value:t.description?t.description:null,width:"100%"},{name:"miar_class",label:"Tipología de sistemas de indización",type:Zn.vocabulary,required:!1,extraContent:{multiple:!1,selectedTermsIds:t.class_ids?t.class_ids:null,vocab:we.INDEXES_CLASIFICATION},width:"48%"},{name:"group_mes",label:"Grupos, Categorías según criterios de “calidad” de las publicaciones ",type:Zn.vocabulary,startHint:new Qn(Kn.start,""),required:!1,extraContent:{multiple:!1,selectedTermsIds:t.class_ids?t.class_ids:null,vocab:we.INDEXES_CLASIFICATION},width:"48%"}];break;default:e=[{name:"name",label:"Nombre",type:Zn.text,required:!0,width:"100%",value:t.identifier?t.identifier:null},{name:"description",label:"Descripción",type:Zn.textarea,required:!1,width:"100%",value:t.description?t.description:null},{name:"parent_id",label:"Término Padre",type:Zn.vocabulary,startHint:new Qn(Kn.start,""),required:!1,extraContent:{multiple:!1,selectedTermsIds:t.parent_id?[t.parent_id]:null,vocab:t.vocabulary_id},width:"50%"}]}return e},t}();t.ActionButtonComponent=so,t.ActionControl=io,t.ActionText={view:"view",add:"add",edit:"edit"},t.Address=Wt,t.Aggr=St,t.AggrBucket=wt,t.AggregationsComponent=Da,t.AngularMaterialModule=ct,t.AuthBackend=bn,t.AuthenticationComponent=_n,t.AuthenticationModule=wn,t.AutocompleteFilter=Vn,t.BackendModule=Tn,t.BodyComponent=dt,t.BooleanFilterComponent=Mn,t.CACHABLE_URL_PROVIDER=hn,t.Cachable=rn,t.CachableUrl=dn,t.CachingInterceptor=ln,t.CatalogComponent=Ya,t.CatalogService=Sn,t.CategoryQuestion=Pt,t.CategoryQuestionType={bool:"bool",integer:"integer",select:"select"},t.CellContentWrap=ho,t.CheckboxComponent=zo,t.ComponentFactory_Depr=lo,t.ContainerControl=co,t.ContainerLabelDiffLangComponent=go,t.ContainerPanelActionComponent=qo,t.ContainerPanelComponent=po,t.ContainerSimpleComponent=mo,t.ContentPosition=Xn,t.CoreModule=Ye,t.DatepickerComponent=Bo,t.DatepickerYearComponent=Go,t.DialogCatalogJournalInfoDialog=$a,t.DialogContentComponent=He,t.DialogDeleteConfirmComponent=Ge,t.DialogDeleteConfirmMessageData=qe,t.DialogMessageData=ze,t.ENDPOINT_APIS=On,t.EmailValue=xo,t.EntitiesModule=yt,t.Entity=vt,t.EntityBase=bt,t.Environment=pt,t.EqualLengthDirective=Me,t.Error404Component=mt,t.Evaluation=Ft,t.EvaluationOnlyAnswer=Et,t.ExtraValidators=je,t.FilterContainerComponent=Gn,t.FilterContainerService=jn,t.FilterDirective=Jn,t.FilterHttpMap=Nn,t.FilterItem=En,t.FiltersModule=Un,t.FiltersService=Rn,t.FooterComponent=ht,t.FormContainerComponent=uo,t.FormContainerService=Xo,t.FormFieldControl=no,t.FormFieldType=Zn,t.GeoNamesAdmin=Gt,t.GeoNamesCity=Ut,t.GetViewContainerDirective=Ve,t.HTTP_INTERCEPTOR_PROVIDERS=[],t.HandlerComponent=Je,t.HarvestedItem=Ce,t.HarvesterComponent=Yo,t.HarvesterFiltersComponent=$o,t.HarvesterModule=oa,t.HarvesterService=na,t.HintPosition=Kn,t.HintValue=Qn,t.Hit=Tt,t.HitList=At,t.HomeComponent=gt,t.HttpService=cn,t.ISSN=he,t.IconService=un,t.IconSource=Yn,t.IconValue=$n,t.Identifier=xt,t.IdentifierSchemas=_t,t.IdentifierValue=Co,t.InfoCardComponent=Oe,t.InputBoolComponent=vo,t.InputControl=bo,t.InputEmailComponent=_o,t.InputIdentifierComponent=wo,t.InputIssnComponent=To,t.InputNumberComponent=Ao,t.InputRnpsComponent=Po,t.InputSelectComponent=Do,t.InputTextComponent=Lo,t.InputUrlComponent=Fo,t.InstitutionalRepository=Rt,t.IssnOrg=me,t.IssnType_Abbreviation=Io,t.IssnType_Label={ISSN:"TOCO_NG_ISSN",p_ISSN:"TOCO_NG_P_ISSN",e_ISSN:"TOCO_NG_E_ISSN",ISSN_L:"TOCO_NG_ISSN_L"},t.IssnValue=So,t.Journal=ye,t.JournalCardComponent=Pe,t.JournalData=ge,t.JournalDataType=Ea,t.JournalEditComponent=Ra,t.JournalGeneralData=kt,t.JournalReference=Mt,t.JournalVersion=be,t.JournalViewComponent=Na,t.LANGUAGE_ABBRS_LIST=Ze,t.LANGUAGE_TEXTS_LIST=Qe,t.LabelDiffLang=zt,t.LanguageAbbrs=Ke,t.LanguageTexts=$e,t.Links=Ct,t.MARKDOWN_FILE_EXTENSION=".md",t.MAX_SAFE_INTEGER=9007199254740991,t.MainInstitution=Nt,t.MessageHandler=Ue,t.MessageService=pn,t.MetadataService=ft,t.NavComponent=De,t.NotificationButtonComponent=aa,t.NotificationInfo=ra,t.NotificationListComponent=ia,t.NotificationModule=sa,t.NotificationService=An,t.OauthAuthenticationService=vn,t.OperationAction=oo,t.OrgAddComponent=va,t.OrgEditComponent=ba,t.OrgSearchComponent=xa,t.OrgTreeViewerComponent=Ia,t.OrgViewComponent=ha,t.Organization=Kt,t.OrganizationDataSource=wa,t.OrganizationFlatNode=Ca,t.OrganizationRelationships=Bt,t.OrganizationService=Pn,t.OrganizationServiceNoAuth=Dn,t.OrganizationsModule=Sa,t.PageHeaderComponent=Le,t.PageNotFoundComponent=ke,t.Person=Qt,t.PersonComponent=Ta,t.PersonModule=Oa,t.PersonViewComponent=Aa,t.ProgressComponent=We,t.QueryInputComponent=La,t.QueryParamKey={lang:"lang",size:"size",page:"page",q:"q",aggrsSel:"aggrsSel"},t.REFRESH_X_CACHE="refresh-x-cache",t.REQUEST_CACHE_DIFFERENT_TIME_WITH_MAP_PROVIDER=fn,t.RNPS=fe,t.ROOT_API="api",t.Record=ve,t.RecordComponent=Pa,t.RecordListComponent=ka,t.Redirect=$t,t.RedirectProperties=Yt,t.RedirectPropertiesIdtype=Xt,t.Redirected=qt,t.Reference=Jt,t.Relationship=Ht,t.RepositoriesComponent=Qo,t.Repository=xe,t.RepositoryComponent=ea,t.RepositorySet=_e,t.RequestCache=sn,t.RequestCacheDifferentTimeWithMap=mn,t.ResponseStatus={SUCCESS:"success",ERROR:"error"},t.RnpsValue=Oo,t.RoadMapComponent=Ne,t.RoadMapSceibaComponent=Re,t.Role=Zt,t.SavingInfoSchema=le,t.SceibaAppsComponent=Xe,t.SearchModule=Fa,t.SearchResponse=Ot,t.SearchService=Ln,t.SectionCategory=Dt,t.SelectAutocompleteFilterComponent=qn,t.SelectComponent=Vo,t.SelectFilterComponent=Mo,t.SelectFilterOldComponent=zn,t.SelectOrgsComponent=Uo,t.SelectTreeComponent=Jo,t.SharedModule=ut,t.SimpleAuthenticationService=xn,t.SocialNetworks=de,t.SortDirection=nn,t.Source=pe,t.SourceClasification=se,t.SourceData=ce,t.SourceOrganization=ie,t.SourceOrganizationRole=re,t.SourcePersonRole={ADMINISTRATOR:{label:"Administrador",value:"ADMINISTRATOR"},JOURNALMANAGER:{label:"Gestor de Revista",value:"JOURNALMANAGER"},AUTHOR:{label:"Autor",value:"AUTHOR"},EDITOR:{label:"Editor",value:"EDITOR"},SECTIONEDITOR:{label:"Editor de Sección",value:"SECTIONEDITOR"},REVIEWER:{label:"Revisor",value:"REVIEWER"},COPYEDITOR:{label:"Editor de Copias",value:"COPYEDITOR"},LAYOUTEDITOR:{label:"Editor de Formato",value:"LAYOUTEDITOR"},PROOFREADER:{label:"Corrector de Pruebas",value:"PROOFREADER"},READER:{label:"Lector",value:"READER"}},t.SourceService=kn,t.SourceServiceNoAuth=Fn,t.SourceStatus={APPROVED:{label:"Aprobado",value:"APPROVED"},TO_REVIEW:{label:"En revision",value:"TO_REVIEW"},UNOFFICIAL:{label:"Incluido Extraoficialmente",value:"UNOFFICIAL"}},t.SourceSystems=oe,t.SourceTypes=ae,t.SourceVersion=ue,t.SourcesListComponent=Ka,t.SourcesModule=Za,t.StaticChipsComponent=la,t.StaticTableComponent=ca,t.StaticTextComponent=ua,t.StaticsModule=pa,t.StatusCode=Be,t.SurveySection=Lt,t.TableComponent=fo,t.TaxonomyComponent=ar,t.TaxonomyModule=ir,t.TaxonomyService=In,t.Term=Ie,t.TermHelper=sr,t.TermIndexData=Te,t.TermInstitutionData=Se,t.TermParentComponent=Ro,t.TextAlign=Wn,t.TextInputAppearance=yo,t.TextareaComponent=jo,t.TitleFilterComponent=Bn,t.TocoFormsModule=Wo,t.TocoLibComponent=st,t.TocoLibModule=lt,t.TocoLibService=it,t.TreeFilterComponent=Hn,t.UrlValue=ko,t.User=te,t.UserProfile=ne,t.UserProfileService=yn,t.UserService=gn,t.UserSourcesRoles=ee,t.VocabulariesComponent=er,t.VocabulariesInmutableNames=we,t.Vocabulary=Ae,t.VocabularyComponent=Eo,t.VocabularyDialogComponent=tr,t.VocabularyTreeComponent=No,t.YEAR_MODE_FORMATS=Ho,t.authConfig={loginUrl:"https://localhost:5000/oauth/authorize",tokenEndpoint:"https://localhost:5000/oauth/token",redirectUri:"https://127.0.0.1:4200/",clientId:"a0QpogRmC5iyrhLbfIqmDEbOhhr9nUzOYYPAhWW1",oidc:!1,timeoutFactor:.8,scope:"user:email"},t.clickDefault=ro,t.cloneFormControl=to,t.cloneFormSection=eo,t.cloneValue=function(t){return G.isArray(t)?tn(t,[]):G.isRegExp(t)?t:G.isDate(t)?new Date(t):G.isError(t)?t:G.isObject(t)?tn(t,{}):t},t.cloneValueToUndefined=function(t){return G.isArray(t)?en(t,[]):G.isRegExp(t)?void 0:G.isDate(t)?void 0:G.isError(t)?void 0:G.isObject(t)?en(t,{}):void 0},t.convertLangFromNumberToString=function(t){switch(t){case 0:return Ke.es;case 1:return Ke.en}return""},t.convertLangFromStringToNumber=function(t){switch(t){case Ke.es:return 0;case Ke.en:return 1}return-1},t.defaultTableContent=function(){return{columnsObjectProperty:[],columnsHeaderText:[],columnsWidth:[],columnContentWrap:[],createCssClassesForRow:void 0,propertyNameToIdentify:"",filter:{},sort:{active:this._content.propertyNameToIdentify,direction:nn.asc},length:0,pageIndex:0,pageSize:50,pageSizeOptions:[10,20,50],hidePageSize:!1,showFirstLastButtons:!1,endpoint:void 0}},t.filterPredicate=function(t,e){var n=Object.keys(t).reduce((function(e,n){return e+t[n]+"◬"}),"").toLowerCase(),o=e.trim().toLowerCase();return-1!=n.indexOf(o)},t.getHttpEventTypeToString=function(t){switch(t){case R.HttpEventType.Sent:return"'Sent (0)'";case R.HttpEventType.UploadProgress:return"'UploadProgress (1)'";case R.HttpEventType.ResponseHeader:return"'ResponseHeader (2)'";case R.HttpEventType.DownloadProgress:return"'DownloadProgress (3)'";case R.HttpEventType.Response:return"'Response (4)'";case R.HttpEventType.User:return"'User (5)'";default:return"'It does not know the code'"}},t.getPathWithLangExtension=function(t,e){return t+"."+e+".md"},t.instRepoEmpty=jt,t.isDescendant=function(t,e){do{if(t.name==e)return!0}while(""!=(t=t.__proto__).name);return!1},t.isDisabledDefault=ao,t.logComplete=function(t,e){console.log("The observable got a complete notification '"+t+"' in '"+e+"'.")},t.logError=function(t,e,n){console.log("The observable got an error '"+t+"' in '"+e+"': "+n+".")},t.mainInstEmpty=Vt,t.sortData=an,t.sortingDataAccessor=on,t.storageFactory=Cn,t.ɵa=Ee,t.ɵb=ta,t.ɵc=ma,t.ɵd=fa,t.ɵe=ga,t.ɵf=ya,t.ɵg=_a,t.ɵh=Va,t.ɵi=qa,t.ɵj=Ha,t.ɵk=Ja,t.ɵl=Ba,t.ɵm=za,t.ɵn=ja,t.ɵo=Ma,t.ɵp=Ga,t.ɵq=Ua,t.ɵr=Wa,t.ɵs=or,t.ɵt=nr,t.ɵu=rr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=toco-lib.umd.min.js.map